/* Sequences */

DROP SEQUENCE ALIAS_SEQ;
CREATE SEQUENCE ALIAS_SEQ NOCACHE;

DROP SEQUENCE RELATION_SEQ;
CREATE SEQUENCE RELATION_SEQ NOCACHE;

DROP SEQUENCE URL_SEQ;
CREATE SEQUENCE URL_SEQ NOCACHE;

DROP SEQUENCE DATA_SEQ;
CREATE SEQUENCE DATA_SEQ NOCACHE;

DROP SEQUENCE DOCUMENT_SEQ;
CREATE SEQUENCE DOC_SEQ NOCACHE;

DROP SEQUENCE DOC_REF_SEQ;
CREATE SEQUENCE DOC_REF_SEQ NOCACHE;

DROP SEQUENCE REFERENCE_AUTHOR_SEQ;
CREATE SEQUENCE REFERENCE_AUTHOR_SEQ NOCACHE;

DROP SEQUENCE REFERENCE_REFTYPE_SEQ;
CREATE SEQUENCE REFERENCE_REFTYPE_SEQ NOCACHE;

DROP SEQUENCE AUX_INTERACTION_SEQ;
CREATE SEQUENCE AUX_INTERACTION_SEQ NOCACHE;

DROP SEQUENCE EXT_SEQ;
CREATE SEQUENCE EXT_SEQ NOCACHE;

DROP SEQUENCE COLLEAGUE_LOCUS_SEQ;
CREATE SEQUENCE COLLEAGUE_LOCUS_SEQ NOCACHE;

DROP SEQUENCE COLLEAGUE_KEYWORD_SEQ;
CREATE SEQUENCE COLLEAGUE_KEYWORD_SEQ NOCACHE;


/* Basic */

DROP TABLE DBUSER CASCADE CONSTRAINTS;
CREATE TABLE DBUSER (
DBUSER_ID INTEGER NOT NULL,
USERNAME VARCHAR2(12) NOT NULL,
BUD_ID INTEGER,
FIRST_NAME VARCHAR2(40) NOT NULL,
LAST_NAME VARCHAR2(40) NOT NULL,
STATUS VARCHAR2(40) NOT NULL CHECK (STATUS IN ('Current','Former')),
EMAIL VARCHAR2(100) NOT NULL,
DATE_CREATED DATE DEFAULT SYSDATE NOT NULL,
CONSTRAINT DBUSER_PK PRIMARY KEY (DBUSER_ID),
CONSTRAINT DBUSER_UK UNIQUE (USERNAME) ) TABLESPACE DATA01;
GRANT SELECT ON DBUSER TO DBSELECT;
GRANT INSERT, SELECT, UPDATE ON DBUSER TO CURATOR;
GRANT DELETE, INSERT, SELECT, UPDATE ON DBUSER TO AUXILIARY;

DROP TABLE SOURCE CASCADE CONSTRAINTS;
CREATE TABLE SOURCE ( 
SOURCE_ID VARCHAR2(36) NOT NULL,
NAME VARCHAR2(500) NOT NULL,
OBJ_URL VARCHAR2(500),
BUD_ID INTEGER,
DESCRIPTION VARCHAR2(500),
DATE_CREATED DATE DEFAULT SYSDATE NOT NULL,
CREATED_BY VARCHAR2(12) DEFAULT SUBSTR(USER,1,12) NOT NULL, 
CONSTRAINT SOURCE_PK PRIMARY KEY (SOURCE_ID), 
CONSTRAINT SOURCE_UK UNIQUE (NAME) ) TABLESPACE DATA01;
GRANT SELECT ON SOURCE TO DBSELECT;
GRANT INSERT, SELECT, UPDATE ON SOURCE TO CURATOR;
GRANT DELETE, INSERT, SELECT, UPDATE ON SOURCE TO AUXILIARY;

DROP TABLE DELETE_LOG CASCADE CONSTRAINTS;
CREATE TABLE DELETE_LOG (
DELETE_LOG_ID INTEGER NOT NULL,
TAB_NAME VARCHAR2(30) NOT NULL,
PRIMARY_KEY INTEGER NOT NULL,
DATE_CREATED DATE DEFAULT SYSDATE NOT NULL,
CREATED_BY VARCHAR2(12) DEFAULT SUBSTR(USER,1,12) NOT NULL,
DELETED_ROW CLOB NOT NULL,
CONSTRAINT DELETE_LOG_PK PRIMARY KEY (DELETE_LOG_ID)) TABLESPACE DATA17;
GRANT SELECT ON DELETE_LOG TO DBSELECT;
GRANT DELETE, INSERT, SELECT, UPDATE ON DELETE_LOG TO CURATOR;
GRANT DELETE, INSERT, SELECT, UPDATE ON DELETE_LOG TO AUXILIARY;

DROP TABLE UPDATE_LOG CASCADE CONSTRAINTS;
CREATE TABLE UPDATE_LOG(
UPDATE_LOG_ID INTEGER NOT NULL,
TAB_NAME VARCHAR2(30) NOT NULL,
COL_NAME VARCHAR2(30) NOT NULL,
PRIMARY_KEY INTEGER NOT NULL,
DATE_CREATED DATE DEFAULT SYSDATE NOT NULL,
CREATED_BY VARCHAR2(12) DEFAULT SUBSTR(USER,1,12) NOT NULL,
OLD_VALUE CLOB,
NEW_VALUE CLOB,
CONSTRAINT UPDATE_LOG_PK PRIMARY KEY (UPDATE_LOG_ID)) TABLESPACE DATA17;
GRANT SELECT ON UPDATE_LOG TO DBSELECT;
GRANT DELETE, INSERT, SELECT, UPDATE ON UPDATE_LOG TO CURATOR;
GRANT DELETE, INSERT, SELECT, UPDATE ON UPDATE_LOG TO AUXILIARY;

/* Taxonomy - Organism */

DROP TABLE TAXONOMY CASCADE CONSTRAINTS;
CREATE TABLE TAXONOMY (
TAXONOMY_ID VARCHAR2(36) NOT NULL,
NAME VARCHAR2(500) NOT NULL,
OBJ_URL VARCHAR2(500),
SOURCE_ID VARCHAR2(36) NOT NULL,
BUD_ID INTEGER,
NCBI_TAXON_ID INTEGER,
COMMON_NAME VARCHAR2(500) NULL,
RANK VARCHAR2(40),
DESCRIPTION VARCHAR2(500),
DATE_CREATED DATE DEFAULT SYSDATE NOT NULL,
CREATED_BY VARCHAR2(12) DEFAULT SUBSTR(USER,1,12) NOT NULL,
CONSTRAINT TAXONOMY_PK PRIMARY KEY (TAXONOMY_ID),
CONSTRAINT TAXONOMY_UK UNIQUE (NCBI_TAXON_ID) ) TABLESPACE DATA01;
CREATE INDEX TAX_SOURCE_FK_INDEX ON TAXONOMY (SOURCE_ID) TABLESPACE DATA01;
ALTER TABLE TAXONOMY
ADD CONSTRAINT TAX_SOURCE_FK FOREIGN KEY (SOURCE_ID) REFERENCES SOURCE (SOURCE_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
GRANT SELECT ON TAXONOMY TO DBSELECT;
GRANT INSERT, SELECT, UPDATE ON TAXONOMY TO CURATOR;
GRANT DELETE, INSERT, SELECT, UPDATE ON TAXONOMY TO AUXILIARY;

DROP TABLE TAXONOMY_ALIAS CASCADE CONSTRAINTS;
CREATE TABLE TAXONOMY_ALIAS (
ALIAS_ID INTEGER NOT NULL,
NAME VARCHAR2(500) NOT NULL,
OBJ_URL VARCHAR2(500),
SOURCE_ID VARCHAR2(36) NOT NULL,
BUD_ID INTEGER,
TAXONOMY_ID VARCHAR2(36) NOT NULL,
ALIAS_TYPE VARCHAR2(40) NOT NULL CHECK (ALIAS_TYPE IN ('Synonym', 'Secondary common name')),
DATE_CREATED DATE DEFAULT SYSDATE NOT NULL,
CREATED_BY VARCHAR2(12) DEFAULT SUBSTR(USER,1,12) NOT NULL,
CONSTRAINT TAXONOMY_ALIAS_PK PRIMARY KEY (ALIAS_ID),
CONSTRAINT TAXONOMY_ALIAS_UK UNIQUE (TAXONOMY_ID, NAME, ALIAS_TYPE) ) TABLESPACE DATA01;
CREATE INDEX TAX_ALIAS_SOURCE_FK_INDEX ON TAXONOMY_ALIAS (SOURCE_ID) TABLESPACE DATA01;
ALTER TABLE TAXONOMY_ALIAS
ADD CONSTRAINT TAXONOMY_ALIAS_TAX_FK FOREIGN KEY (TAXONOMY_ID) REFERENCES TAXONOMY (TAXONOMY_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE TAXONOMY_ALIAS
ADD CONSTRAINT TAXONOMY_ALIAS_SOURCE_FK FOREIGN KEY (SOURCE_ID) REFERENCES SOURCE (SOURCE_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
GRANT SELECT ON TAXONOMY_ALIAS TO DBSELECT;
GRANT DELETE, INSERT, SELECT, UPDATE ON TAXONOMY_ALIAS TO CURATOR;
GRANT DELETE, INSERT, SELECT, UPDATE ON TAXONOMY_ALIAS TO AUXILIARY;

DROP TABLE TAXONOMY_RELATION CASCADE CONSTRAINTS;
CREATE TABLE TAXONOMY_RELATION (
RELATION_ID INTEGER NOT NULL,
SOURCE_ID VARCHAR2(36) NOT NULL,
BUD_ID INTEGER,
PARENT_ID VARCHAR2(36) NOT NULL,
CHILD_ID VARCHAR2(36) NOT NULL,
RELATION_TYPE VARCHAR2(40) NOT NULL CHECK (RELATION_TYPE in ('is a')),
DATE_CREATED DATE DEFAULT SYSDATE NOT NULL,
CREATED_BY VARCHAR2(12) DEFAULT SUBSTR(USER,1,12) NOT NULL,
CONSTRAINT TAXONOMY_RELATION_PK PRIMARY KEY (RELATION_ID),
CONSTRAINT TAXONOMY_RELATION_UK UNIQUE(RELATION_TYPE, PARENT_ID, CHILD_ID)) TABLESPACE DATA01;
CREATE INDEX TAX_REL_PARENT_FK_INDEX ON TAXONOMY_RELATION (PARENT_ID) TABLESPACE DATA01;
CREATE INDEX TAX_REL_CHILD_FK_INDEX ON TAXONOMY_RELATION (CHILD_ID) TABLESPACE DATA01;
CREATE INDEX TAX_REL_SOURCE_FK_INDEX ON TAXONOMY_RELATION (SOURCE_ID) TABLESPACE DATA01;
ALTER TABLE TAXONOMY_RELATION
ADD CONSTRAINT TAX_REL_CHILD_FK FOREIGN KEY (CHILD_ID) REFERENCES TAXONOMY (TAXONOMY_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE TAXONOMY_RELATION
ADD CONSTRAINT TAX_REL_PARENT_FK FOREIGN KEY (PARENT_ID) REFERENCES TAXONOMY (TAXONOMY_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE TAXONOMY_RELATION
ADD CONSTRAINT TAX_REL_SOURCE_FK FOREIGN KEY (SOURCE_ID) REFERENCES SOURCE (SOURCE_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
GRANT SELECT ON TAXONOMY_RELATION TO DBSELECT;
GRANT DELETE, INSERT, SELECT, UPDATE ON TAXONOMY_RELATION TO CURATOR;
GRANT DELETE, INSERT, SELECT, UPDATE ON TAXONOMY_RELATION TO AUXILIARY;

/* Dbentity (Locus, Pathway, Strain) */

DROP TABLE DBENTITY CASCADE CONSTRAINTS;
CREATE TABLE DBENTITY (
DBENTITY_ID VARCHAR2(36) NOT NULL,
NAME VARCHAR2(500) NOT NULL,
OBJ_URL VARCHAR2(500) NOT NULL,
SOURCE_ID VARCHAR2(36) NOT NULL,
BUD_ID INTEGER,
SGDID VARCHAR2(40) NOT NULL,
SUBCLASS VARCHAR2(40) NOT NULL CHECK (SUBCLASS IN ('LOCUS', 'REFERENCE', 'COMPLEX', 'PATHWAY', 'STRAIN', 'DBENTITY')),
DBENTITY_STATUS VARCHAR2(40) CHECK (DBENTITY_STATUS IN ('Active', 'Merged', 'Deleted')),
DESCRIPTION VARCHAR2(500),
DATE_CREATED DATE DEFAULT SYSDATE NOT NULL,
CREATED_BY VARCHAR2(12) DEFAULT SUBSTR(USER,1,12) NOT NULL,
CONSTRAINT DBENTITY_PK PRIMARY KEY (DBENTITY_ID),
CONSTRAINT DBENTITY_SGD_UK UNIQUE(SGDID)) TABLESPACE DATA02;
CREATE INDEX DBENTITY_SOURCE_FK_INDEX ON DBENTITY (SOURCE_ID) TABLESPACE DATA02;
ALTER TABLE DBENTITY
ADD CONSTRAINT DBENTITY_SOURCE_FK FOREIGN KEY (SOURCE_ID) REFERENCES SOURCE (SOURCE_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
GRANT SELECT ON DBENTITY TO DBSELECT;
GRANT INSERT, SELECT, UPDATE ON DBENTITY TO CURATOR;
GRANT DELETE, INSERT, SELECT, UPDATE ON DBENTITY TO AUXILIARY;

DROP TABLE LOCUSDBENTITY CASCADE CONSTRAINTS;
CREATE TABLE LOCUSDBENTITY (
DBENTITY_ID VARCHAR2(36) NOT NULL,
LOCUS_TYPE VARCHAR2(40) NOT NULL,
SYSTEMATIC_NAME VARCHAR2(40) NOT NULL,
GENE_NAME VARCHAR2(100),
NAME_DESCRIPTION VARCHAR2(100),
HEADLINE VARCHAR2(70),
QUALIFIER VARCHAR2(40) CHECK (QUALIFIER IN ('Verified', 'Uncharacterized', 'Dubious')),
GENETIC_POSITION VARCHAR2(40),
DESCRIPTION VARCHAR2(500),
HAS_SUMMARY NUMBER(1) NOT NULL CHECK (HAS_SUMMARY IN (1, 0)),
HAS_SEQUENCE NUMBER(1) NOT NULL CHECK (HAS_SEQUENCE IN (1, 0)),
HAS_HISTORY NUMBER(1) NOT NULL CHECK (HAS_HISTORY IN (1, 0)),
HAS_LITERATURE NUMBER(1) NOT NULL CHECK (HAS_LITERATURE IN (1, 0)),
HAS_GO NUMBER(1) NOT NULL CHECK (HAS_GO IN (1, 0)),
HAS_PHENOTYPE NUMBER(1) NOT NULL CHECK (HAS_PHENOTYPE IN (1, 0)),
HAS_INTERACTION NUMBER(1) NOT NULL CHECK (HAS_INTERACTION IN (1, 0)),
HAS_EXPRESSION NUMBER(1) NOT NULL CHECK (HAS_EXPRESSION IN (1, 0)),
HAS_REGULATION NUMBER(1) NOT NULL CHECK (HAS_REGULATION IN (1, 0)),
HAS_PROTEIN NUMBER(1) NOT NULL CHECK (HAS_PROTEIN IN (1, 0)),
HAS_SEQUENCE_SECTION NUMBER(1) NOT NULL CHECK (HAS_SEQUENCE_SECTION IN (1, 0)),
CONSTRAINT LOCUSDBENTITY_PK PRIMARY KEY (DBENTITY_ID) ) TABLESPACE DATA02;
ALTER TABLE LOCUSDBENTITY
ADD CONSTRAINT LOCUSDBENTITY_LOCUS_FK FOREIGN KEY (DBENTITY_ID) REFERENCES DBENTITY (DBENTITY_ID);
GRANT DELETE, INSERT, SELECT, UPDATE ON LOCUSDBENTITY TO CURATOR;
GRANT DELETE, INSERT, SELECT, UPDATE ON LOCUSDBENTITY TO AUXILIARY;

DROP TABLE LOCUS_ALIAS CASCADE CONSTRAINTS;
CREATE TABLE LOCUS_ALIAS (
ALIAS_ID INTEGER NOT NULL,
NAME VARCHAR2(500) NOT NULL,
OBJ_URL VARCHAR2(500),
SOURCE_ID VARCHAR2(36) NOT NULL,
BUD_ID INTEGER,
LOCUS_ID VARCHAR2(36) NOT NULL,
IS_EXTERNAL_ID NUMBER(1) NOT NULL CHECK (IS_EXTERNAL_ID IN (1, 0)),
ALIAS_TYPE VARCHAR2(40) NOT NULL,
DATE_CREATED DATE DEFAULT SYSDATE NOT NULL,
CREATED_BY VARCHAR2(12) DEFAULT SUBSTR(USER,1,12) NOT NULL,
CONSTRAINT LOCUS_ALIAS_PK PRIMARY KEY (ALIAS_ID),
CONSTRAINT LOCUS_ALIAS_UK UNIQUE (LOCUS_ID, NAME, ALIAS_TYPE) ) TABLESPACE DATA02;
CREATE INDEX LOCUS_ALIAS_SOURCE_FK_INDEX ON LOCUS_ALIAS (SOURCE_ID) TABLESPACE DATA02;
ALTER TABLE LOCUS_ALIAS
ADD CONSTRAINT LOCUS_ALIAS_LOCUS_FK FOREIGN KEY (LOCUS_ID) REFERENCES LOCUSDBENTITY (DBENTITY_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE LOCUS_ALIAS
ADD CONSTRAINT LOCUS_ALIAS_SOURCE_FK FOREIGN KEY (SOURCE_ID) REFERENCES SOURCE (SOURCE_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
GRANT SELECT ON LOCUS_ALIAS TO DBSELECT;
GRANT DELETE, INSERT, SELECT, UPDATE ON LOCUS_ALIAS TO CURATOR;
GRANT DELETE, INSERT, SELECT, UPDATE ON LOCUS_ALIAS TO AUXILIARY;

DROP TABLE LOCUS_RELATION CASCADE CONSTRAINTS;
CREATE TABLE LOCUS_RELATION (
RELATION_ID INTEGER NOT NULL,
SOURCE_ID VARCHAR2(36) NOT NULL,
BUD_ID INTEGER,
PARENT_ID VARCHAR2(36) NOT NULL,
CHILD_ID VARCHAR2(36) NOT NULL,
RELATION_TYPE VARCHAR2(40) NOT NULL CHECK (RELATION_TYPE IN ('pair', 'part of', 'adjacent to')),
DATE_CREATED DATE DEFAULT SYSDATE NOT NULL,
CREATED_BY VARCHAR2(12) DEFAULT SUBSTR(USER,1,12) NOT NULL,
CONSTRAINT LOCUS_RELATION_PK PRIMARY KEY (RELATION_ID),
CONSTRAINT LOCUS_RELATION_UK UNIQUE(RELATION_TYPE, PARENT_ID, CHILD_ID)) TABLESPACE DATA02;
CREATE INDEX LOCUS_REL_PARENT_FK_INDEX ON LOCUS_RELATION (PARENT_ID) TABLESPACE DATA02;
CREATE INDEX LOCUS_REL_CHILD_FK_INDEX ON LOCUS_RELATION (CHILD_ID) TABLESPACE DATA02;
CREATE INDEX LOCUS_REL_SOURCE_FK_INDEX ON LOCUS_RELATION (SOURCE_ID) TABLESPACE DATA02;
ALTER TABLE LOCUS_RELATION
ADD CONSTRAINT LOCUS_REL_CHILD_FK FOREIGN KEY (CHILD_ID) REFERENCES LOCUSDBENTITY (DBENTITY_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE LOCUS_RELATION
ADD CONSTRAINT LOCUS_REL_PARENT_FK FOREIGN KEY (PARENT_ID) REFERENCES LOCUSDBENTITY (DBENTITY_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE LOCUS_RELATION
ADD CONSTRAINT LOCUS_REL_SOURCE_FK FOREIGN KEY (SOURCE_ID) REFERENCES SOURCE (SOURCE_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
GRANT SELECT ON LOCUS_RELATION TO DBSELECT;
GRANT DELETE, INSERT, SELECT, UPDATE ON LOCUS_RELATION TO CURATOR;
GRANT DELETE, INSERT, SELECT, UPDATE ON LOCUS_RELATION TO AUXILIARY;

DROP TABLE LOCUS_URL CASCADE CONSTRAINTS;
CREATE TABLE LOCUS_URL (
URL_ID INTEGER NOT NULL,
NAME VARCHAR2(500) NOT NULL,
OBJ_URL VARCHAR2(500) NOT NULL,
SOURCE_ID VARCHAR2(36) NOT NULL,
BUD_ID INTEGER,
LOCUS_ID VARCHAR2(36) NOT NULL,
URL_TYPE VARCHAR2(40) NOT NULL CHECK (URL_TYPE IN ('CGI', 'External identifier', 'Systematic name', 'SGDID')),
PLACEMENT VARCHAR2(40),
DATE_CREATED DATE DEFAULT SYSDATE NOT NULL,
CREATED_BY VARCHAR2(12) DEFAULT SUBSTR(USER,1,12) NOT NULL,
CONSTRAINT LOCUS_URL_PK PRIMARY KEY (URL_ID),
CONSTRAINT LOCUS_URL_UK UNIQUE (LOCUS_ID, NAME, PLACEMENT, URL_TYPE) ) TABLESPACE DATA02;
CREATE INDEX LOCUS_URL_SOURCE_FK_INDEX ON LOCUS_URL (SOURCE_ID) TABLESPACE DATA02;
ALTER TABLE LOCUS_URL
ADD CONSTRAINT LOCUS_URL_SOURCE_FK FOREIGN KEY (SOURCE_ID) REFERENCES SOURCE (SOURCE_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE LOCUS_URL
ADD CONSTRAINT LOCUS_URL_LOCUS_FK FOREIGN KEY (LOCUS_ID) REFERENCES LOCUSDBENTITY (DBENTITY_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
GRANT SELECT ON LOCUS_URL TO DBSELECT;
GRANT DELETE, INSERT, SELECT, UPDATE ON LOCUS_URL TO CURATOR;
GRANT DELETE, INSERT, SELECT, UPDATE ON LOCUS_URL TO AUXILIARY;

DROP TABLE LOCUS_DOCUMENT CASCADE CONSTRAINTS;
CREATE TABLE LOCUS_DOCUMENT (
DOCUMENT_ID INTEGER NOT NULL,
DOCUMENT_TYPE VARCHAR2(40) NOT NULL CHECK (DOCUMENT_TYPE IN ('Paragraph', 'Go', 'Regulation', 'Phenotype')),
DOCUMENT_ORDER INTEGER DEFAULT 1 NOT NULL,
TEXT CLOB NOT NULL,
HTML CLOB NOT NULL,
SOURCE_ID VARCHAR2(36) NOT NULL,
BUD_ID INTEGER,
LOCUS_ID VARCHAR2(36) NOT NULL,
DATE_CREATED DATE DEFAULT SYSDATE NOT NULL,
CREATED_BY VARCHAR2(12) DEFAULT SUBSTR(USER,1,12) NOT NULL,
CONSTRAINT LOCUS_DOCUMENT_PK PRIMARY KEY (DOCUMENT_ID),
CONSTRAINT LOCUS_DOCUMENT_UK UNIQUE (LOCUS_ID, DOCUMENT_TYPE, DOCUMENT_ORDER)) TABLESPACE DATA04;
CREATE INDEX LOC_DOC_SOURCE_FK_INDEX ON LOCUS_DOCUMENT (SOURCE_ID) TABLESPACE DATA04;
CREATE INDEX LOC_DOC_LOC_FK_INDEX ON LOCUS_DOCUMENT (LOCUS_ID) TABLESPACE DATA04;
ALTER TABLE LOCUS_DOCUMENT
ADD CONSTRAINT LOC_DOC_SOURCE_FK FOREIGN KEY (SOURCE_ID) REFERENCES SOURCE (SOURCE_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE LOCUS_DOCUMENT
ADD CONSTRAINT LOC_DOC_LOCUS_FK FOREIGN KEY (LOCUS_ID) REFERENCES LOCUSDBENTITY (DBENTITY_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
GRANT SELECT ON LOCUS_DOCUMENT TO DBSELECT;
GRANT DELETE, INSERT, SELECT, UPDATE ON LOCUS_DOCUMENT TO CURATOR;
GRANT DELETE, INSERT, SELECT, UPDATE ON LOCUS_DOCUMENT TO AUXILIARY;

DROP TABLE LOCUS_DOCUMENT_REFERENCE CASCADE CONSTRAINTS;
CREATE TABLE LOCUS_DOCUMENT_REFERENCE (
DOCUMENT_REFERENCE_ID INTEGER NOT NULL,
DOCUMENT_ID INTEGER NOT NULL,
REFERENCE_ID VARCHAR2(36) NOT NULL,
REFERENCE_ORDER INTEGER,
SOURCE_ID VARCHAR2(36) NOT NULL,
DATE_CREATED DATE DEFAULT SYSDATE NOT NULL,
CREATED_BY VARCHAR2(12) DEFAULT SUBSTR(USER,1,12) NOT NULL,
CONSTRAINT LOCUS_DOCUMENT_REFERENCE_PK PRIMARY KEY (DOCUMENT_REFERENCE_ID),
CONSTRAINT LOCUS_DOCUMENT_REFERENCE_UK UNIQUE (DOCUMENT_ID, REFERENCE_ID)) TABLESPACE DATA04;
CREATE INDEX LOC_DOC_REF_SOURCE_FK_INDEX ON LOCUS_DOCUMENT_REFERENCE (SOURCE_ID) TABLESPACE DATA04;
CREATE INDEX LOC_DOC_REF_DOC_FK_INDEX ON LOCUS_DOCUMENT_REFERENCE (DOCUMENT_ID) TABLESPACE DATA04;
ALTER TABLE LOCUS_DOCUMENT_REFERENCE
ADD CONSTRAINT LOC_DOC_REF_SOURCE_FK FOREIGN KEY (SOURCE_ID) REFERENCES SOURCE (SOURCE_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE LOCUS_DOCUMENT_REFERENCE
ADD CONSTRAINT LOC_DOC_REF_DOC_FK FOREIGN KEY (DOCUMENT_ID) REFERENCES LOCUS_DOCUMENT (DOCUMENT_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE LOCUS_DOCUMENT_REFERENCE
ADD CONSTRAINT LOC_DOC_REF_REF_FK FOREIGN KEY (REFERENCE_ID) REFERENCES REFERENCEDBENTITY (DBENTITY_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
GRANT SELECT ON LOCUS_DOCUMENT_REFERENCE TO DBSELECT;
GRANT DELETE, INSERT, SELECT, UPDATE ON LOCUS_DOCUMENT_REFERENCE TO CURATOR;
GRANT DELETE, INSERT, SELECT, UPDATE ON LOCUS_DOCUMENT_REFERENCE TO AUXILIARY;

DROP TABLE PATHWAYDBENTITY CASCADE CONSTRAINTS;
CREATE TABLE PATHWAYDBENTITY (
DBENTITY_ID VARCHAR2(36) NOT NULL,
CONSTRAINT PATHWAYDBENTITY_PK PRIMARY KEY (DBENTITY_ID) ) TABLESPACE DATA05;
ALTER TABLE PATHWAYDBENTITY
ADD CONSTRAINT PATHWAY_FK FOREIGN KEY (DBENTITY_ID) REFERENCES DBENTITY (DBENTITY_ID);
GRANT SELECT ON PATHWAYDBENTITY TO DBSELECT;
GRANT DELETE, INSERT, SELECT, UPDATE ON PATHWAYDBENTITY TO CURATOR;
GRANT DELETE, INSERT, SELECT, UPDATE ON PATHWAYDBENTITY TO AUXILIARY;

DROP TABLE STRAINDBENTITY CASCADE CONSTRAINTS;
CREATE TABLE STRAINDBENTITY (
DBENTITY_ID VARCHAR2(36) NOT NULL,
TAXONOMY_ID VARCHAR2(36) NOT NULL,
STRAIN_TYPE VARCHAR2(40) NOT NULL CHECK (STRAIN_TYPE IN ('Reference', 'Alternative Reference', 'Other')),
GENOTYPE VARCHAR2(500),
GENBANK_ID VARCHAR2(40),
ASSEMBLY_SIZE INTEGER,
FOLD_COVERAGE INTEGER,
SCAFFOLD_NUMBER INTEGER,
LONGEST_SCAFFOLD INTEGER,
SCAFFOLD_NFIFTY INTEGER,
CONSTRAINT STRAINDBENTITY_PK PRIMARY KEY (DBENTITY_ID)) TABLESPACE DATA01;
CREATE INDEX STRAINDBENTITY_TAX_FK_INDEX ON STRAINDBENTITY (TAXONOMY_ID) TABLESPACE DATA01;
ALTER TABLE STRAINDBENTITY
ADD CONSTRAINT STRAINDBENTITY_DBENTITY_FK FOREIGN KEY (DBENTITY_ID) REFERENCES DBENTITY (DBENTITY_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE STRAINDBENTITY
ADD CONSTRAINT STRAINDBENTITY_TAXONOMY_FK FOREIGN KEY (TAXONOMY_ID) REFERENCES TAXONOMY (TAXONOMY_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
GRANT SELECT ON STRAINDBENTITY TO DBSELECT;
GRANT INSERT, SELECT, UPDATE ON STRAINDBENTITY TO CURATOR;
GRANT DELETE, INSERT, SELECT, UPDATE ON STRAINDBENTITY TO AUXILIARY;

DROP TABLE STRAIN_URL CASCADE CONSTRAINTS;
CREATE TABLE STRAIN_URL (
URL_ID INTEGER NOT NULL,
NAME VARCHAR2(500) NOT NULL,
OBJ_URL VARCHAR2(500) NOT NULL,
SOURCE_ID VARCHAR2(36) NOT NULL,
BUD_ID INTEGER,
STRAIN_ID VARCHAR2(36) NOT NULL,
URL_TYPE VARCHAR2(40) NOT NULL CHECK (URL_TYPE IN ('download', 'genebank', 'pubmed', 'source', 'wiki')),
DATE_CREATED DATE DEFAULT SYSDATE NOT NULL,
CREATED_BY VARCHAR2(12) DEFAULT SUBSTR(USER,1,12) NOT NULL,
CONSTRAINT STRAIN_URL_PK PRIMARY KEY (URL_ID),
CONSTRAINT STRAIN_URL_UK UNIQUE (STRAIN_ID, NAME, URL_TYPE) ) TABLESPACE DATA01;
CREATE INDEX STRAIN_URL_SOURCE_FK_INDEX ON STRAIN_URL (SOURCE_ID) TABLESPACE DATA01;
ALTER TABLE STRAIN_URL
ADD CONSTRAINT STRAIN_URL_SOURCE_FK FOREIGN KEY (SOURCE_ID) REFERENCES SOURCE (SOURCE_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE STRAIN_URL
ADD CONSTRAINT STRAIN_URL_STRAIN_FK FOREIGN KEY (STRAIN_ID) REFERENCES STRAINDBENTITY (DBENTITY_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
GRANT SELECT ON STRAIN_URL TO DBSELECT;
GRANT INSERT, SELECT, UPDATE ON STRAIN_URL TO CURATOR;
GRANT DELETE, INSERT, SELECT, UPDATE ON STRAIN_URL TO AUXILIARY;

DROP TABLE STRAIN_DOCUMENT CASCADE CONSTRAINTS;
CREATE TABLE STRAIN_DOCUMENT (
DOCUMENT_ID INTEGER NOT NULL,
DOCUMENT_TYPE VARCHAR2(40) NOT NULL CHECK (DOCUMENT_TYPE IN ('Paragraph')),
TEXT CLOB NOT NULL,
HTML CLOB NOT NULL,
SOURCE_ID VARCHAR2(36) NOT NULL,
BUD_ID INTEGER,
STRAIN_ID VARCHAR2(36) NOT NULL,
DATE_CREATED DATE DEFAULT SYSDATE NOT NULL,
CREATED_BY VARCHAR2(12) DEFAULT SUBSTR(USER,1,12) NOT NULL,
CONSTRAINT STRAIN_DOCUMENT_PK PRIMARY KEY (DOCUMENT_ID),
CONSTRAINT STRAIN_DOCUMENT_UK UNIQUE (STRAIN_ID, DOCUMENT_TYPE)) TABLESPACE DATA01;
CREATE INDEX STRAIN_DOC_SOURCE_FK_INDEX ON STRAIN_DOCUMENT (SOURCE_ID) TABLESPACE DATA01;
CREATE INDEX STRAIN_DOC_STRAIN_FK_INDEX ON STRAIN_DOCUMENT (STRAIN_ID) TABLESPACE DATA01;
ALTER TABLE STRAIN_DOCUMENT
ADD CONSTRAINT STRAIN_DOC_SOURCE_FK FOREIGN KEY (SOURCE_ID) REFERENCES SOURCE (SOURCE_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE STRAIN_DOCUMENT
ADD CONSTRAINT LOC_DOC_LOC_FK FOREIGN KEY (STRAIN_ID) REFERENCES STRAINDBENTITY (DBENTITY_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
GRANT SELECT ON STRAIN_DOCUMENT TO DBSELECT;
GRANT DELETE, INSERT, SELECT, UPDATE ON STRAIN_DOCUMENT TO CURATOR;
GRANT DELETE, INSERT, SELECT, UPDATE ON STRAIN_DOCUMENT TO AUXILIARY;

DROP TABLE STRAIN_DOCUMENT_REFERENCE CASCADE CONSTRAINTS;
CREATE TABLE STRAIN_DOCUMENT_REFERENCE (
DOCUMENT_REFERENCE_ID INTEGER NOT NULL,
DOCUMENT_ID INTEGER NOT NULL,
REFERENCE_ID VARCHAR2(36) NOT NULL,
REFERENCE_ORDER INTEGER,
SOURCE_ID VARCHAR2(36) NOT NULL,
DATE_CREATED DATE DEFAULT SYSDATE NOT NULL,
CREATED_BY VARCHAR2(12) DEFAULT SUBSTR(USER,1,12) NOT NULL,
CONSTRAINT STRAIN_DOCUMENT_REFERENCE_PK PRIMARY KEY (DOCUMENT_REFERENCE_ID),
CONSTRAINT STRAIN_DOCUMENT_REFERENCE_UK UNIQUE (DOCUMENT_ID, REFERENCE_ID)) TABLESPACE DATA01;
CREATE INDEX STRAIN_DOC_REF_SOURCE_FK_INDEX ON STRAIN_DOCUMENT_REFERENCE (SOURCE_ID) TABLESPACE DATA01;
CREATE INDEX STRAIN_DOC_REF_DOC_FK_INDEX ON STRAIN_DOCUMENT_REFERENCE (DOCUMENT_ID) TABLESPACE DATA01;
ALTER TABLE STRAIN_DOCUMENT_REFERENCE
ADD CONSTRAINT STRAIN_DOC_REF_SOURCE_FK FOREIGN KEY (SOURCE_ID) REFERENCES SOURCE (SOURCE_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE STRAIN_DOCUMENT_REFERENCE
ADD CONSTRAINT STRAIN_DOC_REF_DOC_FK FOREIGN KEY (DOCUMENT_ID) REFERENCES STRAIN_DOCUMENT (DOCUMENT_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE STRAIN_DOCUMENT_REFERENCE
ADD CONSTRAINT STRAIN_DOC_REF_REF_FK FOREIGN KEY (REFERENCE_ID) REFERENCES REFERENCEDBENTITY (DBENTITY_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
GRANT SELECT ON STRAIN_DOCUMENT_REFERENCE TO DBSELECT;
GRANT DELETE, INSERT, SELECT, UPDATE ON STRAIN_DOCUMENT_REFERENCE TO CURATOR;
GRANT DELETE, INSERT, SELECT, UPDATE ON STRAIN_DOCUMENT_REFERENCE TO AUXILIARY;

/* Reference */

DROP TABLE BOOK CASCADE CONSTRAINTS;
CREATE TABLE BOOK (
BOOK_ID VARCHAR2(36) NOT NULL,
NAME VARCHAR2(500) NOT NULL,
OBJ_URL VARCHAR2(500),
SOURCE_ID VARCHAR2(36) NOT NULL,
BUD_ID INTEGER,
TITLE VARCHAR2(200) NOT NULL,
VOLUME_TITLE VARCHAR2(200),
ISBN VARCHAR2(20),
TOTAL_PAGES INTEGER,
PUBLISHER VARCHAR2(100),
PUBLISHER_LOCATION VARCHAR2(100),
DATE_CREATED DATE DEFAULT SYSDATE NOT NULL,
CREATED_BY VARCHAR2(12) DEFAULT SUBSTR(USER,1,12) NOT NULL,
CONSTRAINT BOOK_PK PRIMARY KEY (BOOK_ID),
CONSTRAINT BOOK_UK UNIQUE (TITLE, VOLUME_TITLE) ) TABLESPACE DATA04;
CREATE INDEX BOOK_SOURCE_FK_INDEX ON BOOK (SOURCE_ID) TABLESPACE DATA04;
ALTER TABLE BOOK
ADD CONSTRAINT BOOK_SOURCE_FK FOREIGN KEY (SOURCE_ID) REFERENCES SOURCE (SOURCE_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
GRANT SELECT ON BOOK TO DBSELECT;
GRANT DELETE, INSERT, SELECT, UPDATE ON BOOK TO CURATOR;
GRANT DELETE, INSERT, SELECT, UPDATE ON BOOK TO AUXILIARY;

DROP TABLE JOURNAL CASCADE CONSTRAINTS;
CREATE TABLE JOURNAL (
JOURNAL_ID VARCHAR2(36) NOT NULL,
NAME VARCHAR2(500) NOT NULL,
OBJ_URL VARCHAR2(500),
SOURCE_ID VARCHAR2(36) NOT NULL,
BUD_ID INTEGER,
MED_ABBR VARCHAR2(100),
TITLE VARCHAR2(200),
ISSN_PRINT VARCHAR2(20),
ISSN_ONLINE VARCHAR2(20),
DATE_CREATED DATE DEFAULT SYSDATE NOT NULL,
CREATED_BY VARCHAR2(12) DEFAULT SUBSTR(USER,1,12) NOT NULL,
CONSTRAINT JOURNAL_PK PRIMARY KEY (JOURNAL_ID),
CONSTRAINT JOURNAL_UK UNIQUE (MED_ABBR, TITLE) ) TABLESPACE DATA04;
CREATE INDEX JOURNAL_SOURCE_FK_INDEX ON JOURNAL (SOURCE_ID) TABLESPACE DATA04;
ALTER TABLE JOURNAL
ADD CONSTRAINT JOURNAL_SOURCE_FK FOREIGN KEY (SOURCE_ID) REFERENCES SOURCE (SOURCE_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
GRANT SELECT ON JOURNAL TO DBSELECT;
GRANT DELETE, INSERT, SELECT, UPDATE ON JOURNAL TO CURATOR;
GRANT DELETE, INSERT, SELECT, UPDATE ON JOURNAL TO AUXILIARY;

DROP TABLE REFERENCEDBENTITY CASCADE CONSTRAINTS;
CREATE TABLE REFERENCEDBENTITY (
DBENTITY_ID VARCHAR2(36) NOT NULL,
METHOD_OBTAINED VARCHAR2(40) NOT NULL CHECK (METHOD_OBTAINED IN ('Epub ahead of print', 'In preparation', 'In press', 'Published', 'Submitted', 'Unpublished')),
FULLTEXT_STATUS VARCHAR2(40) NOT NULL CHECK (FULLTEXT_STATUS IN ('N', 'NAA', 'NAM', 'NAP', 'Y', 'YF', 'YT')),
CITATION VARCHAR2(500) NOT NULL,
YEAR NUMBER(4) NOT NULL,
PUBMED_ID INTEGER,
PUBMED_CENTRAL_ID VARCHAR2(40),
DATE_PUBLISHED VARCHAR2(40),
DATE_REVISED DATE,
ISSUE VARCHAR2(100),
PAGE VARCHAR2(40),
VOLUME VARCHAR2(40),
TITLE VARCHAR2(400),
JOURNAL_ID VARCHAR2(36),
BOOK_ID VARCHAR2(36),
DOI VARCHAR2(100),
CONSTRAINT REFERENCE_PK PRIMARY KEY (DBENTITY_ID),
CONSTRAINT REFERENCE_CITATION_UK UNIQUE (CITATION)) TABLESPACE DATA04;
CREATE INDEX REF_BOOK_FK_INDEX ON REFERENCEDBENTITY (BOOK_ID) TABLESPACE DATA04;
CREATE INDEX REF_JOURNAL_FK_INDEX ON REFERENCEDBENTITY (JOURNAL_ID) TABLESPACE DATA04;
ALTER TABLE REFERENCEDBENTITY
ADD CONSTRAINT REFERENCE_FK FOREIGN KEY (DBENTITY_ID) REFERENCES DBENTITY (DBENTITY_ID);
ALTER TABLE REFERENCEDBENTITY
ADD CONSTRAINT REF_JOURNAL_FK FOREIGN KEY (JOURNAL_ID) REFERENCES JOURNAL (JOURNAL_ID)
ON DELETE SET NULL NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE REFERENCEDBENTITY
ADD CONSTRAINT REF_BOOK_FK FOREIGN KEY (BOOK_ID) REFERENCES BOOK (BOOK_ID)
ON DELETE SET NULL NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
GRANT SELECT ON REFERENCEDBENTITY TO DBSELECT;
GRANT DELETE, INSERT, SELECT, UPDATE ON REFERENCEDBENTITY TO CURATOR;
GRANT DELETE, INSERT, SELECT, UPDATE ON REFERENCEDBENTITY TO AUXILIARY;

DROP TABLE REFERENCE_ALIAS CASCADE CONSTRAINTS;
CREATE TABLE REFERENCE_ALIAS (
ALIAS_ID INTEGER NOT NULL,
NAME VARCHAR2(500) NOT NULL,
OBJ_URL VARCHAR2(500),
SOURCE_ID VARCHAR2(36) NOT NULL,
BUD_ID INTEGER,
REFERENCE_ID VARCHAR2(36) NOT NULL,
ALIAS_TYPE VARCHAR2(40) NOT NULL CHECK (ALIAS_TYPE IN ('DBID Primary', 'DBID Secondary')),
DATE_CREATED DATE DEFAULT SYSDATE NOT NULL,
CREATED_BY VARCHAR2(12) DEFAULT SUBSTR(USER,1,12) NOT NULL,
CONSTRAINT REFERENCE_ALIAS_PK PRIMARY KEY (ALIAS_ID),
CONSTRAINT REFERENCE_ALIAS_UK UNIQUE (REFERENCE_ID, NAME, ALIAS_TYPE) ) TABLESPACE DATA04;
CREATE INDEX REF_ALIAS_SOURCE_FK_INDEX ON REFERENCE_ALIAS (SOURCE_ID) TABLESPACE DATA04;
ALTER TABLE REFERENCE_ALIAS
ADD CONSTRAINT REF_ALIAS_SOURCE_FK FOREIGN KEY (SOURCE_ID) REFERENCES SOURCE (SOURCE_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE REFERENCE_ALIAS
ADD CONSTRAINT REF_ALIAS_REF_FK FOREIGN KEY (REFERENCE_ID) REFERENCES REFERENCEDBENTITY (DBENTITY_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
GRANT SELECT ON REFERENCE_ALIAS TO DBSELECT;
GRANT DELETE, INSERT, SELECT, UPDATE ON REFERENCE_ALIAS TO CURATOR;
GRANT DELETE, INSERT, SELECT, UPDATE ON REFERENCE_ALIAS TO AUXILIARY;

DROP TABLE REFERENCE_RELATION CASCADE CONSTRAINTS;
CREATE TABLE REFERENCE_RELATION (
RELATION_ID INTEGER NOT NULL,
SOURCE_ID VARCHAR2(36) NOT NULL,
PARENT_ID VARCHAR2(36) NOT NULL,
CHILD_ID VARCHAR2(36) NOT NULL,
RELATION_TYPE VARCHAR2(40) NOT NULL,
DATE_CREATED DATE DEFAULT SYSDATE NOT NULL,
CREATED_BY VARCHAR2(12) DEFAULT SUBSTR(USER,1,12) NOT NULL,
CONSTRAINT REFERENCE_RELATION_PK PRIMARY KEY (RELATION_ID),
CONSTRAINT REFERENCE_RELATION_UK UNIQUE(RELATION_TYPE, PARENT_ID, CHILD_ID)) TABLESPACE DATA04;
CREATE INDEX REF_REL_PARENT_FK_INDEX ON REFERENCE_RELATION (PARENT_ID) TABLESPACE DATA04;
CREATE INDEX REF_REL_CHILD_FK_INDEX ON REFERENCE_RELATION (CHILD_ID) TABLESPACE DATA04;
CREATE INDEX REF_REL_SOURCE_FK_INDEX ON REFERENCE_RELATION (SOURCE_ID) TABLESPACE DATA04;
ALTER TABLE REFERENCE_RELATION
ADD CONSTRAINT REF_REL_CHILD_FK FOREIGN KEY (CHILD_ID) REFERENCES REFERENCEDBENTITY (DBENTITY_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE REFERENCE_RELATION
ADD CONSTRAINT REF_REL_PARENT_FK FOREIGN KEY (PARENT_ID) REFERENCES REFERENCEDBENTITY (DBENTITY_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE REFERENCE_RELATION
ADD CONSTRAINT REFERENCE_REL_SOURCE_FK FOREIGN KEY (SOURCE_ID) REFERENCES SOURCE (SOURCE_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
GRANT SELECT ON REFERENCE_RELATION TO DBSELECT;
GRANT DELETE, INSERT, SELECT, UPDATE ON REFERENCE_RELATION TO CURATOR;
GRANT DELETE, INSERT, SELECT, UPDATE ON REFERENCE_RELATION TO AUXILIARY;

DROP TABLE REFERENCE_URL CASCADE CONSTRAINTS;
CREATE TABLE REFERENCE_URL (
URL_ID INTEGER NOT NULL,
NAME VARCHAR2(500) NOT NULL,
OBJ_URL VARCHAR2(500) NOT NULL,
SOURCE_ID VARCHAR2(36) NOT NULL,
BUD_ID INTEGER,
REFERENCE_ID VARCHAR2(36) NOT NULL,
URL_TYPE VARCHAR2(40) NOT NULL CHECK (URL_TYPE IN ('DOI full text', 'FULLTEXT', 'PMC full text', 'PUBMED', 'PUBMEDCENTRAL', 'Reference supplement')),
DATE_CREATED DATE DEFAULT SYSDATE NOT NULL,
CREATED_BY VARCHAR2(12) DEFAULT SUBSTR(USER,1,12) NOT NULL,
CONSTRAINT REFERENCE_URL_PK PRIMARY KEY (URL_ID),
CONSTRAINT REFERENCE_URL_UK UNIQUE (REFERENCE_ID, NAME, OBJ_URL) ) TABLESPACE DATA04;
CREATE INDEX REF_URL_SOURCE_FK_INDEX ON REFERENCE_URL (SOURCE_ID) TABLESPACE DATA04;
ALTER TABLE REFERENCE_URL
ADD CONSTRAINT REF_URL_SOURCE_FK FOREIGN KEY (SOURCE_ID) REFERENCES SOURCE (SOURCE_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE REFERENCE_URL
ADD CONSTRAINT REF_URL_REF_FK FOREIGN KEY (REFERENCE_ID) REFERENCES REFERENCEDBENTITY (DBENTITY_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
GRANT SELECT ON REFERENCE_URL TO DBSELECT;
GRANT DELETE, INSERT, SELECT, UPDATE ON REFERENCE_URL TO CURATOR;
GRANT DELETE, INSERT, SELECT, UPDATE ON REFERENCE_URL TO AUXILIARY;

DROP TABLE REFERENCE_DOCUMENT CASCADE CONSTRAINTS;
CREATE TABLE REFERENCE_DOCUMENT (
DOCUMENT_ID INTEGER NOT NULL,
DOCUMENT_TYPE VARCHAR2(40) NOT NULL CHECK (DOCUMENT_TYPE IN ('Abstract', 'Bibentry')),
TEXT CLOB NOT NULL,
HTML CLOB NOT NULL,
SOURCE_ID VARCHAR2(36) NOT NULL,
BUD_ID INTEGER,
REFERENCE_ID VARCHAR2(36) NOT NULL,
DATE_CREATED DATE DEFAULT SYSDATE NOT NULL,
CREATED_BY VARCHAR2(12) DEFAULT SUBSTR(USER,1,12) NOT NULL,
CONSTRAINT REFERENCE_DOCUMENT_PK PRIMARY KEY (DOCUMENT_ID),
CONSTRAINT REFERENCE_DOCUMENT_UK UNIQUE (REFERENCE_ID, DOCUMENT_TYPE)) TABLESPACE DATA04;
CREATE INDEX REF_DOC_SOURCE_FK_INDEX ON REFERENCE_DOCUMENT (SOURCE_ID) TABLESPACE DATA04;
CREATE INDEX REF_DOC_REF_FK_INDEX ON REFERENCE_DOCUMENT (REFERENCE_ID) TABLESPACE DATA04;
ALTER TABLE REFERENCE_DOCUMENT
ADD CONSTRAINT REF_DOC_SOURCE_FK FOREIGN KEY (SOURCE_ID) REFERENCES SOURCE (SOURCE_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE REFERENCE_DOCUMENT
ADD CONSTRAINT REF_DOC_REF_FK FOREIGN KEY (REFERENCE_ID) REFERENCES REFERENCEDBENTITY (DBENTITY_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
GRANT SELECT ON REFERENCE_DOCUMENT TO DBSELECT;
GRANT DELETE, INSERT, SELECT, UPDATE ON REFERENCE_DOCUMENT TO CURATOR;
GRANT DELETE, INSERT, SELECT, UPDATE ON REFERENCE_DOCUMENT TO AUXILIARY;

DROP TABLE REFTYPE CASCADE CONSTRAINTS;
CREATE TABLE REFTYPE ( 
REFTYPE_ID VARCHAR2(36) NOT NULL,
NAME VARCHAR2(500) NOT NULL,
OBJ_URL VARCHAR2(500), 
SOURCE_ID VARCHAR2(36) NOT NULL,
BUD_ID INTEGER,
DATE_CREATED DATE DEFAULT SYSDATE NOT NULL, 
CREATED_BY VARCHAR2(12) DEFAULT SUBSTR(USER,1,12) NOT NULL, 
CONSTRAINT REFTYPE_PK PRIMARY KEY (REFTYPE_ID), 
CONSTRAINT REFTYPE_UK UNIQUE (NAME) ) TABLESPACE DATA04;
CREATE INDEX REFTYPE_SOURCE_FK_INDEX ON REFTYPE (SOURCE_ID) TABLESPACE DATA04;
ALTER TABLE REFTYPE
ADD CONSTRAINT REFTYPE_SOURCE_FK FOREIGN KEY (SOURCE_ID) REFERENCES SOURCE (SOURCE_ID) 
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
GRANT SELECT ON REFTYPE TO DBSELECT;
GRANT DELETE, INSERT, SELECT, UPDATE ON REFTYPE TO CURATOR;
GRANT DELETE, INSERT, SELECT, UPDATE ON REFTYPE TO AUXILIARY;

DROP TABLE REFERENCE_REFTYPE CASCADE CONSTRAINTS;
CREATE TABLE REFERENCE_REFTYPE (
REFERENCE_REFTYPE_ID INTEGER NOT NULL,
REFERENCE_ID VARCHAR2(36) NOT NULL,
REFTYPE_ID VARCHAR2(36) NOT NULL,
SOURCE_ID VARCHAR2(36) NOT NULL,
DATE_CREATED DATE DEFAULT SYSDATE NOT NULL,
CREATED_BY VARCHAR2(12) DEFAULT SUBSTR(USER,1,12) NOT NULL,
CONSTRAINT REFERENCE_REFTYPE_PK PRIMARY KEY (REFERENCE_REFTYPE_ID),
CONSTRAINT REFERENCE_REFTYPE_UK UNIQUE (REFERENCE_ID, REFTYPE_ID) ) TABLESPACE DATA04;
CREATE INDEX REFREFTYPE_SOURCE_FK_INDEX ON REFERENCE_REFTYPE (SOURCE_ID) TABLESPACE DATA04;
CREATE INDEX REFREFTYPE_REFTYPE_FK_INDEX ON REFERENCE_REFTYPE (REFTYPE_ID) TABLESPACE DATA04;
ALTER TABLE REFERENCE_REFTYPE
ADD CONSTRAINT REFREFTYPE_SOURCE_FK FOREIGN KEY (SOURCE_ID) REFERENCES SOURCE (SOURCE_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE REFERENCE_REFTYPE
ADD CONSTRAINT REFREFTYPE_REF_FK FOREIGN KEY (REFERENCE_ID) REFERENCES REFERENCEDBENTITY (DBENTITY_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE REFERENCE_REFTYPE
ADD CONSTRAINT REFREFTYPE_REFTYPE_FK FOREIGN KEY (REFTYPE_ID) REFERENCES REFTYPE (REFTYPE_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
GRANT SELECT ON REFERENCE_REFTYPE TO DBSELECT;
GRANT DELETE, INSERT, SELECT, UPDATE ON REFERENCE_REFTYPE TO CURATOR;
GRANT DELETE, INSERT, SELECT, UPDATE ON REFERENCE_REFTYPE TO AUXILIARY;

DROP TABLE AUTHOR CASCADE CONSTRAINTS;
CREATE TABLE AUTHOR ( 
AUTHOR_ID VARCHAR2(36) NOT NULL,
NAME VARCHAR2(500) NOT NULL,
OBJ_URL VARCHAR2(500), 
SOURCE_ID VARCHAR2(36) NOT NULL,
ORCID VARCHAR2(20),
BUD_ID INTEGER,
DATE_CREATED DATE DEFAULT SYSDATE NOT NULL, 
CREATED_BY VARCHAR2(12) DEFAULT SUBSTR(USER,1,12) NOT NULL, 
CONSTRAINT AUTHOR_PK PRIMARY KEY (AUTHOR_ID), 
CONSTRAINT AUTHOR_UK UNIQUE (NAME) ) TABLESPACE DATA04;
CREATE INDEX AUTHOR_SOURCE_FK_INDEX ON AUTHOR (SOURCE_ID) TABLESPACE DATA04;
ALTER TABLE AUTHOR
ADD CONSTRAINT AUTHOR_SOURCE_FK FOREIGN KEY (SOURCE_ID) REFERENCES SOURCE (SOURCE_ID) 
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
GRANT SELECT ON AUTHOR TO DBSELECT;
GRANT DELETE, INSERT, SELECT, UPDATE ON AUTHOR TO CURATOR;
GRANT DELETE, INSERT, SELECT, UPDATE ON AUTHOR TO AUXILIARY;

DROP TABLE REFERENCE_AUTHOR CASCADE CONSTRAINTS;
CREATE TABLE REFERENCE_AUTHOR (
REFERENCE_AUTHOR_ID INTEGER NOT NULL,
AUTHOR_ID VARCHAR2(36) NOT NULL,
REFERENCE_ID VARCHAR2(36) NOT NULL,
AUTHOR_ORDER INTEGER NOT NULL,
AUTHOR_TYPE VARCHAR2(10) NOT NULL CHECK (AUTHOR_TYPE IN ('Author', 'Editor')),
SOURCE_ID VARCHAR2(36) NOT NULL,
DATE_CREATED DATE DEFAULT SYSDATE NOT NULL,
CREATED_BY VARCHAR2(12) DEFAULT SUBSTR(USER,1,12) NOT NULL,
CONSTRAINT REFERENCE_AUTHOR_PK PRIMARY KEY (REFERENCE_AUTHOR_ID),
CONSTRAINT REFERENCE_AUTHOR_UK UNIQUE (REFERENCE_ID, AUTHOR_ID, AUTHOR_ORDER) ) TABLESPACE DATA04;
CREATE INDEX AUTHORREF_AUTHOR_FK_INDEX ON REFERENCE_AUTHOR (AUTHOR_ID) TABLESPACE DATA04;
CREATE INDEX AUTHORREF_SOURCE_FK_INDEX ON REFERENCE_AUTHOR (SOURCE_ID) TABLESPACE DATA04;
ALTER TABLE REFERENCE_AUTHOR
ADD CONSTRAINT AUTHORREF_AUTHOR_FK FOREIGN KEY (AUTHOR_ID) REFERENCES AUTHOR (AUTHOR_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE REFERENCE_AUTHOR
ADD CONSTRAINT AUTHORREF_REF_FK FOREIGN KEY (REFERENCE_ID) REFERENCES REFERENCEDBENTITY (DBENTITY_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE REFERENCE_AUTHOR
ADD CONSTRAINT AUTHORREF_SOURCE_FK FOREIGN KEY (SOURCE_ID) REFERENCES SOURCE (SOURCE_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
GRANT SELECT ON REFERENCE_AUTHOR TO DBSELECT;
GRANT DELETE, INSERT, SELECT, UPDATE ON REFERENCE_AUTHOR TO CURATOR;
GRANT DELETE, INSERT, SELECT, UPDATE ON REFERENCE_AUTHOR TO AUXILIARY;

DROP TABLE REFUNLINK CASCADE CONSTRAINTS;
CREATE TABLE REFUNLINK (
REFUNLINK_ID INTEGER NOT NULL,
REFERENCE_ID INTEGER NOT NULL,
LOCUS_ID INTEGER NOT NULL,
BUD_ID INTEGER,
DATE_CREATED DATE DEFAULT SYSDATE NOT NULL,
CREATED_BY VARCHAR2(12) DEFAULT SUBSTR(USER,1,12) NOT NULL,
CONSTRAINT REFUNLINK_PK PRIMARY KEY (REFUNLINK_ID),
CONSTRAINT REFUNLINK_UK UNIQUE (REFERENCE_ID, LOCUS_ID) ) TABLESPACE DATA04;
CREATE INDEX REFUNLINK_LOCUS_FK_INDEX ON REFUNLINK (LOCUS_ID) TABLESPACE DATA04;
CREATE INDEX REFUNLINK_REF_FK_INDEX ON REFUNLINK (REFERENCE_ID) TABLESPACE DATA04;
ALTER TABLE REFUNLINK
ADD CONSTRAINT REFUNLINK_REF_FK FOREIGN KEY (REFERENCE_ID) REFERENCES REFERENCEDBENTITY (DBENTITY_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE REFUNLINK
ADD CONSTRAINT REFUNLINK_LOCUS_FK FOREIGN KEY (LOCUS_ID) REFERENCES LOCUSDBENTITY (DBENTITY_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
GRANT SELECT ON REFUNLINK TO DBSELECT;
GRANT DELETE, INSERT, SELECT, UPDATE ON REFUNLINK TO CURATOR;
GRANT DELETE, INSERT, SELECT, UPDATE ON REFUNLINK TO AUXILIARY;

DROP TABLE REFBAD CASCADE CONSTRAINTS;
CREATE TABLE REFBAD (
PUBMED_ID INTEGER NOT NULL,
DBENTITY_ID INTEGER,
BUD_ID INTEGER,
DATE_CREATED DATE DEFAULT SYSDATE NOT NULL,
CREATED_BY VARCHAR2(12) DEFAULT SUBSTR(USER,1,12) NOT NULL,
CONSTRAINT REFBAD_PK PRIMARY KEY (PUBMED_ID) ) TABLESPACE DATA04;
CREATE INDEX REFBAD_DBENT_INDEX ON REFBAD (DBENTITY_ID) TABLESPACE DATA04;
ALTER TABLE REFBAD
ADD CONSTRAINT REFBAD_REF_FK FOREIGN KEY (DBENTITY_ID) REFERENCES DBENTITY (DBENTITY_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
GRANT SELECT ON REFBAD TO DBSELECT;
GRANT INSERT, SELECT, UPDATE ON REFBAD TO CURATOR;
GRANT DELETE, INSERT, SELECT, UPDATE ON REFBAD TO AUXILIARY;

/*Colleague */

DROP TABLE COLLEAGUE CASCADE CONSTRAINTS;
CREATE TABLE COLLEAGUE (
COLLEAGUE_ID VARCHAR2(36) NOT NULL,
NAME VARCHAR2(500) NOT NULL,
OBJ_URL VARCHAR2(500),
SOURCE_ID VARCHAR2(36) NOT NULL,
BUD_ID INTEGER,
ORCID VARCHAR2(20), 
LAST_NAME VARCHAR2(40) NOT NULL,
FIRST_NAME VARCHAR2(40) NOT NULL,
SUFFIX VARCHAR2(4) CHECK (SUFFIX IN ('II', 'III', 'IV', 'Jr.', 'Sr.')),
OTHER_LAST_NAME VARCHAR2(40),
PROFESSION VARCHAR2(100),
JOB_TITLE VARCHAR2(100),
INSTITUTION VARCHAR2(100),
ADDRESS1 VARCHAR2(100),
ADDRESS2 VARCHAR2(100),
ADDRESS3 VARCHAR2(100),
CITY VARCHAR2(50),
STATE VARCHAR2(50),
COUNTRY VARCHAR2(40),
POSTAL_CODE VARCHAR2(40),
WORK_PHONE VARCHAR2(40),
OTHER_PHONE VARCHAR2(40),
FAX VARCHAR2(40),
EMAIL VARCHAR2(100),
IS_PI NUMBER(1) NOT NULL CHECK (IS_PI IN (1, 0)),
IS_CONTACT NUMBER(1) NOT NULL CHECK (IS_CONTACT IN (1, 0)),
DISPLAY_EMAIL NUMBER(1) NOT NULL CHECK (DISPLAY_EMAIL IN (1, 0)),
DATE_LAST_MODIFIED DATE DEFAULT SYSDATE NOT NULL,
DATE_CREATED DATE DEFAULT SYSDATE NOT NULL,
CREATED_BY VARCHAR2(12) DEFAULT SUBSTR(USER,1,12) NOT NULL,
CONSTRAINT COLLEAGUE_PK PRIMARY KEY (COLLEAGUE_ID),
CONSTRAINT COLLEAGE_UK UNIQUE (EMAIL)) TABLESPACE DATA04;
CREATE INDEX COLL_SOURCE_FK_INDEX ON COLLEAGUE (SOURCE_ID) TABLESPACE DATA04;
ALTER TABLE COLLEAGUE
ADD CONSTRAINT COLL_SOURCE_FK FOREIGN KEY (SOURCE_ID) REFERENCES SOURCE (SOURCE_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
GRANT SELECT ON COLLEAGUE TO DBSELECT;
GRANT DELETE, INSERT, SELECT, UPDATE ON COLLEAGUE TO CURATOR;
GRANT DELETE, INSERT, SELECT, UPDATE ON COLLEAGUE TO AUXILIARY;

DROP TABLE COLLEAGUE_URL CASCADE CONSTRAINTS;
CREATE TABLE COLLEAGUE_URL (
URL_ID INTEGER NOT NULL,
NAME VARCHAR2(500) NOT NULL,
OBJ_URL VARCHAR2(500) NOT NULL,
SOURCE_ID VARCHAR2(36) NOT NULL,
BUD_ID INTEGER,
COLLEAGUE_ID VARCHAR2(36) NOT NULL,
URL_TYPE VARCHAR2(40) NOT NULL CHECK (URL_TYPE IN ('Lab', 'Reference supplement', 'Research summary', 'Other', 'Unknown')),
DATE_CREATED DATE DEFAULT SYSDATE NOT NULL,
CREATED_BY VARCHAR2(12) DEFAULT SUBSTR(USER,1,12) NOT NULL,
CONSTRAINT COLLEAGUE_URL_PK PRIMARY KEY (URL_ID),
CONSTRAINT COLLEAGUE_URL_UK UNIQUE (COLLEAGUE_ID, NAME, URL_TYPE) ) TABLESPACE DATA04;
CREATE INDEX COLL_URL_SOURCE_FK_INDEX ON COLLEAGUE_URL (SOURCE_ID) TABLESPACE DATA04;
ALTER TABLE COLLEAGUE_URL
ADD CONSTRAINT COLL_URL_SOURCE_FK FOREIGN KEY (SOURCE_ID) REFERENCES SOURCE (SOURCE_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE COLLEAGUE_URL
ADD CONSTRAINT COLL_URL_COLLEAGUE_FK FOREIGN KEY (COLLEAGUE_ID) REFERENCES COLLEAGUE (COLLEAGUE_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
GRANT SELECT ON COLLEAGUE_URL TO DBSELECT;
GRANT INSERT, SELECT, UPDATE ON COLLEAGUE_URL TO CURATOR;
GRANT DELETE, INSERT, SELECT, UPDATE ON COLLEAGUE_URL TO AUXILIARY;

DROP TABLE COLLEAGUE_RELATION CASCADE CONSTRAINTS;
CREATE TABLE COLLEAGUE_RELATION (
RELATION_ID INTEGER NOT NULL,
SOURCE_ID VARCHAR2(36) NOT NULL,
PARENT_ID VARCHAR2(36) NOT NULL,
CHILD_ID VARCHAR2(36) NOT NULL,
RELATION_TYPE VARCHAR2(40) NOT NULL CHECK (RELATION_TYPE IN ('Associate', 'Lab member')),
DATE_CREATED DATE DEFAULT SYSDATE NOT NULL,
CREATED_BY VARCHAR2(12) DEFAULT SUBSTR(USER,1,12) NOT NULL,
CONSTRAINT COLLEAGUE_RELATION_PK PRIMARY KEY (RELATION_ID),
CONSTRAINT COLLEAGUE_RELATION_UK UNIQUE (RELATION_TYPE, PARENT_ID, CHILD_ID) ) TABLESPACE DATA04;
CREATE INDEX COLL_REL_SOURCE_FK_INDEX ON COLLEAGUE_RELATION (SOURCE_ID) TABLESPACE DATA04;
CREATE INDEX COLL_REL_CHILD_FK_INDEX ON COLLEAGUE_RELATION (CHILD_ID) TABLESPACE DATA04;
CREATE INDEX COLL_REL_PARENT_FK_INDEX ON COLLEAGUE_RELATION (PARENT_ID) TABLESPACE DATA04;
ALTER TABLE COLLEAGUE_RELATION
ADD CONSTRAINT COLL_REL_SOURCE_FK FOREIGN KEY (SOURCE_ID) REFERENCES SOURCE (SOURCE_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE COLLEAGUE_RELATION
ADD CONSTRAINT COLL_REL_CHILD_FK FOREIGN KEY (CHILD_ID) REFERENCES COLLEAGUE (COLLEAGUE_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE COLLEAGUE_RELATION
ADD CONSTRAINT COLL_REL_PARENT_FK FOREIGN KEY (PARENT_ID) REFERENCES COLLEAGUE (COLLEAGUE_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
GRANT SELECT ON COLLEAGUE_RELATION TO DBSELECT;
GRANT INSERT, SELECT, UPDATE ON COLLEAGUE_RELATION TO CURATOR;
GRANT DELETE, INSERT, SELECT, UPDATE ON COLLEAGUE_RELATION TO AUXILIARY;

DROP TABLE COLLEAGUE_DOCUMENT CASCADE CONSTRAINTS;
CREATE TABLE COLLEAGUE_DOCUMENT (
DOCUMENT_ID INTEGER NOT NULL,
DOCUMENT_TYPE VARCHAR2(40) NOT NULL CHECK (DOCUMENT_TYPE IN ('Research Interest')),
TEXT CLOB NOT NULL,
HTML CLOB NOT NULL,
SOURCE_ID VARCHAR2(36) NOT NULL,
BUD_ID INTEGER,
COLLEAGUE_ID VARCHAR2(36) NOT NULL,
DATE_CREATED DATE DEFAULT SYSDATE NOT NULL,
CREATED_BY VARCHAR2(12) DEFAULT SUBSTR(USER,1,12) NOT NULL,
CONSTRAINT COLLEAGUE_DOCUMENT_PK PRIMARY KEY (DOCUMENT_ID),
CONSTRAINT COLLEAGUE_DOCUMENT_UK UNIQUE (COLLEAGUE_ID, DOCUMENT_TYPE)) TABLESPACE DATA04;
CREATE INDEX COL_DOC_SOURCE_FK_INDEX ON COLLEAGUE_DOCUMENT (SOURCE_ID) TABLESPACE DATA04;
CREATE INDEX COL_DOC_COL_FK_INDEX ON COLLEAGUE_DOCUMENT (COLLEAGUE_ID) TABLESPACE DATA04;
ALTER TABLE COLLEAGUE_DOCUMENT
ADD CONSTRAINT COL_DOC_SOURCE_FK FOREIGN KEY (SOURCE_ID) REFERENCES SOURCE (SOURCE_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE COLLEAGUE_DOCUMENT
ADD CONSTRAINT COL_DOC_COL_FK FOREIGN KEY (COLLEAGUE_ID) REFERENCES COLLEAGUE (COLLEAGUE_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
GRANT SELECT ON COLLEAGUE_DOCUMENT TO DBSELECT;
GRANT DELETE, INSERT, SELECT, UPDATE ON COLLEAGUE_DOCUMENT TO CURATOR;
GRANT DELETE, INSERT, SELECT, UPDATE ON COLLEAGUE_DOCUMENT TO AUXILIARY;

DROP TABLE COLLEAGUE_LOCUS CASCADE CONSTRAINTS;
CREATE TABLE COLLEAGUE_LOCUS (
COLLEAGUE_LOCUS_ID INTEGER NOT NULL,
COLLEAGUE_ID VARCHAR2(36) NOT NULL,
LOCUS_ID VARCHAR2(36) NOT NULL,
SOURCE_ID VARCHAR2(36) NOT NULL,
DATE_CREATED DATE DEFAULT SYSDATE NOT NULL,
CREATED_BY VARCHAR2(12) DEFAULT SUBSTR(USER,1,12) NOT NULL,
CONSTRAINT COLLEAGUE_LOCUS_PK PRIMARY KEY (COLLEAGUE_LOCUS_ID),
CONSTRAINT COLLEAGUE_LOCUS_UK UNIQUE (COLLEAGUE_ID, LOCUS_ID) ) TABLESPACE DATA04;
CREATE INDEX COLL_LOCUS_LOCUS_FK_INDEX ON COLLEAGUE_LOCUS (LOCUS_ID) TABLESPACE DATA04;
CREATE INDEX COLL_LOCUS_SOURCE_FK_INDEX ON COLLEAGUE_LOCUS (SOURCE_ID) TABLESPACE DATA04;
ALTER TABLE COLLEAGUE_LOCUS
ADD CONSTRAINT COLL_LOCUS_COLL_FK FOREIGN KEY (COLLEAGUE_ID) REFERENCES COLLEAGUE (COLLEAGUE_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE COLLEAGUE_LOCUS
ADD CONSTRAINT COLL_LOCUS_LOCUS_FK FOREIGN KEY (LOCUS_ID) REFERENCES LOCUSDBENTITY (DBENTITY_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE COLLEAGUE_LOCUS
ADD CONSTRAINT COLL_LOCUS_SOURCE_FK FOREIGN KEY (SOURCE_ID) REFERENCES SOURCE (SOURCE_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
GRANT SELECT ON COLLEAGUE_LOCUS TO DBSELECT;
GRANT DELETE, INSERT, SELECT, UPDATE ON COLLEAGUE_LOCUS TO CURATOR;
GRANT DELETE, INSERT, SELECT, UPDATE ON COLLEAGUE_LOCUS TO AUXILIARY;

DROP TABLE COLLEAGUE_KEYWORD CASCADE CONSTRAINTS;
CREATE TABLE COLLEAGUE_KEYWORD (
COLLEAGUE_KEYWORD_ID INTEGER NOT NULL,
KEYWORD_ID VARCHAR2(36) NOT NULL,
COLLEAGUE_ID VARCHAR2(36) NOT NULL,
SOURCE_ID VARCHAR2(36) NOT NULL,
DATE_CREATED DATE DEFAULT SYSDATE NOT NULL,
CREATED_BY VARCHAR2(12) DEFAULT SUBSTR(USER,1,12) NOT NULL,
CONSTRAINT COLLEAGUE_KEYWORD_PK PRIMARY KEY (COLLEAGUE_KEYWORD_ID),
CONSTRAINT COLLEAGUE_KEYWORD_UK UNIQUE (KEYWORD_ID, COLLEAGUE_ID)) TABLESPACE DATA04;
CREATE INDEX COLL_KEY_COLLEAGUE_FK_INDEX ON COLLEAGUE_KEYWORD (COLLEAGUE_ID) TABLESPACE DATA04;
ALTER TABLE COLLEAGUE_KEYWORD
ADD CONSTRAINT COLL_KEY_KEY_FK FOREIGN KEY (KEYWORD_ID) REFERENCES KEYWORD (KEYWORD_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE COLLEAGUE_KEYWORD
ADD CONSTRAINT COLL_KEY_COLL_FK FOREIGN KEY (COLLEAGUE_ID) REFERENCES COLLEAGUE (COLLEAGUE_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE COLLEAGUE_KEYWORD
ADD CONSTRAINT COLL_KEY_SOURCE_FK FOREIGN KEY (SOURCE_ID) REFERENCES SOURCE (SOURCE_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
GRANT SELECT ON COLLEAGUE_KEYWORD TO DBSELECT;
GRANT DELETE, INSERT, SELECT, UPDATE ON COLLEAGUE_KEYWORD TO CURATOR;
GRANT DELETE, INSERT, SELECT, UPDATE ON COLLEAGUE_KEYWORD TO AUXILIARY;

/* File */

DROP TABLE FILE CASCADE CONSTRAINTS;
 CREATE TABLE FILE ( 
FILE_ID INTEGER NOT NULL, 
FILENAME VARCHAR2(200) NOT NULL, 
OBJ_URL VARCHAR2(500) NOT NULL,
 SOURCE_ID INTEGER NOT NULL,
REFERENCE_ID INTEGER,
TAXONOMY_ID INTEGER,
BUD_ID INTEGER,
MD5SUM VARCHAR2(100) NOT NULL,
FILE_VERSION VARCHAR2(20) NOT NULL,
FILE_FORMAT VARCHAR2(20) NOT NULL CHECK (FILE_FORMAT IN ('FASTA', 'tab-delimited', 'GFF3', 'tar', 'bigWig', 'Excel')),
FILE_EXTENSION VARCHAR2(20) NOT NULL CHECK (FILE_EXTENSION IN ('.fsa', '.fsa.gz', '.fasta', '.txt', '.tab', '.gff', '.gz', '.tar.gz', '.bw', '.xlsx', '.zip', '.bedgraph', '.bed.gz', '.bed', '.doc', '.rar', '.pdf', '.tsv', '.dat', '.obo')),
FILE_CATEGORY VARCHAR2(100) NOT NULL CHECK (FILE_CATEGORY IN ('curated data', 'analysis', 'ontology', 'predicted data')), 
FILE_OUTPUT_TYPE VARCHAR2(100) NOT NULL CHECK (FILE_OUTPUT_TYPE IN ('document', 'spreadsheet', 'alignment', 'image')),
 DATE_CREATED DATE DEFAULT SYSDATE NOT NULL, 
CREATED_BY VARCHAR2(12) DEFAULT SUBSTR(USER,1,12) NOT NULL,
 CONSTRAINT FILE_PK PRIMARY KEY (FILE_ID), 
CONSTRAINT FILE_UK UNIQUE (MD5SUM)) TABLESPACE DATA01; 
CREATE INDEX FILE_SOURCE_FK ON FILE (SOURCE_ID) TABLESPACE DATA01;
CREATE INDEX FILE_TAX_FK_INDEX ON FILE (TAXONOMY_ID) TABLESPACE DATA01;
CREATE INDEX FILE_REF_FK_INDEX ON FILE (REFERENCE_ID) TABLESPACE DATA01;
ALTER TABLE FILE  
ADD CONSTRAINT FILE_SOURCE_FK FOREIGN KEY (SOURCE_ID) REFERENCES SOURCE (SOURCE_ID)
 ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE FILE  
ADD CONSTRAINT FILE_TAX_FK FOREIGN KEY (TAXONOMY_ID) REFERENCES TAXONOMY (TAXONOMY_ID) 
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE FILE  
ADD CONSTRAINT FILE_REF_FK FOREIGN KEY (REFERENCE_ID) REFERENCES REFERENCE (REFERENCE_ID)
 ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
GRANT SELECT ON FILE TO DBSELECT;
 GRANT INSERT, SELECT, UPDATE ON FILE TO CURATOR;
 GRANT DELETE, INSERT, SELECT, UPDATE ON FILE TO AUXILIARY;

DROP TABLE FILE_RELATION CASCADE CONSTRAINTS; 
CREATE TABLE FILE_RELATION ( 
RELATION_ID INTEGER NOT NULL, 
SOURCE_ID INTEGER NOT NULL, 
BUD_ID INTEGER,
 PARENT_ID INTEGER NOT NULL,
 CHILD_ID INTEGER NOT NULL, 
RELATION_TYPE VARCHAR2(40) NOT NULL CHECK (RELATION_TYPE IN ('is a')),
 DATE_CREATED DATE DEFAULT SYSDATE NOT NULL, 
CREATED_BY VARCHAR2(12) DEFAULT SUBSTR(USER,1,12) NOT NULL, 
CONSTRAINT FILE_RELATION_PK PRIMARY KEY (RELATION_ID),
 CONSTRAINT FILE_RELATION_UK UNIQUE(RELATION_TYPE, PARENT_ID, CHILD_ID)) TABLESPACE DATA01; 
CREATE INDEX FILE_REL_PARENT_FK_INDEX ON FILE_RELATION (PARENT_ID) TABLESPACE DATA01; 
CREATE INDEX FILE_REL_CHILD_FK_INDEX ON FILE_RELATION (CHILD_ID) TABLESPACE DATA01; 
CREATE INDEX FILE_REL_SOURCE_FK_INDEX ON FILE_RELATION (SOURCE_ID) TABLESPACE DATA01;
 ALTER TABLE FILE_RELATION  
ADD CONSTRAINT FILE_REL_CHILD_FK FOREIGN KEY (CHILD_ID) REFERENCES FILE (FILE_ID)
 ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
 ALTER TABLE FILE_RELATION
 ADD CONSTRAINT FILE_REL_PARENT_FK FOREIGN KEY (PARENT_ID) REFERENCES FILE (FILE_ID) 
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
 ALTER TABLE FILE_RELATION
 ADD CONSTRAINT FILE_REL_SOURCE_FK FOREIGN KEY (SOURCE_ID) REFERENCES SOURCE (SOURCE_ID)
 ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
 GRANT SELECT ON FILE_RELATION TO DBSELECT;
 GRANT DELETE, INSERT, SELECT, UPDATE ON FILE_RELATION TO CURATOR; 
GRANT DELETE, INSERT, SELECT, UPDATE ON FILE_RELATION TO AUXILIARY;

/* Data Objects */

DROP TABLE ALLELE CASCADE CONSTRAINTS;
CREATE TABLE ALLELE (
ALLELE_ID VARCHAR2(36) NOT NULL,
NAME VARCHAR2(500) NOT NULL,
OBJ_URL VARCHAR2(500),
SOURCE_ID VARCHAR2(36) NOT NULL,
BUD_ID INTEGER,
DESCRIPTION VARCHAR2(500),
DATE_CREATED DATE DEFAULT SYSDATE NOT NULL,
CREATED_BY VARCHAR2(12) DEFAULT SUBSTR(USER,1,12) NOT NULL,
CONSTRAINT ALLELE_PK PRIMARY KEY (ALLELE_ID),
CONSTRAINT ALLELE_UK UNIQUE (NAME)) TABLESPACE DATA08;
CREATE INDEX ALLELE_SOURCE_FK_INDEX ON ALLELE (SOURCE_ID) TABLESPACE DATA08;
ALTER TABLE ALLELE
ADD CONSTRAINT ALLELE_SOURCE_FK FOREIGN KEY (SOURCE_ID) REFERENCES SOURCE (SOURCE_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
GRANT SELECT ON ALLELE TO DBSELECT;
GRANT DELETE, INSERT, SELECT, UPDATE ON ALLELE TO CURATOR;
GRANT DELETE, INSERT, SELECT, UPDATE ON ALLELE TO AUXILIARY;

DROP TABLE CHEMICAL CASCADE CONSTRAINTS;
CREATE TABLE CHEMICAL (
CHEMICAL_ID VARCHAR2(36) NOT NULL,
NAME VARCHAR2(500) NOT NULL,
CHEBI_ID VARCHAR2(50),
OBJ_URL VARCHAR2(500),
SOURCE_ID VARCHAR2(36) NOT NULL,
BUD_ID INTEGER,
DESCRIPTION VARCHAR2(1000),
DATE_CREATED DATE DEFAULT SYSDATE NOT NULL,
CREATED_BY VARCHAR2(12) DEFAULT SUBSTR(USER,1,12) NOT NULL,
CONSTRAINT CHEMICAL_PK PRIMARY KEY (CHEMICAL_ID),
CONSTRAINT CHEMICAL_UK UNIQUE (CHEBI_ID)) TABLESPACE DATA03;
CREATE INDEX CHEM_SOURCE_FK_INDEX ON CHEMICAL (SOURCE_ID) TABLESPACE DATA03;
ALTER TABLE CHEMICAL
ADD CONSTRAINT CHEM_SOURCE_FK FOREIGN KEY (SOURCE_ID) REFERENCES SOURCE (SOURCE_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
GRANT SELECT ON CHEMICAL TO DBSELECT;
GRANT INSERT, SELECT, UPDATE ON CHEMICAL TO CURATOR;
GRANT DELETE, INSERT, SELECT, UPDATE ON CHEMICAL TO AUXILIARY;

DROP TABLE CHEMICAL_ALIAS CASCADE CONSTRAINTS;
CREATE TABLE CHEMICAL_ALIAS (
ALIAS_ID INTEGER NOT NULL,
NAME VARCHAR2(500) NOT NULL,
OBJ_URL VARCHAR2(500),
SOURCE_ID VARCHAR2(36) NOT NULL,
BUD_ID INTEGER,
CHEMICAL_ID VARCHAR2(36) NOT NULL,
ALIAS_TYPE VARCHAR2(40) NOT NULL,
DATE_CREATED DATE DEFAULT SYSDATE NOT NULL,
CREATED_BY VARCHAR2(12) DEFAULT SUBSTR(USER,1,12) NOT NULL,
CONSTRAINT CHEMICAL_ALIAS_PK PRIMARY KEY (ALIAS_ID),
CONSTRAINT CHEMICAL_ALIAS_UK UNIQUE (CHEMICAL_ID, NAME, ALIAS_TYPE) ) TABLESPACE DATA03;
CREATE INDEX CHEM_ALIAS_SOURCE_FK_INDEX ON CHEMICAL_ALIAS (SOURCE_ID) TABLESPACE DATA03;
ALTER TABLE CHEMICAL_ALIAS
ADD CONSTRAINT CHEM_ALIAS_SOURCE_FK FOREIGN KEY (SOURCE_ID) REFERENCES SOURCE (SOURCE_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE CHEMICAL_ALIAS
ADD CONSTRAINT CHEM_ALIAS_EV_FK FOREIGN KEY (CHEMICAL_ID) REFERENCES CHEMICAL (CHEMICAL_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
GRANT SELECT ON CHEMICAL_ALIAS TO DBSELECT;
GRANT DELETE, INSERT, SELECT, UPDATE ON CHEMICAL_ALIAS TO CURATOR;
GRANT DELETE, INSERT, SELECT, UPDATE ON CHEMICAL_ALIAS TO AUXILIARY;

DROP TABLE CHEMICAL_URL CASCADE CONSTRAINTS;
CREATE TABLE CHEMICAL_URL (
URL_ID INTEGER NOT NULL,
NAME VARCHAR2(500) NOT NULL,
OBJ_URL VARCHAR2(500) NOT NULL,
SOURCE_ID VARCHAR2(36) NOT NULL,
BUD_ID INTEGER,
CHEMICAL_ID VARCHAR2(36) NOT NULL,
URL_TYPE VARCHAR2(40) NOT NULL CHECK (URL_TYPE IN ('External')),
DATE_CREATED DATE DEFAULT SYSDATE NOT NULL,
CREATED_BY VARCHAR2(12) DEFAULT SUBSTR(USER,1,12) NOT NULL,
CONSTRAINT CHEMICAL_URL_PK PRIMARY KEY (URL_ID),
CONSTRAINT CHEMICAL_URL_UK UNIQUE (CHEMICAL_ID, NAME, OBJ_URL) ) TABLESPACE DATA03;
CREATE INDEX CHEM_URL_SOURCE_FK_INDEX ON CHEMICAL_URL (SOURCE_ID) TABLESPACE DATA03;
ALTER TABLE CHEMICAL_URL
ADD CONSTRAINT CHEM_URL_SOURCE_FK FOREIGN KEY (SOURCE_ID) REFERENCES SOURCE (SOURCE_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE CHEMICAL_URL
ADD CONSTRAINT CHEM_URL_REF_FK FOREIGN KEY (CHEMICAL_ID) REFERENCES CHEMICAL (CHEMICAL_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
GRANT SELECT ON CHEMICAL_URL TO DBSELECT;
GRANT DELETE, INSERT, SELECT, UPDATE ON CHEMICAL_URL TO CURATOR;
GRANT DELETE, INSERT, SELECT, UPDATE ON CHEMICAL_URL TO AUXILIARY;

DROP TABLE CHEMICAL_RELATION CASCADE CONSTRAINTS;
CREATE TABLE CHEMICAL_RELATION (
RELATION_ID INTEGER NOT NULL,
SOURCE_ID VARCHAR2(36) NOT NULL,
BUD_ID INTEGER,
PARENT_ID VARCHAR2(36) NOT NULL,
CHILD_ID VARCHAR2(36) NOT NULL,
RELATION_TYPE VARCHAR2(40) NOT NULL CHECK (RELATION_TYPE IN ('is a')),
DATE_CREATED DATE DEFAULT SYSDATE NOT NULL,
CREATED_BY VARCHAR2(12) DEFAULT SUBSTR(USER,1,12) NOT NULL,
CONSTRAINT CHEMICAL_RELATION_PK PRIMARY KEY (RELATION_ID),
CONSTRAINT CHEMICAL_RELATION_UK UNIQUE(RELATION_TYPE, PARENT_ID, CHILD_ID)) TABLESPACE DATA03;
CREATE INDEX CHEM_REL_PARENT_FK_INDEX ON CHEMICAL_RELATION (PARENT_ID) TABLESPACE DATA03;
CREATE INDEX CHEM_REL_CHILD_FK_INDEX ON CHEMICAL_RELATION (CHILD_ID) TABLESPACE DATA03;
CREATE INDEX CHEM_REL_SOURCE_FK_INDEX ON CHEMICAL_RELATION (SOURCE_ID) TABLESPACE DATA03;
ALTER TABLE CHEMICAL_RELATION
ADD CONSTRAINT CHEM_REL_CHILD_FK FOREIGN KEY (CHILD_ID) REFERENCES CHEMICAL (CHEMICAL_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE CHEMICAL_RELATION
ADD CONSTRAINT CHEM_REL_PARENT_FK FOREIGN KEY (PARENT_ID) REFERENCES CHEMICAL (CHEMICAL_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE CHEMICAL_RELATION
ADD CONSTRAINT CHEM_REL_SOURCE_FK FOREIGN KEY (SOURCE_ID) REFERENCES SOURCE (SOURCE_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
GRANT SELECT ON CHEMICAL_RELATION TO DBSELECT;
GRANT DELETE, INSERT, SELECT, UPDATE ON CHEMICAL_RELATION TO CURATOR;
GRANT DELETE, INSERT, SELECT, UPDATE ON CHEMICAL_RELATION TO AUXILIARY;

DROP TABLE CONTIG CASCADE CONSTRAINTS;
CREATE TABLE CONTIG (
CONTIG_ID INTEGER NOT NULL,
FORMAT_NAME VARCHAR2(100) NOT NULL,
DISPLAY_NAME VARCHAR2(500) NOT NULL,
OBJ_URL VARCHAR2(500),
SOURCE_ID INTEGER NOT NULL,
BUD_ID INTEGER,
TAXONOMY_ID INTEGER NOT NULL,
IS_CHROMOSOME NUMBER(1) NOT NULL CHECK (IS_CHROMOSOME IN (1, 0)),
CENTROMERE_START INTEGER,
CENTROMERE_END INTEGER,
GENBANK_ACCESSION VARCHAR2(40),
GI_NUMBER VARCHAR2(40),
REFSEQ_ID VARCHAR2(40),
REFERENCE_CHROMOSOME_ID INTEGER,
REFERENCE_START INTEGER,
REFERENCE_END INTEGER,
REFERENCE_PERCENT_IDENTITY DECIMAL(7, 3),
REFERENCE_ALIGNMENT_LENGTH INTEGER,
SEQ_VERSION DATE NOT NULL,
COORD_VERSION DATE NOT NULL,
GENOMERELEASE_ID INTEGER NOT NULL,
HEADER VARCHAR2(200),
FILENAME VARCHAR2(200),
DESCRIPTION VARCHAR2(500),
RESIDUES CLOB NOT NULL,
DATE_CREATED DATE DEFAULT SYSDATE NOT NULL,
CREATED_BY VARCHAR2(12) DEFAULT SUBSTR(USER,1,12) NOT NULL,
CONSTRAINT CONTIG_PK PRIMARY KEY (CONTIG_ID),
CONSTRAINT CONTIG_UK UNIQUE (FORMAT_NAME)) TABLESPACE DATA11;
CREATE INDEX CONTIG_SOURCE_FK_INDEX ON CONTIG (SOURCE_ID) TABLESPACE DATA11;
CREATE INDEX CONTIG_TAX_FK_INDEX ON CONTIG (TAXONOMY_ID) TABLESPACE DATA11;
CREATE INDEX CONTIG_GENRELEASE_FK_INDEX ON CONTIG (GENOMERELEASE_ID) TABLESPACE DATA11;
ALTER TABLE CONTIG
ADD CONSTRAINT CONTIG_SOURCE_FK FOREIGN KEY (SOURCE_ID) REFERENCES SOURCE (SOURCE_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE CONTIG
ADD CONSTRAINT CONTIG_TAX_FK FOREIGN KEY (TAXONOMY_ID) REFERENCES TAXONOMY (TAXONOMY_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE CONTIG
ADD CONSTRAINT CONTIG_GENRELEASE_FK FOREIGN KEY (GENOMERELEASE_ID) REFERENCES GENOMERELEASE (GENOMERELEASE_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
GRANT SELECT ON CONTIG TO DBSELECT;
GRANT DELETE, INSERT, SELECT, UPDATE ON CONTIG TO CURATOR;
GRANT DELETE, INSERT, SELECT, UPDATE ON CONTIG TO AUXILIARY;

DROP TABLE CONTIG_URL CASCADE CONSTRAINTS;
CREATE TABLE CONTIG_URL (
URL_ID INTEGER NOT NULL,
DISPLAY_NAME VARCHAR2(500) NOT NULL,
OBJ_URL VARCHAR2(500) NOT NULL,
SOURCE_ID INTEGER NOT NULL,
BUD_ID INTEGER,
CONTIG_ID INTEGER NOT NULL,
URL_TYPE VARCHAR2(40) NOT NULL,
DATE_CREATED DATE DEFAULT SYSDATE NOT NULL,
CREATED_BY VARCHAR2(12) DEFAULT SUBSTR(USER,1,12) NOT NULL,
CONSTRAINT CONTIG_URL_PK PRIMARY KEY (URL_ID),
CONSTRAINT CONTIG_URL_UK UNIQUE (CONTIG_ID, DISPLAY_NAME, OBJ_URL) ) TABLESPACE DATA05;
CREATE INDEX CONTIG_URL_SOURCE_FK_INDEX ON CONTIG_URL (SOURCE_ID) TABLESPACE DATA05;
ALTER TABLE CONTIG_URL
ADD CONSTRAINT CONTIG_URL_SOURCE_FK FOREIGN KEY (SOURCE_ID) REFERENCES SOURCE (SOURCE_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE CONTIG_URL
ADD CONSTRAINT CONTIG_URL_REF_FK FOREIGN KEY (CONTIG_ID) REFERENCES CONTIG (CONTIG_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
GRANT SELECT ON CONTIG_URL TO DBSELECT;
GRANT DELETE, INSERT, SELECT, UPDATE ON CONTIG_URL TO CURATOR;
GRANT DELETE, INSERT, SELECT, UPDATE ON CONTIG_URL TO AUXILIARY;

DROP TABLE DATASET CASCADE CONSTRAINTS;
CREATE TABLE DATASET (
DATASET_ID VARCHAR2(36) NOT NULL,
NAME VARCHAR2(500) NOT NULL,
OBJ_URL VARCHAR2(500),
SOURCE_ID VARCHAR2(36) NOT NULL,
BUD_ID INTEGER,
GSE_ID VARCHAR2(40),
FILENAME VARCHAR2(100),
CHANNEL_COUNT INTEGER CHECK (CHANNEL_COUNT IN (1, 2)),
CONDITION_COUNT INTEGER,
REFERENCE_ID VARCHAR2(36),
DESCRIPTION VARCHAR2(500),
DATE_CREATED DATE DEFAULT SYSDATE NOT NULL,
CREATED_BY VARCHAR2(12) DEFAULT SUBSTR(USER,1,12) NOT NULL,
CONSTRAINT DATASET_PK PRIMARY KEY (DATASET_ID),
CONSTRAINT DATASET_UK UNIQUE (NAME)) TABLESPACE DATA12;
CREATE INDEX DATASET_SOURCE_FK_INDEX ON DATASET (SOURCE_ID) TABLESPACE DATA12;
CREATE INDEX DATASET_REF_FK_INDEX ON DATASET (REFERENCE_ID) TABLESPACE DATA12;
ALTER TABLE DATASET
ADD CONSTRAINT DATASET_SOURCE_FK FOREIGN KEY (SOURCE_ID) REFERENCES SOURCE (SOURCE_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE DATASET
ADD CONSTRAINT DATASET_REF_FK FOREIGN KEY (REFERENCE_ID) REFERENCES REFERENCEDBENTITY (DBENTITY_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
GRANT SELECT ON DATASET TO DBSELECT;
GRANT DELETE, INSERT, SELECT, UPDATE ON DATASET TO CURATOR;
GRANT DELETE, INSERT, SELECT, UPDATE ON DATASET TO AUXILIARY;

DROP TABLE DATASET_KEYWORD CASCADE CONSTRAINTS;
CREATE TABLE DATASET_KEYWORD (
DATASET_KEYWORD_ID INTEGER NOT NULL,
KEYWORD_ID VARCHAR2(36) NOT NULL,
DATASET_ID VARCHAR2(36) NOT NULL,
CONSTRAINT DATASET_KEYWORD_PK PRIMARY KEY (DATASET_KEYWORD_ID),
CONSTRAINT DATASET_KEYWORD_UK UNIQUE (KEYWORD_ID, DATASET_ID)) TABLESPACE DATA03;
CREATE INDEX DATASET_KEY_DATASET_FK_INDEX ON DATASET_KEYWORD (DATASET_ID) TABLESPACE DATA03;
ALTER TABLE DATASET_KEYWORD
ADD CONSTRAINT DATASET_KEY_KEY_FK FOREIGN KEY (KEYWORD_ID) REFERENCES KEYWORD (KEYWORD_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE DATASET_KEYWORD
ADD CONSTRAINT DATASET_KEY_DATASET_FK FOREIGN KEY (DATASET_ID) REFERENCES DATASET (DATASET_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
GRANT SELECT ON DATASET_KEYWORD TO DBSELECT;
GRANT DELETE, INSERT, SELECT, UPDATE ON DATASET_KEYWORD TO CURATOR;
GRANT DELETE, INSERT, SELECT, UPDATE ON DATASET_KEYWORD TO AUXILIARY;

DROP TABLE DATASETSAMPLE CASCADE CONSTRAINTS;
CREATE TABLE DATASETSAMPLE (
DATASETSAMPLE_ID VARCHAR2(36) NOT NULL,
NAME VARCHAR2(500) NOT NULL,
OBJ_URL VARCHAR2(500),
SOURCE_ID VARCHAR2(36) NOT NULL,
BUD_ID INTEGER,
DATASET_ID VARCHAR2(36),
FILE_ORDER INTEGER,
GEO_ID VARCHAR2(40),
DESCRIPTION VARCHAR2(500),
DATE_CREATED DATE DEFAULT SYSDATE NOT NULL,
CREATED_BY VARCHAR2(12) DEFAULT SUBSTR(USER,1,12) NOT NULL,
CONSTRAINT DATASETSAMPLE_PK PRIMARY KEY (DATASETSAMPLE_ID),
CONSTRAINT DATASETSAMPLE_UK UNIQUE (NAME)) TABLESPACE DATA12;
CREATE INDEX DSETSAMP_SOURCE_FK_INDEX ON DATASETSAMPLE (SOURCE_ID) TABLESPACE DATA12;
CREATE INDEX DSETSAMP_DATASET_FK_INDEX ON DATASETSAMPLE (DATASET_ID) TABLESPACE DATA12;
ALTER TABLE DATASETSAMPLE
ADD CONSTRAINT DSETSAMP_SOURCE_FK FOREIGN KEY (SOURCE_ID) REFERENCES SOURCE (SOURCE_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE DATASETSAMPLE
ADD CONSTRAINT DSETSAMP_DATASET_FK FOREIGN KEY (DATASET_ID) REFERENCES DATASET (DATASET_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
GRANT SELECT ON DATASETSAMPLE TO DBSELECT;
GRANT DELETE, INSERT, SELECT, UPDATE ON DATASETSAMPLE TO CURATOR;
GRANT DELETE, INSERT, SELECT, UPDATE ON DATASETSAMPLE TO AUXILIARY;

DROP TABLE ENZYME CASCADE CONSTRAINTS;
CREATE TABLE ENZYME (
ENZYME_ID VARCHAR2(36) NOT NULL,
NAME VARCHAR2(500) NOT NULL,
OBJ_URL VARCHAR2(500),
SOURCE_ID VARCHAR2(36) NOT NULL,
BUD_ID INTEGER,
DESCRIPTION VARCHAR2(500),
DATE_CREATED DATE DEFAULT SYSDATE NOT NULL,
CREATED_BY VARCHAR2(12) DEFAULT SUBSTR(USER,1,12) NOT NULL,
CONSTRAINT ENZYME_PK PRIMARY KEY (ENZYME_ID),
CONSTRAINT ENZYME_UK UNIQUE (NAME)) TABLESPACE DATA03;
CREATE INDEX ENZYME_SOURCE_FK_INDEX ON ENZYME (SOURCE_ID) TABLESPACE DATA03;
ALTER TABLE ENZYME
ADD CONSTRAINT ENZYME_SOURCE_FK FOREIGN KEY (SOURCE_ID) REFERENCES SOURCE (SOURCE_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
GRANT SELECT ON ENZYME TO DBSELECT;
GRANT INSERT, SELECT, UPDATE ON ENZYME TO CURATOR;
GRANT DELETE, INSERT, SELECT, UPDATE ON ENZYME TO AUXILIARY;

DROP TABLE ENZYME_URL CASCADE CONSTRAINTS;
CREATE TABLE ENZYME_URL (
URL_ID INTEGER NOT NULL,
NAME VARCHAR2(500) NOT NULL,
OBJ_URL VARCHAR2(500) NOT NULL,
SOURCE_ID VARCHAR2(36) NOT NULL,
BUD_ID INTEGER,
ENZYME_ID VARCHAR2(36) NOT NULL,
URL_TYPE VARCHAR2(40) NOT NULL CHECK (URL_TYPE IN ('ExPASy', 'BRENDA')),
DATE_CREATED DATE DEFAULT SYSDATE NOT NULL,
CREATED_BY VARCHAR2(12) DEFAULT SUBSTR(USER,1,12) NOT NULL,
CONSTRAINT ENZYME_URL_PK PRIMARY KEY (URL_ID),
CONSTRAINT ENZYME_URL_UK UNIQUE (ENZYME_ID, NAME, OBJ_URL) ) TABLESPACE DATA03;
CREATE INDEX ENZ_URL_SOURCE_FK_INDEX ON ENZYME_URL (SOURCE_ID) TABLESPACE DATA03;
ALTER TABLE ENZYME_URL
ADD CONSTRAINT ENZ_URL_SOURCE_FK FOREIGN KEY (SOURCE_ID) REFERENCES SOURCE (SOURCE_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE ENZYME_URL
ADD CONSTRAINT ENZ_URL_REF_FK FOREIGN KEY (ENZYME_ID) REFERENCES ENZYME (ENZYME_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
GRANT SELECT ON ENZYME_URL TO DBSELECT;
GRANT DELETE, INSERT, SELECT, UPDATE ON ENZYME_URL TO CURATOR;
GRANT DELETE, INSERT, SELECT, UPDATE ON ENZYME_URL TO AUXILIARY;

DROP TABLE EVIDENCE CASCADE CONSTRAINTS;
CREATE TABLE EVIDENCE (
EVIDENCE_ID VARCHAR2(36) NOT NULL,
NAME VARCHAR2(500) NOT NULL,
OBJ_URL VARCHAR2(500),
SOURCE_ID  VARCHAR2(36) NOT NULL,
BUD_ID INTEGER,
ECO_ID VARCHAR2(40),
DESCRIPTION VARCHAR2(1000),
DATE_CREATED DATE DEFAULT SYSDATE NOT NULL,
CREATED_BY VARCHAR2(12) DEFAULT SUBSTR(USER,1,12) NOT NULL,
CONSTRAINT EVIDENCE_PK PRIMARY KEY (EVIDENCE_ID),
CONSTRAINT EVIDENCE_UK UNIQUE (ECO_ID) ) TABLESPACE DATA03;
CREATE INDEX EV_SOURCE_FK_INDEX ON EVIDENCE (SOURCE_ID) TABLESPACE DATA03;
ALTER TABLE EVIDENCE
ADD CONSTRAINT EV_SOURCE_FK FOREIGN KEY (SOURCE_ID) REFERENCES SOURCE (SOURCE_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
GRANT SELECT ON EVIDENCE TO DBSELECT;
GRANT INSERT, SELECT, UPDATE ON EVIDENCE TO CURATOR;
GRANT DELETE, INSERT, SELECT, UPDATE ON EVIDENCE TO AUXILIARY;

DROP TABLE EVIDENCE_ALIAS CASCADE CONSTRAINTS;
CREATE TABLE EVIDENCE_ALIAS (
ALIAS_ID INTEGER NOT NULL,
NAME VARCHAR2(500) NOT NULL,
OBJ_URL VARCHAR2(500),
SOURCE_ID VARCHAR2(36) NOT NULL,
BUD_ID INTEGER,
EVIDENCE_ID  VARCHAR2(36) NOT NULL,
ALIAS_TYPE VARCHAR2(40) NOT NULL CHECK (ALIAS_TYPE IN ('BROAD', 'EXACT', 'RELATED', 'NARROW')),
DATE_CREATED DATE DEFAULT SYSDATE NOT NULL,
CREATED_BY VARCHAR2(12) DEFAULT SUBSTR(USER,1,12) NOT NULL,
CONSTRAINT EVIDENCE_ALIAS_PK PRIMARY KEY (ALIAS_ID),
CONSTRAINT EVIDENCE_ALIAS_UK UNIQUE (EVIDENCE_ID, NAME, ALIAS_TYPE) ) TABLESPACE DATA03;
CREATE INDEX EV_ALIAS_SOURCE_FK_INDEX ON EVIDENCE_ALIAS (SOURCE_ID) TABLESPACE DATA03;
ALTER TABLE EVIDENCE_ALIAS
ADD CONSTRAINT EV_ALIAS_SOURCE_FK FOREIGN KEY (SOURCE_ID) REFERENCES SOURCE (SOURCE_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE EVIDENCE_ALIAS
ADD CONSTRAINT EV_ALIAS_EV_FK FOREIGN KEY (EVIDENCE_ID) REFERENCES EVIDENCE (EVIDENCE_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
GRANT SELECT ON EVIDENCE_ALIAS TO DBSELECT;
GRANT DELETE, INSERT, SELECT, UPDATE ON EVIDENCE_ALIAS TO CURATOR;
GRANT DELETE, INSERT, SELECT, UPDATE ON EVIDENCE_ALIAS TO AUXILIARY;

DROP TABLE EVIDENCE_URL CASCADE CONSTRAINTS;
CREATE TABLE EVIDENCE_URL (
URL_ID INTEGER NOT NULL,
NAME VARCHAR2(500) NOT NULL,
OBJ_URL VARCHAR2(500) NOT NULL,
SOURCE_ID  VARCHAR2(36) NOT NULL,
BUD_ID INTEGER,
EVIDENCE_ID  VARCHAR2(36) NOT NULL,
URL_TYPE VARCHAR2(40) NOT NULL CHECK (URL_TYPE IN ('External')),
DATE_CREATED DATE DEFAULT SYSDATE NOT NULL,
CREATED_BY VARCHAR2(12) DEFAULT SUBSTR(USER,1,12) NOT NULL,
CONSTRAINT EVIDENCE_URL_PK PRIMARY KEY (URL_ID),
CONSTRAINT EVIDENCE_URL_UK UNIQUE (EVIDENCE_ID, NAME, OBJ_URL) ) TABLESPACE DATA03;
CREATE INDEX EV_URL_SOURCE_FK_INDEX ON EVIDENCE_URL (SOURCE_ID) TABLESPACE DATA03;
ALTER TABLE EVIDENCE_URL
ADD CONSTRAINT EV_URL_SOURCE_FK FOREIGN KEY (SOURCE_ID) REFERENCES SOURCE (SOURCE_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE EVIDENCE_URL
ADD CONSTRAINT EV_URL_REF_FK FOREIGN KEY (EVIDENCE_ID) REFERENCES EVIDENCE (EVIDENCE_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
GRANT SELECT ON EVIDENCE_URL TO DBSELECT;
GRANT DELETE, INSERT, SELECT, UPDATE ON EVIDENCE_URL TO CURATOR;
GRANT DELETE, INSERT, SELECT, UPDATE ON EVIDENCE_URL TO AUXILIARY;

DROP TABLE EVIDENCE_RELATION CASCADE CONSTRAINTS;
CREATE TABLE EVIDENCE_RELATION (
RELATION_ID INTEGER NOT NULL,
SOURCE_ID  VARCHAR2(36) NOT NULL,
BUD_ID INTEGER,
PARENT_ID  VARCHAR2(36) NOT NULL,
CHILD_ID  VARCHAR2(36) NOT NULL,
RELATION_TYPE VARCHAR2(40) NOT NULL CHECK (RELATION_TYPE IN ('is a')),
DATE_CREATED DATE DEFAULT SYSDATE NOT NULL,
CREATED_BY VARCHAR2(12) DEFAULT SUBSTR(USER,1,12) NOT NULL,
CONSTRAINT EVIDENCE_RELATION_PK PRIMARY KEY (RELATION_ID),
CONSTRAINT EVIDENCE_RELATION_UK UNIQUE(RELATION_TYPE, PARENT_ID, CHILD_ID)) TABLESPACE DATA03;
CREATE INDEX EV_REL_PARENT_FK_INDEX ON EVIDENCE_RELATION (PARENT_ID) TABLESPACE DATA03;
CREATE INDEX EV_REL_CHILD_FK_INDEX ON EVIDENCE_RELATION (CHILD_ID) TABLESPACE DATA03;
CREATE INDEX EV_REL_SOURCE_FK_INDEX ON EVIDENCE_RELATION (SOURCE_ID) TABLESPACE DATA03;
ALTER TABLE EVIDENCE_RELATION
ADD CONSTRAINT EV_REL_CHILD_FK FOREIGN KEY (CHILD_ID) REFERENCES EVIDENCE (EVIDENCE_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE EVIDENCE_RELATION
ADD CONSTRAINT EV_REL_PARENT_FK FOREIGN KEY (PARENT_ID) REFERENCES EVIDENCE (EVIDENCE_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE EVIDENCE_RELATION
ADD CONSTRAINT EV_REL_SOURCE_FK FOREIGN KEY (SOURCE_ID) REFERENCES SOURCE (SOURCE_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
GRANT SELECT ON EVIDENCE_RELATION TO DBSELECT;
GRANT DELETE, INSERT, SELECT, UPDATE ON EVIDENCE_RELATION TO CURATOR;
GRANT DELETE, INSERT, SELECT, UPDATE ON EVIDENCE_RELATION TO AUXILIARY;

DROP TABLE EXPERIMENTFACTOR CASCADE CONSTRAINTS;
CREATE TABLE EXPERIMENTFACTOR (
EXPERIMENTFACTOR_ID VARCHAR2(36) NOT NULL,
NAME VARCHAR2(500) NOT NULL,
EFO_ID VARCHAR2(50),
OBJ_URL VARCHAR2(500),
SOURCE_ID VARCHAR2(36) NOT NULL,
BUD_ID INTEGER,
DESCRIPTION VARCHAR2(1000),
DATE_CREATED DATE DEFAULT SYSDATE NOT NULL,
CREATED_BY VARCHAR2(12) DEFAULT SUBSTR(USER,1,12) NOT NULL,
CONSTRAINT EXPERIMENTFACTOR_PK PRIMARY KEY (EXPERIMENTFACTOR_ID),
CONSTRAINT EXPERIMENTFACTOR_UK UNIQUE (EFO_ID)) TABLESPACE DATA03;
CREATE INDEX EXPF_SOURCE_FK_INDEX ON EXPERIMENTFACTOR (SOURCE_ID) TABLESPACE DATA03;
ALTER TABLE EXPERIMENTFACTOR
ADD CONSTRAINT EXPF_SOURCE_FK FOREIGN KEY (SOURCE_ID) REFERENCES SOURCE (SOURCE_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
GRANT SELECT ON EXPERIMENTFACTOR TO DBSELECT;
GRANT INSERT, SELECT, UPDATE ON EXPERIMENTFACTOR TO CURATOR;
GRANT DELETE, INSERT, SELECT, UPDATE ON EXPERIMENTFACTOR TO AUXILIARY;

DROP TABLE EXPERIMENTFACTOR_ALIAS CASCADE CONSTRAINTS;
CREATE TABLE EXPERIMENTFACTOR_ALIAS (
ALIAS_ID INTEGER NOT NULL,
NAME VARCHAR2(900) NOT NULL,
OBJ_URL VARCHAR2(500),
SOURCE_ID VARCHAR2(36) NOT NULL,
BUD_ID INTEGER,
EXPERIMENTFACTOR_ID VARCHAR2(36) NOT NULL,
ALIAS_TYPE VARCHAR2(40) NOT NULL CHECK (ALIAS_TYPE IN ('BROAD', 'EXACT', 'RELATED', 'NARROW')),
DATE_CREATED DATE DEFAULT SYSDATE NOT NULL,
CREATED_BY VARCHAR2(12) DEFAULT SUBSTR(USER,1,12) NOT NULL,
CONSTRAINT EXPERIMENTFACTOR_ALIAS_PK PRIMARY KEY (ALIAS_ID),
CONSTRAINT EXPERIMENTFACTOR_ALIAS_UK UNIQUE (EXPERIMENTFACTOR_ID, NAME, ALIAS_TYPE) ) TABLESPACE DATA03;
CREATE INDEX EXPF_ALIAS_SOURCE_FK_INDEX ON EXPERIMENTFACTOR_ALIAS (SOURCE_ID) TABLESPACE DATA03;
ALTER TABLE EXPERIMENTFACTOR_ALIAS
ADD CONSTRAINT EXPF_ALIAS_SOURCE_FK FOREIGN KEY (SOURCE_ID) REFERENCES SOURCE (SOURCE_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE EXPERIMENTFACTOR_ALIAS
ADD CONSTRAINT EXPF_ALIAS_EV_FK FOREIGN KEY (EXPERIMENTFACTOR_ID) REFERENCES EXPERIMENTFACTOR (EXPERIMENTFACTOR_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
GRANT SELECT ON EXPERIMENTFACTOR_ALIAS TO DBSELECT;
GRANT DELETE, INSERT, SELECT, UPDATE ON EXPERIMENTFACTOR_ALIAS TO CURATOR;
GRANT DELETE, INSERT, SELECT, UPDATE ON EXPERIMENTFACTOR_ALIAS TO AUXILIARY;

DROP TABLE EXPERIMENTFACTOR_URL CASCADE CONSTRAINTS;
CREATE TABLE EXPERIMENTFACTOR_URL (
URL_ID INTEGER NOT NULL,
NAME VARCHAR2(500) NOT NULL,
OBJ_URL VARCHAR2(500) NOT NULL,
SOURCE_ID VARCHAR2(36)  NOT NULL,
BUD_ID INTEGER,
EXPERIMENTFACTOR_ID VARCHAR2(36) NOT NULL,
URL_TYPE VARCHAR2(40) NOT NULL CHECK (URL_TYPE IN ('External')),
DATE_CREATED DATE DEFAULT SYSDATE NOT NULL,
CREATED_BY VARCHAR2(12) DEFAULT SUBSTR(USER,1,12) NOT NULL,
CONSTRAINT EXPERIMENTFACTOR_URL_PK PRIMARY KEY (URL_ID),
CONSTRAINT EXPERIMENTFACTOR_URL_UK UNIQUE (EXPERIMENTFACTOR_ID, NAME, OBJ_URL) ) TABLESPACE DATA03;
CREATE INDEX EXPF_URL_SOURCE_FK_INDEX ON EXPERIMENTFACTOR_URL (SOURCE_ID) TABLESPACE DATA03;
ALTER TABLE EXPERIMENTFACTOR_URL
ADD CONSTRAINT EXPF_URL_SOURCE_FK FOREIGN KEY (SOURCE_ID) REFERENCES SOURCE (SOURCE_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE EXPERIMENTFACTOR_URL
ADD CONSTRAINT EXPF_URL_REF_FK FOREIGN KEY (EXPERIMENTFACTOR_ID) REFERENCES EXPERIMENTFACTOR (EXPERIMENTFACTOR_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
GRANT SELECT ON EXPERIMENTFACTOR_URL TO DBSELECT;
GRANT DELETE, INSERT, SELECT, UPDATE ON EXPERIMENTFACTOR_URL TO CURATOR;
GRANT DELETE, INSERT, SELECT, UPDATE ON EXPERIMENTFACTOR_URL TO AUXILIARY;

DROP TABLE EXPERIMENTFACTOR_RELATION CASCADE CONSTRAINTS;
CREATE TABLE EXPERIMENTFACTOR_RELATION (
RELATION_ID INTEGER NOT NULL,
SOURCE_ID VARCHAR2(36) NOT NULL,
BUD_ID INTEGER,
PARENT_ID VARCHAR2(36) NOT NULL,
CHILD_ID VARCHAR2(36) NOT NULL,
RELATION_TYPE VARCHAR2(40) NOT NULL CHECK (RELATION_TYPE IN ('is a')),
DATE_CREATED DATE DEFAULT SYSDATE NOT NULL,
CREATED_BY VARCHAR2(12) DEFAULT SUBSTR(USER,1,12) NOT NULL,
CONSTRAINT EXPERIMENTFACTOR_RELATION_PK PRIMARY KEY (RELATION_ID),
CONSTRAINT EXPERIMENTFACTOR_RELATION_UK UNIQUE(RELATION_TYPE, PARENT_ID, CHILD_ID)) TABLESPACE DATA03;
CREATE INDEX EXPF_REL_PARENT_FK_INDEX ON EXPERIMENTFACTOR_RELATION (PARENT_ID) TABLESPACE DATA03;
CREATE INDEX EXPF_REL_CHILD_FK_INDEX ON EXPERIMENTFACTOR_RELATION (CHILD_ID) TABLESPACE DATA03;
CREATE INDEX EXPF_REL_SOURCE_FK_INDEX ON EXPERIMENTFACTOR_RELATION (SOURCE_ID) TABLESPACE DATA03;
ALTER TABLE EXPERIMENTFACTOR_RELATION
ADD CONSTRAINT EXPF_REL_CHILD_FK FOREIGN KEY (CHILD_ID) REFERENCES EXPERIMENTFACTOR (EXPERIMENTFACTOR_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE EXPERIMENTFACTOR_RELATION
ADD CONSTRAINT EXPF_REL_PARENT_FK FOREIGN KEY (PARENT_ID) REFERENCES EXPERIMENTFACTOR (EXPERIMENTFACTOR_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE EXPERIMENTFACTOR_RELATION
ADD CONSTRAINT EXPF_REL_SOURCE_FK FOREIGN KEY (SOURCE_ID) REFERENCES SOURCE (SOURCE_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
GRANT SELECT ON EXPERIMENTFACTOR_RELATION TO DBSELECT;
GRANT DELETE, INSERT, SELECT, UPDATE ON EXPERIMENTFACTOR_RELATION TO CURATOR;
GRANT DELETE, INSERT, SELECT, UPDATE ON EXPERIMENTFACTOR_RELATION TO AUXILIARY;

DROP TABLE EXPERIMENT CASCADE CONSTRAINTS;
CREATE TABLE EXPERIMENT (
EXPERIMENT_ID VARCHAR2(36) NOT NULL,
NAME VARCHAR2(500) NOT NULL,
OBJ_URL VARCHAR2(500),
SOURCE_ID VARCHAR2(36) NOT NULL,
BUD_ID INTEGER,
APO_ID VARCHAR2(40),
EXPERIMENT_TYPE VARCHAR2(40),
DESCRIPTION VARCHAR2(700),
DATE_CREATED DATE DEFAULT SYSDATE NOT NULL,
CREATED_BY VARCHAR2(12) DEFAULT SUBSTR(USER,1,12) NOT NULL,
CONSTRAINT EXPERIMENT_PK PRIMARY KEY (EXPERIMENT_ID),
CONSTRAINT EXPERIMENT_UK UNIQUE (APO_ID)) TABLESPACE DATA03;
CREATE INDEX EXP_SOURCE_FK_INDEX ON EXPERIMENT (SOURCE_ID) TABLESPACE DATA03;
ALTER TABLE EXPERIMENT
ADD CONSTRAINT EXP_SOURCE_FK FOREIGN KEY (SOURCE_ID) REFERENCES SOURCE (SOURCE_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
GRANT SELECT ON EXPERIMENT TO DBSELECT;
GRANT INSERT, SELECT, UPDATE ON EXPERIMENT TO CURATOR;
GRANT DELETE, INSERT, SELECT, UPDATE ON EXPERIMENT TO AUXILIARY;

DROP TABLE EXPERIMENT_ALIAS CASCADE CONSTRAINTS;
CREATE TABLE EXPERIMENT_ALIAS (
ALIAS_ID INTEGER NOT NULL,
NAME VARCHAR2(500) NOT NULL,
OBJ_URL VARCHAR2(500),
SOURCE_ID VARCHAR2(36) NOT NULL,
BUD_ID INTEGER,
EXPERIMENT_ID VARCHAR2(36) NOT NULL,
ALIAS_TYPE VARCHAR2(40) NOT NULL,
DATE_CREATED DATE DEFAULT SYSDATE NOT NULL,
CREATED_BY VARCHAR2(12) DEFAULT SUBSTR(USER,1,12) NOT NULL,
CONSTRAINT EXPERIMENT_ALIAS_PK PRIMARY KEY (ALIAS_ID),
CONSTRAINT EXPERIMENT_ALIAS_UK UNIQUE (EXPERIMENT_ID, NAME, ALIAS_TYPE) ) TABLESPACE DATA03;
CREATE INDEX EXP_ALIAS_SOURCE_FK_INDEX ON EXPERIMENT_ALIAS (SOURCE_ID) TABLESPACE DATA03;
ALTER TABLE EXPERIMENT_ALIAS
ADD CONSTRAINT EXP_ALIAS_SOURCE_FK FOREIGN KEY (SOURCE_ID) REFERENCES SOURCE (SOURCE_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE EXPERIMENT_ALIAS
ADD CONSTRAINT EXP_ALIAS_EV_FK FOREIGN KEY (EXPERIMENT_ID) REFERENCES EXPERIMENT (EXPERIMENT_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
GRANT SELECT ON EXPERIMENT_ALIAS TO DBSELECT;
GRANT DELETE, INSERT, SELECT, UPDATE ON EXPERIMENT_ALIAS TO CURATOR;
GRANT DELETE, INSERT, SELECT, UPDATE ON EXPERIMENT_ALIAS TO AUXILIARY;

DROP TABLE EXPERIMENT_RELATION CASCADE CONSTRAINTS;
CREATE TABLE EXPERIMENT_RELATION (
RELATION_ID INTEGER NOT NULL,
SOURCE_ID VARCHAR2(36) NOT NULL,
BUD_ID INTEGER,
PARENT_ID VARCHAR2(36) NOT NULL,
CHILD_ID VARCHAR2(36) NOT NULL,
RELATION_TYPE VARCHAR2(40) NOT NULL CHECK (RELATION_TYPE IN ('is a')),
DATE_CREATED DATE DEFAULT SYSDATE NOT NULL,
CREATED_BY VARCHAR2(12) DEFAULT SUBSTR(USER,1,12) NOT NULL,
CONSTRAINT EXPERIMENT_RELATION_PK PRIMARY KEY (RELATION_ID),
CONSTRAINT EXPERIMENT_RELATION_UK UNIQUE(RELATION_TYPE, PARENT_ID, CHILD_ID)) TABLESPACE DATA03;
CREATE INDEX EXP_REL_PARENT_FK_INDEX ON EXPERIMENT_RELATION (PARENT_ID) TABLESPACE DATA03;
CREATE INDEX EXP_REL_CHILD_FK_INDEX ON EXPERIMENT_RELATION (CHILD_ID) TABLESPACE DATA03;
CREATE INDEX EXP_REL_SOURCE_FK_INDEX ON EXPERIMENT_RELATION (SOURCE_ID) TABLESPACE DATA03;
ALTER TABLE EXPERIMENT_RELATION
ADD CONSTRAINT EXP_REL_CHILD_FK FOREIGN KEY (CHILD_ID) REFERENCES EXPERIMENT (EXPERIMENT_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE EXPERIMENT_RELATION
ADD CONSTRAINT EXP_REL_PARENT_FK FOREIGN KEY (PARENT_ID) REFERENCES EXPERIMENT (EXPERIMENT_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE EXPERIMENT_RELATION
ADD CONSTRAINT EXP_REL_SOURCE_FK FOREIGN KEY (SOURCE_ID) REFERENCES SOURCE (SOURCE_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
GRANT SELECT ON EXPERIMENT_RELATION TO DBSELECT;
GRANT DELETE, INSERT, SELECT, UPDATE ON EXPERIMENT_RELATION TO CURATOR;
GRANT DELETE, INSERT, SELECT, UPDATE ON EXPERIMENT_RELATION TO AUXILIARY;

DROP TABLE GENOMERELEASE CASCADE CONSTRAINTS;
CREATE TABLE GENOMERELEASE (
GENOMERELEASE_ID VARCHAR2(36) NOT NULL,
NAME VARCHAR2(500) NOT NULL,
OBJ_URL VARCHAR2(500),
SOURCE_ID VARCHAR2(36) NOT NULL,
BUD_ID INTEGER,
GENOME_RELEASE VARCHAR2(20) NOT NULL,
SEQUENCE_RELEASE NUMBER(4) NOT NULL,
ANNOTATION_RELEASE NUMBER(4) NOT NULL,
CURATION_RELEASE NUMBER(4) NOT NULL,
FILENAME VARCHAR2(200) NOT NULL,
RELEASE_DATE DATE NOT NULL,
DESCRIPTION VARCHAR2(500),
DATE_CREATED DATE DEFAULT SYSDATE NOT NULL,
CREATED_BY VARCHAR2(12) DEFAULT SUBSTR(USER,1,12) NOT NULL,
CONSTRAINT GENOMERELEASE_PK PRIMARY KEY (GENOMERELEASE_ID),
CONSTRAINT GENOMERELEASE_UK UNIQUE (GENOME_RELEASE),
CONSTRAINT GENOMERELEASE_BUD_UK UNIQUE (BUD_ID)) TABLESPACE DATA01;
CREATE INDEX GENOMERELEASE_SOURCE_FK_INDEX ON GENOMERELEASE (SOURCE_ID) TABLESPACE DATA08;
ALTER TABLE GENOMERELEASE
ADD CONSTRAINT GENOMERELEASE_SOURCE_FK FOREIGN KEY (SOURCE_ID) REFERENCES SOURCE (SOURCE_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
GRANT SELECT ON GENOMERELEASE TO DBSELECT;
GRANT INSERT, SELECT, UPDATE ON GENOMERELEASE TO CURATOR;
GRANT DELETE, INSERT, SELECT, UPDATE ON GENOMERELEASE TO AUXILIARY;

DROP TABLE GOTERM CASCADE CONSTRAINTS;
CREATE TABLE GOTERM (
GOTERM_ID VARCHAR2(36)  NOT NULL,
NAME VARCHAR2(500) NOT NULL,
OBJ_URL VARCHAR2(500),
SOURCE_ID VARCHAR2(36) NOT NULL,
BUD_ID INTEGER,
GO_ID VARCHAR2(12) NOT NULL,
GO_ASPECT VARCHAR2(20) NOT NULL CHECK (GO_ASPECT IN ('cellular component', 'biological process', 'molecular function')),
DESCRIPTION VARCHAR2(1000),
DATE_CREATED DATE DEFAULT SYSDATE NOT NULL,
CREATED_BY VARCHAR2(12) DEFAULT SUBSTR(USER,1,12) NOT NULL,
CONSTRAINT GOTERM_PK PRIMARY KEY (GOTERM_ID),
CONSTRAINT GOTERM_UK UNIQUE (GO_ID),
CONSTRAINT GOTERM_BUD_UK UNIQUE (BUD_ID)) TABLESPACE DATA05;
CREATE INDEX GOTERM_GO_INDEX ON GOTERM (SOURCE_ID) TABLESPACE DATA05;
ALTER TABLE GOTERM
ADD CONSTRAINT GOTERM_SOURCE_FK FOREIGN KEY (SOURCE_ID) REFERENCES SOURCE (SOURCE_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
GRANT SELECT ON GOTERM TO DBSELECT;
GRANT DELETE, INSERT, SELECT, UPDATE ON GOTERM TO CURATOR;
GRANT DELETE, INSERT, SELECT, UPDATE ON GOTERM TO AUXILIARY;

DROP TABLE GOTERM_ALIAS CASCADE CONSTRAINTS;
CREATE TABLE GOTERM_ALIAS (
ALIAS_ID INTEGER NOT NULL,
NAME VARCHAR2(500) NOT NULL,
OBJ_URL VARCHAR2(500),
SOURCE_ID VARCHAR2(36)  NOT NULL,
BUD_ID INTEGER,
GOTERM_ID VARCHAR2(36)  NOT NULL,
ALIAS_TYPE VARCHAR2(40) NOT NULL CHECK (ALIAS_TYPE IN ('BROAD', 'EXACT', 'RELATED', 'NARROW')),
NOTE VARCHAR2(1000),
DATE_CREATED DATE DEFAULT SYSDATE NOT NULL,
CREATED_BY VARCHAR2(12) DEFAULT SUBSTR(USER,1,12) NOT NULL,
CONSTRAINT GOTERM_ALIAS_PK PRIMARY KEY (ALIAS_ID),
CONSTRAINT GOTERM_ALIAS_UK UNIQUE (GOTERM_ID, NAME, ALIAS_TYPE),
CONSTRAINT GOTERM_ALIAS_BUD_UK UNIQUE (BUD_ID)) TABLESPACE DATA05;
CREATE INDEX GOTERM_ALIAS_SOURCE_FK_INDEX ON GOTERM_ALIAS (SOURCE_ID) TABLESPACE DATA05;
ALTER TABLE GOTERM_ALIAS
ADD CONSTRAINT GOTERM_ALIAS_SOURCE_FK FOREIGN KEY (SOURCE_ID) REFERENCES SOURCE (SOURCE_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE GOTERM_ALIAS
ADD CONSTRAINT GOTERM_ALIAS_GOTERM_FK FOREIGN KEY (GOTERM_ID) REFERENCES GOTERM (GOTERM_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
GRANT SELECT ON GOTERM_ALIAS TO DBSELECT;
GRANT DELETE, INSERT, SELECT, UPDATE ON GOTERM_ALIAS TO CURATOR;
GRANT DELETE, INSERT, SELECT, UPDATE ON GOTERM_ALIAS TO AUXILIARY;

DROP TABLE GOTERM_URL CASCADE CONSTRAINTS;
CREATE TABLE GOTERM_URL (
URL_ID INTEGER NOT NULL,
NAME VARCHAR2(500) NOT NULL,
OBJ_URL VARCHAR2(500) NOT NULL,
SOURCE_ID VARCHAR2(36)  NOT NULL,
BUD_ID INTEGER,
GOTERM_ID VARCHAR2(36)  NOT NULL,
URL_TYPE VARCHAR2(40) NOT NULL CHECK (URL_TYPE IN ('GO', 'Amigo')),
DATE_CREATED DATE DEFAULT SYSDATE NOT NULL,
CREATED_BY VARCHAR2(12) DEFAULT SUBSTR(USER,1,12) NOT NULL,
CONSTRAINT GOTERM_URL_PK PRIMARY KEY (URL_ID),
CONSTRAINT GOTERM_URL_UK UNIQUE (GOTERM_ID, NAME, OBJ_URL) ) TABLESPACE DATA05;
CREATE INDEX GO_URL_SOURCE_FK_INDEX ON GOTERM_URL (SOURCE_ID) TABLESPACE DATA05;
ALTER TABLE GOTERM_URL
ADD CONSTRAINT GO_URL_SOURCE_FK FOREIGN KEY (SOURCE_ID) REFERENCES SOURCE (SOURCE_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE GOTERM_URL
ADD CONSTRAINT GO_URL_REF_FK FOREIGN KEY (GOTERM_ID) REFERENCES GOTERM (GOTERM_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
GRANT SELECT ON GOTERM_URL TO DBSELECT;
GRANT DELETE, INSERT, SELECT, UPDATE ON GOTERM_URL TO CURATOR;
GRANT DELETE, INSERT, SELECT, UPDATE ON GOTERM_URL TO AUXILIARY;

DROP TABLE GOTERM_RELATION CASCADE CONSTRAINTS;
CREATE TABLE GOTERM_RELATION (
RELATION_ID INTEGER NOT NULL,
SOURCE_ID VARCHAR2(36)  NOT NULL,
BUD_ID INTEGER,
PARENT_ID VARCHAR2(36)  NOT NULL,
CHILD_ID VARCHAR2(36)  NOT NULL,
RELATION_TYPE VARCHAR2(40) NOT NULL CHECK (RELATION_TYPE IN ('is a')),
DATE_CREATED DATE DEFAULT SYSDATE NOT NULL,
CREATED_BY VARCHAR2(12) DEFAULT SUBSTR(USER,1,12) NOT NULL,
CONSTRAINT GOTERM_RELATION_PK PRIMARY KEY (RELATION_ID),
CONSTRAINT GOTERM_RELATION_UK UNIQUE(RELATION_TYPE, PARENT_ID, CHILD_ID)) TABLESPACE DATA03;
CREATE INDEX GO_REL_PARENT_FK_INDEX ON GOTERM_RELATION (PARENT_ID) TABLESPACE DATA03;
CREATE INDEX GO_REL_CHILD_FK_INDEX ON GOTERM_RELATION (CHILD_ID) TABLESPACE DATA03;
CREATE INDEX GO_REL_SOURCE_FK_INDEX ON GOTERM_RELATION (SOURCE_ID) TABLESPACE DATA03;
ALTER TABLE GOTERM_RELATION
ADD CONSTRAINT GO_REL_CHILD_FK FOREIGN KEY (CHILD_ID) REFERENCES GOTERM (GOTERM_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE GOTERM_RELATION
ADD CONSTRAINT GO_REL_PARENT_FK FOREIGN KEY (PARENT_ID) REFERENCES GOTERM (GOTERM_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE GOTERM_RELATION
ADD CONSTRAINT GO_REL_SOURCE_FK FOREIGN KEY (SOURCE_ID) REFERENCES SOURCE (SOURCE_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
GRANT SELECT ON GOTERM_RELATION TO DBSELECT;
GRANT DELETE, INSERT, SELECT, UPDATE ON GOTERM_RELATION TO CURATOR;
GRANT DELETE, INSERT, SELECT, UPDATE ON GOTERM_RELATION TO AUXILIARY;

DROP TABLE KEYWORD CASCADE CONSTRAINTS;
CREATE TABLE KEYWORD (
KEYWORD_ID VARCHAR2(36) NOT NULL,
NAME VARCHAR2(500) NOT NULL,
OBJ_URL VARCHAR2(500),
SOURCE_ID VARCHAR2(36) NOT NULL,
BUD_ID INTEGER,
DESCRIPTION VARCHAR2(500),
DATE_CREATED DATE DEFAULT SYSDATE NOT NULL,
CREATED_BY VARCHAR2(12) DEFAULT SUBSTR(USER,1,12) NOT NULL,
CONSTRAINT KEYWORD_PK PRIMARY KEY (KEYWORD_ID) ,
CONSTRAINT KEYWORD_UK UNIQUE (NAME) ) TABLESPACE DATA03;
CREATE INDEX KEYWORD_SOURCE_FK ON KEYWORD (SOURCE_ID) TABLESPACE DATA03;
ALTER TABLE KEYWORD
ADD CONSTRAINT KEYWORD_SOURCE_FK FOREIGN KEY (SOURCE_ID) REFERENCES SOURCE (SOURCE_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
GRANT SELECT ON KEYWORD TO DBSELECT;
GRANT DELETE, INSERT, SELECT, UPDATE ON KEYWORD TO CURATOR;
GRANT DELETE, INSERT, SELECT, UPDATE ON KEYWORD TO AUXILIARY;

DROP TABLE MUTANT CASCADE CONSTRAINTS;
CREATE TABLE MUTANT (
MUTANT_ID INTEGER NOT NULL,
FORMAT_NAME VARCHAR2(100) NOT NULL,
DISPLAY_NAME VARCHAR2(500) NOT NULL,
OBJ_URL VARCHAR2(500),
SOURCE_ID INTEGER NOT NULL,
BUD_ID INTEGER,
APO_ID VARCHAR2(12) NOT NULL,
DESCRIPTION VARCHAR2(1000),
DATE_CREATED DATE DEFAULT SYSDATE NOT NULL,
CREATED_BY VARCHAR2(12) DEFAULT SUBSTR(USER,1,12) NOT NULL,
CONSTRAINT MUTANT_PK PRIMARY KEY (MUTANT_ID),
CONSTRAINT MUTANT_UK UNIQUE (FORMAT_NAME),
CONSTRAINT MUTANT_BUD_UK UNIQUE (BUD_ID)) TABLESPACE DATA05;
CREATE INDEX MUTANT_SOURCE_INDEX ON MUTANT (SOURCE_ID) TABLESPACE DATA05;
ALTER TABLE MUTANT
ADD CONSTRAINT MUTANT_SOURCE_FK FOREIGN KEY (SOURCE_ID) REFERENCES SOURCE (SOURCE_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
GRANT SELECT ON MUTANT TO DBSELECT;
GRANT DELETE, INSERT, SELECT, UPDATE ON MUTANT TO CURATOR;
GRANT DELETE, INSERT, SELECT, UPDATE ON MUTANT TO AUXILIARY;

DROP TABLE MUTANT_ALIAS CASCADE CONSTRAINTS;
CREATE TABLE MUTANT_ALIAS (
ALIAS_ID INTEGER NOT NULL,
DISPLAY_NAME VARCHAR2(500) NOT NULL,
OBJ_URL VARCHAR2(500),
SOURCE_ID INTEGER NOT NULL,
BUD_ID INTEGER,
MUTANT_ID INTEGER NOT NULL,
ALIAS_TYPE VARCHAR2(40) NOT NULL CHECK (ALIAS_TYPE IN ('BROAD', 'EXACT', 'RELATED', 'NARROW')),
NOTE VARCHAR2(1000),
DATE_CREATED DATE DEFAULT SYSDATE NOT NULL,
CREATED_BY VARCHAR2(12) DEFAULT SUBSTR(USER,1,12) NOT NULL,
CONSTRAINT MUTANT_ALIAS_PK PRIMARY KEY (ALIAS_ID),
CONSTRAINT MUTANT_ALIAS_UK UNIQUE (MUTANT_ID, DISPLAY_NAME, ALIAS_TYPE),
CONSTRAINT MUTANT_ALIAS_BUD_UK UNIQUE (BUD_ID)) TABLESPACE DATA05;
CREATE INDEX MUT_ALIAS_SOURCE_FK_INDEX ON MUTANT_ALIAS (SOURCE_ID) TABLESPACE DATA05;
ALTER TABLE MUTANT_ALIAS
ADD CONSTRAINT MUT_ALIAS_SOURCE_FK FOREIGN KEY (SOURCE_ID) REFERENCES SOURCE (SOURCE_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE MUTANT_ALIAS
ADD CONSTRAINT MUT_ALIAS_MUT_FK FOREIGN KEY (MUTANT_ID) REFERENCES MUTANT (MUTANT_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
GRANT SELECT ON MUTANT_ALIAS TO DBSELECT;
GRANT DELETE, INSERT, SELECT, UPDATE ON MUTANT_ALIAS TO CURATOR;
GRANT DELETE, INSERT, SELECT, UPDATE ON MUTANT_ALIAS TO AUXILIARY;

DROP TABLE MUTANT_RELATION CASCADE CONSTRAINTS;
CREATE TABLE MUTANT_RELATION (
RELATION_ID INTEGER NOT NULL,
SOURCE_ID INTEGER NOT NULL,
BUD_ID INTEGER,
PARENT_ID INTEGER NOT NULL,
CHILD_ID INTEGER NOT NULL,
RELATION_TYPE VARCHAR2(40) NOT NULL CHECK (RELATION_TYPE IN ('is a')),
DATE_CREATED DATE DEFAULT SYSDATE NOT NULL,
CREATED_BY VARCHAR2(12) DEFAULT SUBSTR(USER,1,12) NOT NULL,
CONSTRAINT MUTANT_RELATION_PK PRIMARY KEY (RELATION_ID),
CONSTRAINT MUTANT_RELATION_UK UNIQUE(RELATION_TYPE, PARENT_ID, CHILD_ID)) TABLESPACE DATA03;
CREATE INDEX MUT_REL_PARENT_FK_INDEX ON MUTANT_RELATION (PARENT_ID) TABLESPACE DATA03;
CREATE INDEX MUT_REL_CHILD_FK_INDEX ON MUTANT_RELATION (CHILD_ID) TABLESPACE DATA03;
CREATE INDEX MUT_REL_SOURCE_FK_INDEX ON MUTANT_RELATION (SOURCE_ID) TABLESPACE DATA03;
ALTER TABLE MUTANT_RELATION
ADD CONSTRAINT MUT_REL_CHILD_FK FOREIGN KEY (CHILD_ID) REFERENCES MUTANT (MUTANT_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE MUTANT_RELATION
ADD CONSTRAINT MUT_REL_PARENT_FK FOREIGN KEY (PARENT_ID) REFERENCES MUTANT (MUTANT_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE MUTANT_RELATION
ADD CONSTRAINT MUT_REL_SOURCE_FK FOREIGN KEY (SOURCE_ID) REFERENCES SOURCE (SOURCE_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
GRANT SELECT ON MUTANT_RELATION TO DBSELECT;
GRANT DELETE, INSERT, SELECT, UPDATE ON MUTANT_RELATION TO CURATOR;
GRANT DELETE, INSERT, SELECT, UPDATE ON MUTANT_RELATION TO AUXILIARY;

DROP TABLE OBSERVABLE CASCADE CONSTRAINTS;
CREATE TABLE OBSERVABLE (
OBSERVABLE_ID INTEGER NOT NULL,
FORMAT_NAME VARCHAR2(100) NOT NULL,
DISPLAY_NAME VARCHAR2(500) NOT NULL,
OBJ_URL VARCHAR2(500),
SOURCE_ID INTEGER NOT NULL,
BUD_ID INTEGER,
APO_ID VARCHAR2(40),
OBSERVABLE_TYPE VARCHAR(40) NOT NULL CHECK (OBSERVABLE_TYPE IN ('cellular processes', 'development', 'essentiality', 'fitness', 'interaction with host/environment', 'metabolism and growth', 'morphology')),
DESCRIPTION VARCHAR2(1000),
DATE_CREATED DATE DEFAULT SYSDATE NOT NULL,
CREATED_BY VARCHAR2(12) DEFAULT SUBSTR(USER,1,12) NOT NULL,
CONSTRAINT OBSERVABLE_PK PRIMARY KEY (OBSERVABLE_ID),
CONSTRAINT OBSERVABLE_UK UNIQUE (FORMAT_NAME),
CONSTRAINT OBSERVABLE_BUD_UK UNIQUE (BUD_ID)) TABLESPACE DATA06;
CREATE INDEX OBSERVABLE_SOURCE_FK_INDEX ON OBSERVABLE (SOURCE_ID) TABLESPACE DATA06;
ALTER TABLE OBSERVABLE
ADD CONSTRAINT OBSERVABLE_SOURCE_FK FOREIGN KEY (SOURCE_ID) REFERENCES SOURCE (SOURCE_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
GRANT SELECT ON OBSERVABLE TO DBSELECT;
GRANT DELETE, INSERT, SELECT, UPDATE ON OBSERVABLE TO CURATOR;
GRANT DELETE, INSERT, SELECT, UPDATE ON OBSERVABLE TO AUXILIARY;

DROP TABLE OBSERVABLE_ALIAS CASCADE CONSTRAINTS;
CREATE TABLE OBSERVABLE_ALIAS (
ALIAS_ID INTEGER NOT NULL,
DISPLAY_NAME VARCHAR2(500) NOT NULL,
OBJ_URL VARCHAR2(500),
SOURCE_ID INTEGER NOT NULL,
BUD_ID INTEGER,
OBSERVABLE_ID INTEGER NOT NULL,
ALIAS_TYPE VARCHAR2(40) NOT NULL CHECK (ALIAS_TYPE IN ('BROAD', 'EXACT', 'RELATED', 'NARROW')),
NOTE VARCHAR2(1000),
DATE_CREATED DATE DEFAULT SYSDATE NOT NULL,
CREATED_BY VARCHAR2(12) DEFAULT SUBSTR(USER,1,12) NOT NULL,
CONSTRAINT OBSERVABLE_ALIAS_PK PRIMARY KEY (ALIAS_ID),
CONSTRAINT OBSERVABLE_ALIAS_UK UNIQUE (OBSERVABLE_ID, DISPLAY_NAME, ALIAS_TYPE),
CONSTRAINT OBSERVABLE_ALIAS_BUD_UK UNIQUE (BUD_ID)) TABLESPACE DATA05;
CREATE INDEX OBS_ALIAS_SOURCE_FK_INDEX ON OBSERVABLE_ALIAS (SOURCE_ID) TABLESPACE DATA05;
ALTER TABLE OBSERVABLE_ALIAS
ADD CONSTRAINT OBS_ALIAS_SOURCE_FK FOREIGN KEY (SOURCE_ID) REFERENCES SOURCE (SOURCE_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE OBSERVABLE_ALIAS
ADD CONSTRAINT OBS_ALIAS_OBS_FK FOREIGN KEY (OBSERVABLE_ID) REFERENCES OBSERVABLE (OBSERVABLE_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
GRANT SELECT ON OBSERVABLE_ALIAS TO DBSELECT;
GRANT DELETE, INSERT, SELECT, UPDATE ON OBSERVABLE_ALIAS TO CURATOR;
GRANT DELETE, INSERT, SELECT, UPDATE ON OBSERVABLE_ALIAS TO AUXILIARY;

DROP TABLE OBSERVABLE_RELATION CASCADE CONSTRAINTS;
CREATE TABLE OBSERVABLE_RELATION (
RELATION_ID INTEGER NOT NULL,
SOURCE_ID INTEGER NOT NULL,
BUD_ID INTEGER,
PARENT_ID INTEGER NOT NULL,
CHILD_ID INTEGER NOT NULL,
RELATION_TYPE VARCHAR2(40) NOT NULL CHECK (RELATION_TYPE IN ('is a')),
DATE_CREATED DATE DEFAULT SYSDATE NOT NULL,
CREATED_BY VARCHAR2(12) DEFAULT SUBSTR(USER,1,12) NOT NULL,
CONSTRAINT OBSERVABLE_RELATION_PK PRIMARY KEY (RELATION_ID),
CONSTRAINT OBSERVABLE_RELATION_UK UNIQUE(RELATION_TYPE, PARENT_ID, CHILD_ID)) TABLESPACE DATA03;
CREATE INDEX OBS_REL_PARENT_FK_INDEX ON OBSERVABLE_RELATION (PARENT_ID) TABLESPACE DATA03;
CREATE INDEX OBS_REL_CHILD_FK_INDEX ON OBSERVABLE_RELATION (CHILD_ID) TABLESPACE DATA03;
CREATE INDEX OBS_REL_SOURCE_FK_INDEX ON OBSERVABLE_RELATION (SOURCE_ID) TABLESPACE DATA03;
ALTER TABLE OBSERVABLE_RELATION
ADD CONSTRAINT OBS_REL_CHILD_FK FOREIGN KEY (CHILD_ID) REFERENCES OBSERVABLE (OBSERVABLE_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE OBSERVABLE_RELATION
ADD CONSTRAINT OBS_REL_PARENT_FK FOREIGN KEY (PARENT_ID) REFERENCES OBSERVABLE (OBSERVABLE_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE OBSERVABLE_RELATION
ADD CONSTRAINT OBS_REL_SOURCE_FK FOREIGN KEY (SOURCE_ID) REFERENCES SOURCE (SOURCE_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
GRANT SELECT ON OBSERVABLE_RELATION TO DBSELECT;
GRANT DELETE, INSERT, SELECT, UPDATE ON OBSERVABLE_RELATION TO CURATOR;
GRANT DELETE, INSERT, SELECT, UPDATE ON OBSERVABLE_RELATION TO AUXILIARY;

DROP TABLE ORPHAN CASCADE CONSTRAINTS;
CREATE TABLE ORPHAN (
ORPHAN_ID INTEGER NOT NULL,
FORMAT_NAME VARCHAR2(100) NOT NULL,
DISPLAY_NAME VARCHAR2(500) NOT NULL,
OBJ_URL VARCHAR2(500),
SOURCE_ID INTEGER NOT NULL,
BUD_ID INTEGER,
ORPHAN_TYPE VARCHAR2(40),
DESCRIPTION VARCHAR2(500),
DATE_CREATED DATE DEFAULT SYSDATE NOT NULL,
CREATED_BY VARCHAR2(12) DEFAULT SUBSTR(USER,1,12) NOT NULL,
CONSTRAINT ORPHAN_PK PRIMARY KEY (ORPHAN_ID),
CONSTRAINT ORPHAN_UK UNIQUE (FORMAT_NAME),
CONSTRAINT ORPHAN_BUD_UK UNIQUE (BUD_ID)) TABLESPACE DATA06;
CREATE INDEX ORPHAN_SOURCE_FK_INDEX ON ORPHAN (SOURCE_ID) TABLESPACE DATA06;
ALTER TABLE ORPHAN
ADD CONSTRAINT ORPHAN_SOURCE_FK FOREIGN KEY (SOURCE_ID) REFERENCES SOURCE (SOURCE_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
GRANT SELECT ON ORPHAN TO DBSELECT;
GRANT DELETE, INSERT, SELECT, UPDATE ON ORPHAN TO CURATOR;
GRANT DELETE, INSERT, SELECT, UPDATE ON ORPHAN TO AUXILIARY;

DROP TABLE ORPHAN_URL CASCADE CONSTRAINTS;
CREATE TABLE ORPHAN_URL (
URL_ID INTEGER NOT NULL,
DISPLAY_NAME VARCHAR2(500) NOT NULL,
OBJ_URL VARCHAR2(500) NOT NULL,
SOURCE_ID INTEGER NOT NULL,
BUD_ID INTEGER,
ORPHAN_ID INTEGER NOT NULL,
URL_TYPE VARCHAR2(40) NOT NULL,
DATE_CREATED DATE DEFAULT SYSDATE NOT NULL,
CREATED_BY VARCHAR2(12) DEFAULT SUBSTR(USER,1,12) NOT NULL,
CONSTRAINT ORPHAN_URL_PK PRIMARY KEY (URL_ID),
CONSTRAINT ORPHAN_URL_UK UNIQUE (ORPHAN_ID, DISPLAY_NAME, OBJ_URL) ) TABLESPACE DATA06;
CREATE INDEX ORPH_URL_SOURCE_FK_INDEX ON ORPHAN_URL (SOURCE_ID) TABLESPACE DATA06;
ALTER TABLE ORPHAN_URL
ADD CONSTRAINT ORPH_URL_SOURCE_FK FOREIGN KEY (SOURCE_ID) REFERENCES SOURCE (SOURCE_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE ORPHAN_URL
ADD CONSTRAINT ORPH_URL_REF_FK FOREIGN KEY (ORPHAN_ID) REFERENCES ORPHAN (ORPHAN_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
GRANT SELECT ON ORPHAN_URL TO DBSELECT;
GRANT DELETE, INSERT, SELECT, UPDATE ON ORPHAN_URL TO CURATOR;
GRANT DELETE, INSERT, SELECT, UPDATE ON ORPHAN_URL TO AUXILIARY;

DROP TABLE PHENOTYPE CASCADE CONSTRAINTS;
CREATE TABLE PHENOTYPE (
PHENOTYPE_ID INTEGER NOT NULL,
FORMAT_NAME VARCHAR2(100) NOT NULL,
DISPLAY_NAME VARCHAR2(500) NOT NULL,
OBJ_URL VARCHAR2(500),
SOURCE_ID INTEGER NOT NULL,
BUD_ID INTEGER,
OBSERVABLE_ID INTEGER NOT NULL,
QUALIFIER_ID INTEGER NULL,
DESCRIPTION VARCHAR2(500),
DATE_CREATED DATE DEFAULT SYSDATE NOT NULL,
CREATED_BY VARCHAR2(12) DEFAULT SUBSTR(USER,1,12) NOT NULL,
CONSTRAINT PHENOTYPE_PK PRIMARY KEY (PHENOTYPE_ID),
CONSTRAINT PHENOTYPE_UK UNIQUE (FORMAT_NAME),
CONSTRAINT PHENOTYPE_BUD_UK UNIQUE (BUD_ID)) TABLESPACE DATA06;
CREATE INDEX PHENOTYPE_SOURCE_FK_INDEX ON PHENOTYPE (SOURCE_ID) TABLESPACE DATA06;
CREATE INDEX PHENOTYPE_OBSERVABLE_FK_INDEX ON PHENOTYPE (OBSERVABLE_ID) TABLESPACE DATA06;
CREATE INDEX PHENOTYPE_QUALIFIER_FK_INDEX ON PHENOTYPE (QUALIFIER_ID) TABLESPACE DATA06;
ALTER TABLE PHENOTYPE
ADD CONSTRAINT PHENOTYPE_SOURCE_FK FOREIGN KEY (SOURCE_ID) REFERENCES SOURCE (SOURCE_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE PHENOTYPE
ADD CONSTRAINT PHENOTYPE_OBSERVABLE_FK FOREIGN KEY (OBSERVABLE_ID) REFERENCES OBSERVABLE (OBSERVABLE_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE PHENOTYPE
ADD CONSTRAINT PHENOTYPE_QUALIFIER_FK FOREIGN KEY (QUALIFIER_ID) REFERENCES QUALIFIER (QUALIFIER_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
GRANT SELECT ON PHENOTYPE TO DBSELECT;
GRANT DELETE, INSERT, SELECT, UPDATE ON PHENOTYPE TO CURATOR;
GRANT DELETE, INSERT, SELECT, UPDATE ON PHENOTYPE TO AUXILIARY;

DROP TABLE PROTEINDOMAIN CASCADE CONSTRAINTS;
CREATE TABLE PROTEINDOMAIN (
PROTEINDOMAIN_ID INTEGER NOT NULL,
FORMAT_NAME VARCHAR2(100) NOT NULL,
DISPLAY_NAME VARCHAR2(500) NOT NULL,
OBJ_URL VARCHAR2(500),
SOURCE_ID INTEGER NOT NULL,
BUD_ID INTEGER,
INTERPRO_ID VARCHAR2(20),
DESCRIPTION VARCHAR2(500),
DATE_CREATED DATE DEFAULT SYSDATE NOT NULL,
CREATED_BY VARCHAR2(12) DEFAULT SUBSTR(USER,1,12) NOT NULL,
CONSTRAINT PROTEINDOMAIN_PK PRIMARY KEY (PROTEINDOMAIN_ID),
CONSTRAINT PROTEINDOMAIN_UK UNIQUE (FORMAT_NAME)) TABLESPACE DATA08;
CREATE INDEX PROTEINDOMAIN_SOURCE_FK_INDEX ON PROTEINDOMAIN (SOURCE_ID) TABLESPACE DATA08;
ALTER TABLE PROTEINDOMAIN
ADD CONSTRAINT PROTEINDOMAIN_SOURCE_FK FOREIGN KEY (SOURCE_ID) REFERENCES SOURCE (SOURCE_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
GRANT SELECT ON PROTEINDOMAIN TO DBSELECT;
GRANT DELETE, INSERT, SELECT, UPDATE ON PROTEINDOMAIN TO CURATOR;
GRANT DELETE, INSERT, SELECT, UPDATE ON PROTEINDOMAIN TO AUXILIARY;

DROP TABLE PROTEINDOMAIN_URL CASCADE CONSTRAINTS;
CREATE TABLE PROTEINDOMAIN_URL (
URL_ID INTEGER NOT NULL,
DISPLAY_NAME VARCHAR2(500) NOT NULL,
OBJ_URL VARCHAR2(500) NOT NULL,
SOURCE_ID INTEGER NOT NULL,
BUD_ID INTEGER,
PROTEINDOMAIN_ID INTEGER NOT NULL,
URL_TYPE VARCHAR2(40) NOT NULL CHECK (URL_TYPE IN ('Interpro', 'External')),
DATE_CREATED DATE DEFAULT SYSDATE NOT NULL,
CREATED_BY VARCHAR2(12) DEFAULT SUBSTR(USER,1,12) NOT NULL,
CONSTRAINT PROTEINDOMAIN_URL_PK PRIMARY KEY (URL_ID),
CONSTRAINT PROTEINDOMAIN_URL_UK UNIQUE (PROTEINDOMAIN_ID, DISPLAY_NAME, URL_TYPE) ) TABLESPACE DATA04;
CREATE INDEX DOM_URL_SOURCE_FK_INDEX ON PROTEINDOMAIN_URL (SOURCE_ID) TABLESPACE DATA04;
ALTER TABLE PROTEINDOMAIN_URL
ADD CONSTRAINT DOM_URL_SOURCE_FK FOREIGN KEY (SOURCE_ID) REFERENCES SOURCE (SOURCE_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE PROTEINDOMAIN_URL
ADD CONSTRAINT DOM_URL_COLLEAGUE_FK FOREIGN KEY (PROTEINDOMAIN_ID) REFERENCES PROTEINDOMAIN (PROTEINDOMAIN_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
GRANT SELECT ON PROTEINDOMAIN_URL TO DBSELECT;
GRANT INSERT, SELECT, UPDATE ON PROTEINDOMAIN_URL TO CURATOR;
GRANT DELETE, INSERT, SELECT, UPDATE ON PROTEINDOMAIN_URL TO AUXILIARY;

DROP TABLE QUALIFIER CASCADE CONSTRAINTS;
CREATE TABLE QUALIFIER (
QUALIFIER_ID INTEGER NOT NULL,
FORMAT_NAME VARCHAR2(100) NOT NULL,
DISPLAY_NAME VARCHAR2(500) NOT NULL,
OBJ_URL VARCHAR2(500),
SOURCE_ID INTEGER NOT NULL,
BUD_ID INTEGER,
APO_ID VARCHAR2(12) NOT NULL,
DESCRIPTION VARCHAR2(1000),
DATE_CREATED DATE DEFAULT SYSDATE NOT NULL,
CREATED_BY VARCHAR2(12) DEFAULT SUBSTR(USER,1,12) NOT NULL,
CONSTRAINT QUALIFIER_PK PRIMARY KEY (QUALIFIER_ID),
CONSTRAINT QUALIFIER_UK UNIQUE (FORMAT_NAME),
CONSTRAINT QUALIFIER_BUD_UK UNIQUE (BUD_ID)) TABLESPACE DATA05;
CREATE INDEX QUALIFIER_SOURCE_INDEX ON QUALIFIER (SOURCE_ID) TABLESPACE DATA05;
ALTER TABLE QUALIFIER
ADD CONSTRAINT QUALIFIER_SOURCE_FK FOREIGN KEY (SOURCE_ID) REFERENCES SOURCE (SOURCE_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
GRANT SELECT ON QUALIFIER TO DBSELECT;
GRANT DELETE, INSERT, SELECT, UPDATE ON QUALIFIER TO CURATOR;
GRANT DELETE, INSERT, SELECT, UPDATE ON QUALIFIER TO AUXILIARY;

DROP TABLE QUALIFIER_ALIAS CASCADE CONSTRAINTS;
CREATE TABLE QUALIFIER_ALIAS (
ALIAS_ID INTEGER NOT NULL,
DISPLAY_NAME VARCHAR2(500) NOT NULL,
OBJ_URL VARCHAR2(500),
SOURCE_ID INTEGER NOT NULL,
BUD_ID INTEGER,
QUALIFIER_ID INTEGER NOT NULL,
ALIAS_TYPE VARCHAR2(40) NOT NULL CHECK (ALIAS_TYPE IN ('BROAD', 'EXACT', 'RELATED', 'NARROW')),
NOTE VARCHAR2(1000),
DATE_CREATED DATE DEFAULT SYSDATE NOT NULL,
CREATED_BY VARCHAR2(12) DEFAULT SUBSTR(USER,1,12) NOT NULL,
CONSTRAINT QUALIFIER_ALIAS_PK PRIMARY KEY (ALIAS_ID),
CONSTRAINT QUALIFIER_ALIAS_UK UNIQUE (QUALIFIER_ID, DISPLAY_NAME, ALIAS_TYPE),
CONSTRAINT QUALIFIER_ALIAS_BUD_UK UNIQUE (BUD_ID)) TABLESPACE DATA05;
CREATE INDEX QUAL_ALIAS_SOURCE_FK_INDEX ON QUALIFIER_ALIAS (SOURCE_ID) TABLESPACE DATA05;
ALTER TABLE QUALIFIER_ALIAS
ADD CONSTRAINT QUAL_ALIAS_SOURCE_FK FOREIGN KEY (SOURCE_ID) REFERENCES SOURCE (SOURCE_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE QUALIFIER_ALIAS
ADD CONSTRAINT QUAL_ALIAS_QUAL_FK FOREIGN KEY (QUALIFIER_ID) REFERENCES QUALIFIER (QUALIFIER_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
GRANT SELECT ON QUALIFIER_ALIAS TO DBSELECT;
GRANT DELETE, INSERT, SELECT, UPDATE ON QUALIFIER_ALIAS TO CURATOR;
GRANT DELETE, INSERT, SELECT, UPDATE ON QUALIFIER_ALIAS TO AUXILIARY;

DROP TABLE QUALIFIER_RELATION CASCADE CONSTRAINTS;
CREATE TABLE QUALIFIER_RELATION (
RELATION_ID INTEGER NOT NULL,
SOURCE_ID INTEGER NOT NULL,
BUD_ID INTEGER,
PARENT_ID INTEGER NOT NULL,
CHILD_ID INTEGER NOT NULL,
RELATION_TYPE VARCHAR2(40) NOT NULL CHECK (RELATION_TYPE IN ('is a')),
DATE_CREATED DATE DEFAULT SYSDATE NOT NULL,
CREATED_BY VARCHAR2(12) DEFAULT SUBSTR(USER,1,12) NOT NULL,
CONSTRAINT QUALIFIER_RELATION_PK PRIMARY KEY (RELATION_ID),
CONSTRAINT QUALIFIER_RELATION_UK UNIQUE(RELATION_TYPE, PARENT_ID, CHILD_ID)) TABLESPACE DATA03;
CREATE INDEX QUAL_REL_PARENT_FK_INDEX ON QUALIFIER_RELATION (PARENT_ID) TABLESPACE DATA03;
CREATE INDEX QUAL_REL_CHILD_FK_INDEX ON QUALIFIER_RELATION (CHILD_ID) TABLESPACE DATA03;
CREATE INDEX QUAL_REL_SOURCE_FK_INDEX ON QUALIFIER_RELATION (SOURCE_ID) TABLESPACE DATA03;
ALTER TABLE QUALIFIER_RELATION
ADD CONSTRAINT QUAL_REL_CHILD_FK FOREIGN KEY (CHILD_ID) REFERENCES QUALIFIER (QUALIFIER_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE QUALIFIER_RELATION
ADD CONSTRAINT QUAL_REL_PARENT_FK FOREIGN KEY (PARENT_ID) REFERENCES QUALIFIER (QUALIFIER_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE QUALIFIER_RELATION
ADD CONSTRAINT QUAL_REL_SOURCE_FK FOREIGN KEY (SOURCE_ID) REFERENCES SOURCE (SOURCE_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
GRANT SELECT ON QUALIFIER_RELATION TO DBSELECT;
GRANT DELETE, INSERT, SELECT, UPDATE ON QUALIFIER_RELATION TO CURATOR;
GRANT DELETE, INSERT, SELECT, UPDATE ON QUALIFIER_RELATION TO AUXILIARY;

DROP TABLE RESERVEDNAME CASCADE CONSTRAINTS;
CREATE TABLE RESERVEDNAME (
RESERVEDNAME_ID VARCHAR2(36) NOT NULL,
NAME VARCHAR2(500) NOT NULL,
OBJ_URL VARCHAR2(500),
SOURCE_ID VARCHAR2(36) NOT NULL,
BUD_ID INTEGER,
LOCUS_ID VARCHAR2(36),
REFERENCE_ID VARCHAR2(36),
COLLEAGUE_ID VARCHAR2(36) NOT NULL,
RESERVATION_DATE DATE NOT NULL,
EXPIRATION_DATE DATE NOT NULL,
DESCRIPTION VARCHAR2(500),
DATE_CREATED DATE DEFAULT SYSDATE NOT NULL,
CREATED_BY VARCHAR2(12) DEFAULT SUBSTR(USER,1,12) NOT NULL,
CONSTRAINT RESERVEDNAME_PK PRIMARY KEY (RESERVEDNAME_ID),
CONSTRAINT RESERVEDNAME_UK UNIQUE (NAME),
CONSTRAINT RESERVEDNAME_BUD_UK UNIQUE (BUD_ID)) TABLESPACE DATA01;
CREATE INDEX RESERVEDNAME_SOURCE_FK_INDEX ON RESERVEDNAME (SOURCE_ID) TABLESPACE DATA01;
CREATE INDEX RESERVEDNAME_LOCUS_FK_INDEX ON RESERVEDNAME (LOCUS_ID) TABLESPACE DATA01;
CREATE INDEX RESERVEDNAME_REF_FK_INDEX ON RESERVEDNAME (REFERENCE_ID) TABLESPACE DATA01;
ALTER TABLE RESERVEDNAME
ADD CONSTRAINT RESERVEDNAME_SOURCE_FK FOREIGN KEY (SOURCE_ID) REFERENCES SOURCE (SOURCE_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE RESERVEDNAME
ADD CONSTRAINT RESERVEDNAME_LOCUS_FK FOREIGN KEY (LOCUS_ID) REFERENCES LOCUSDBENTITY (DBENTITY_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE RESERVEDNAME
ADD CONSTRAINT RN_REF_FK FOREIGN KEY (REFERENCE_ID) REFERENCES REFERENCEDBENTITY (DBENTITY_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
GRANT SELECT ON RESERVEDNAME TO DBSELECT;
GRANT DELETE, INSERT, SELECT, UPDATE ON RESERVEDNAME TO CURATOR;
GRANT DELETE, INSERT, SELECT, UPDATE ON RESERVEDNAME TO AUXILIARY;

DROP TABLE SEQUENCEFEATURE CASCADE CONSTRAINTS;
CREATE TABLE SEQUENCEFEATURE (
SEQUENCEFEATURE_ID INTEGER NOT NULL,
FORMAT_NAME VARCHAR2(100) NOT NULL,
DISPLAY_NAME VARCHAR2(500) NOT NULL,
OBJ_URL VARCHAR2(500),
SOURCE_ID INTEGER NOT NULL,
SO_ID VARCHAR2(40) NOT NULL,
BUD_ID INTEGER NULL,
DESCRIPTION VARCHAR2(2000),
DATE_CREATED DATE DEFAULT SYSDATE NOT NULL,
CREATED_BY VARCHAR2(12) DEFAULT SUBSTR(USER,1,12) NOT NULL,
CONSTRAINT SEQUENCEFEATURE_PK PRIMARY KEY (SEQUENCEFEATURE_ID),
CONSTRAINT SEQUENCEFEATURE_UK UNIQUE (FORMAT_NAME) ) TABLESPACE DATA03;
CREATE INDEX SEQFEAT_SOURCE_FK_INDEX ON SEQUENCEFEATURE (SOURCE_ID) TABLESPACE DATA03;
ALTER TABLE SEQUENCEFEATURE
ADD CONSTRAINT SEQFEAT_SOURCE_FK FOREIGN KEY (SOURCE_ID) REFERENCES SOURCE (SOURCE_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
GRANT SELECT ON SEQUENCEFEATURE TO DBSELECT;
GRANT INSERT, SELECT, UPDATE ON SEQUENCEFEATURE TO CURATOR;
GRANT DELETE, INSERT, SELECT, UPDATE ON SEQUENCEFEATURE TO AUXILIARY;

DROP TABLE SEQUENCEFEATURE_ALIAS CASCADE CONSTRAINTS;
CREATE TABLE SEQUENCEFEATURE_ALIAS (
ALIAS_ID INTEGER NOT NULL,
DISPLAY_NAME VARCHAR2(500) NOT NULL,
OBJ_URL VARCHAR2(500),
SOURCE_ID INTEGER NOT NULL,
BUD_ID INTEGER,
SEQUENCEFEATURE_ID INTEGER NOT NULL,
ALIAS_TYPE VARCHAR2(40) NOT NULL (ALIAS_TYPE IN ('BROAD', 'EXACT', 'RELATED', 'NARROW')),
DATE_CREATED DATE DEFAULT SYSDATE NOT NULL,
CREATED_BY VARCHAR2(12) DEFAULT SUBSTR(USER,1,12) NOT NULL,
CONSTRAINT SEQUENCEFEATURE_ALIAS_PK PRIMARY KEY (ALIAS_ID),
CONSTRAINT SEQUENCEFEATURE_ALIAS_UK UNIQUE (SEQUENCEFEATURE_ID, DISPLAY_NAME, ALIAS_TYPE) ) TABLESPACE DATA03;
CREATE INDEX SF_ALIAS_SOURCE_FK_INDEX ON SEQUENCEFEATURE_ALIAS (SOURCE_ID) TABLESPACE DATA03;
ALTER TABLE SEQUENCEFEATURE_ALIAS
ADD CONSTRAINT SF_ALIAS_SOURCE_FK FOREIGN KEY (SOURCE_ID) REFERENCES SOURCE (SOURCE_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE SEQUENCEFEATURE_ALIAS
ADD CONSTRAINT SF_ALIAS_EV_FK FOREIGN KEY (SEQUENCEFEATURE_ID) REFERENCES SEQUENCEFEATURE (SEQUENCEFEATURE_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
GRANT SELECT ON SEQUENCEFEATURE_ALIAS TO DBSELECT;
GRANT DELETE, INSERT, SELECT, UPDATE ON SEQUENCEFEATURE_ALIAS TO CURATOR;
GRANT DELETE, INSERT, SELECT, UPDATE ON SEQUENCEFEATURE_ALIAS TO AUXILIARY;

DROP TABLE SEQUENCEFEATURE_URL CASCADE CONSTRAINTS;
CREATE TABLE SEQUENCEFEATURE_URL (
URL_ID INTEGER NOT NULL,
DISPLAY_NAME VARCHAR2(500) NOT NULL,
OBJ_URL VARCHAR2(500) NOT NULL,
SOURCE_ID INTEGER NOT NULL,
BUD_ID INTEGER,
SEQUENCEFEATURE_ID INTEGER NOT NULL,
URL_TYPE VARCHAR2(40) NOT NULL CHECK (URL_TYPE IN ('External')),
DATE_CREATED DATE DEFAULT SYSDATE NOT NULL,
CREATED_BY VARCHAR2(12) DEFAULT SUBSTR(USER,1,12) NOT NULL,
CONSTRAINT SEQUENCEFEATURE_URL_PK PRIMARY KEY (URL_ID),
CONSTRAINT SEQUENCEFEATURE_URL_UK UNIQUE (SEQUENCEFEATURE_ID, DISPLAY_NAME, OBJ_URL) ) TABLESPACE DATA03;
CREATE INDEX SF_URL_SOURCE_FK_INDEX ON SEQUENCEFEATURE_URL (SOURCE_ID) TABLESPACE DATA03;
ALTER TABLE SEQUENCEFEATURE_URL
ADD CONSTRAINT SF_URL_SOURCE_FK FOREIGN KEY (SOURCE_ID) REFERENCES SOURCE (SOURCE_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE SEQUENCEFEATURE_URL
ADD CONSTRAINT SF_URL_REF_FK FOREIGN KEY (SEQUENCEFEATURE_ID) REFERENCES SEQUENCEFEATURE (SEQUENCEFEATURE_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
GRANT SELECT ON SEQUENCEFEATURE_URL TO DBSELECT;
GRANT DELETE, INSERT, SELECT, UPDATE ON SEQUENCEFEATURE_URL TO CURATOR;
GRANT DELETE, INSERT, SELECT, UPDATE ON SEQUENCEFEATURE_URL TO AUXILIARY;

DROP TABLE SEQUENCEFEATURE_RELATION CASCADE CONSTRAINTS;
CREATE TABLE SEQUENCEFEATURE_RELATION (
RELATION_ID INTEGER NOT NULL,
SOURCE_ID INTEGER NOT NULL,
BUD_ID INTEGER,
PARENT_ID INTEGER NOT NULL,
CHILD_ID INTEGER NOT NULL,
RELATION_TYPE VARCHAR2(40) NOT NULL CHECK (RELATION_TYPE IN ('is a')),
DATE_CREATED DATE DEFAULT SYSDATE NOT NULL,
CREATED_BY VARCHAR2(12) DEFAULT SUBSTR(USER,1,12) NOT NULL,
CONSTRAINT SEQUENCEFEATURE_RELATION_PK PRIMARY KEY (RELATION_ID),
CONSTRAINT SEQUENCEFEATURE_RELATION_UK UNIQUE(RELATION_TYPE, PARENT_ID, CHILD_ID)) TABLESPACE DATA03;
CREATE INDEX SEQFEAT_REL_PARENT_FK_INDEX ON SEQUENCEFEATURE_RELATION (PARENT_ID) TABLESPACE DATA03;
CREATE INDEX SEQFEAT_REL_CHILD_FK_INDEX ON SEQUENCEFEATURE_RELATION (CHILD_ID) TABLESPACE DATA03;
CREATE INDEX SEQFEAT_REL_SOURCE_FK_INDEX ON SEQUENCEFEATURE_RELATION (SOURCE_ID) TABLESPACE DATA03;
ALTER TABLE SEQUENCEFEATURE_RELATION
ADD CONSTRAINT SEQFEAT_REL_CHILD_FK FOREIGN KEY (CHILD_ID) REFERENCES SEQUENCEFEATURE (SEQUENCEFEATURE_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE SEQUENCEFEATURE_RELATION
ADD CONSTRAINT SEQFEAT_REL_PARENT_FK FOREIGN KEY (PARENT_ID) REFERENCES SEQUENCEFEATURE (SEQUENCEFEATURE_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE SEQUENCEFEATURE_RELATION
ADD CONSTRAINT SEQFEAT_REL_SOURCE_FK FOREIGN KEY (SOURCE_ID) REFERENCES SOURCE (SOURCE_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
GRANT SELECT ON SEQUENCEFEATURE_RELATION TO DBSELECT;
GRANT DELETE, INSERT, SELECT, UPDATE ON SEQUENCEFEATURE_RELATION TO CURATOR;
GRANT DELETE, INSERT, SELECT, UPDATE ON SEQUENCEFEATURE_RELATION TO AUXILIARY;

/* ANNOTATION */

DROP TABLE BINDINGANNOTATION CASCADE CONSTRAINTS;
CREATE TABLE BINDINGANNOTATION (
ANNOTATION_ID INTEGER NOT NULL,
DBENTITY_ID INTEGER NOT NULL,
SOURCE_ID INTEGER NOT NULL,
REFERENCE_ID INTEGER NULL,
TAXONOMY_ID INTEGER,
BUD_ID INTEGER,
OBJ_URL VARCHAR2(500) NOT NULL,
MOTIF_ID INTEGER NOT NULL,
DATE_CREATED DATE DEFAULT SYSDATE NOT NULL,
CREATED_BY VARCHAR2(12) DEFAULT SUBSTR(USER,1,12) NOT NULL,
CONSTRAINT BINDINGANNOTATION_PK PRIMARY KEY (ANNOTATION_ID),
CONSTRAINT BINDINGANNOTATION_UK UNIQUE (DBENTITY_ID, MOTIF_ID) ) TABLESPACE DATA08;
CREATE INDEX BINDANNO_REF_FK_INDEX ON BINDINGANNOTATION (REFERENCE_ID) TABLESPACE DATA08;
CREATE INDEX BINDANNO_TAX_FK_INDEX ON BINDINGANNOTATION (TAXONOMY_ID) TABLESPACE DATA08;
CREATE INDEX BINDANNO_SOURCE_FK_INDEX ON BINDINGANNOTATION (SOURCE_ID) TABLESPACE DATA08;
ALTER TABLE BINDINGANNOTATION
ADD CONSTRAINT BINDANNO_REF_FK FOREIGN KEY (REFERENCE_ID) REFERENCES REFERENCEDBENTITY (DBENTITY_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE BINDINGANNOTATION
ADD CONSTRAINT BINDANNO_TAX_FK FOREIGN KEY (TAXONOMY_ID) REFERENCES TAXONOMY (TAXONOMY_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE BINDINGANNOTATION
ADD CONSTRAINT BINDANNO_SOURCE_FK FOREIGN KEY (SOURCE_ID) REFERENCES SOURCE (SOURCE_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE BINDINGANNOTATION
ADD CONSTRAINT BINDANNO_DBENTITY_FK FOREIGN KEY (DBENTITY_ID) REFERENCES DBENTITY (DBENTITY_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
GRANT SELECT ON BINDINGANNOTATION TO DBSELECT;
GRANT DELETE, INSERT, SELECT, UPDATE ON BINDINGANNOTATION TO CURATOR;
GRANT DELETE, INSERT, SELECT, UPDATE ON BINDINGANNOTATION TO AUXILIARY;

DROP TABLE DNASEQUENCEANNOTATION CASCADE CONSTRAINTS;
CREATE TABLE DNASEQUENCEANNOTATION (
ANNOTATION_ID INTEGER NOT NULL,
DBENTITY_ID INTEGER NOT NULL,
SOURCE_ID INTEGER NOT NULL,
REFERENCE_ID INTEGER,
TAXONOMY_ID INTEGER,
BUD_ID INTEGER,
DNA_TYPE VARCHAR2(50) NOT NULL CHECK (DNA_TYPE IN ('CODING', '1KB', 'GENOMIC')),
RESIDUES CLOB NOT NULL,
CONTIG_ID INTEGER,
SEQ_VERSION DATE,
COORD_VERSION DATE,
GENOMERELEASE_ID INTEGER,
START_INDEX INTEGER,
END_INDEX INTEGER,
STRAND VARCHAR2(1) NOT NULL CHECK (STRAND IN ('+', '-', '0')),
HEADER VARCHAR2(200),
FILENAME VARCHAR2(200),
DATE_CREATED DATE DEFAULT SYSDATE NOT NULL,
CREATED_BY VARCHAR2(12) DEFAULT SUBSTR(USER,1,12) NOT NULL,
CONSTRAINT DNASEQUENCEANNOTATION_PK PRIMARY KEY (ANNOTATION_ID),
CONSTRAINT DNASEQUENCEANNOTATION_UK UNIQUE (DBENTITY_ID, TAXONOMY_ID, DNA_TYPE) ) TABLESPACE DATA11;
CREATE INDEX DNASEQANNO_REF_FK_INDEX ON DNASEQUENCEANNOTATION (REFERENCE_ID) TABLESPACE DATA11;
CREATE INDEX DNASEQANNO_TAX_FK_INDEX ON DNASEQUENCEANNOTATION (TAXONOMY_ID) TABLESPACE DATA11;
CREATE INDEX DNASEQANNO_SOURCE_FK_INDEX ON DNASEQUENCEANNOTATION (SOURCE_ID) TABLESPACE DATA11;
CREATE INDEX DNASEQANNO_CONTIG_FK_INDEX ON DNASEQUENCEANNOTATION (CONTIG_ID) TABLESPACE DATA11;
CREATE INDEX DNASEQANNO_GENRELEASE_FK_INDEX ON DNASEQUENCEANNOTATION (GENOMERELEASE_ID) TABLESPACE DATA11;
ALTER TABLE DNASEQUENCEANNOTATION
ADD CONSTRAINT DNASEQANNO_REF_FK FOREIGN KEY (REFERENCE_ID) REFERENCES REFERENCEDBENTITY (DBENTITY_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE DNASEQUENCEANNOTATION
ADD CONSTRAINT DNASEQANNO_ORGANISM_FK FOREIGN KEY (TAXONOMY_ID) REFERENCES TAXONOMY (TAXONOMY_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE DNASEQUENCEANNOTATION
ADD CONSTRAINT DNASEQANNO_SOURCE_FK FOREIGN KEY (SOURCE_ID) REFERENCES SOURCE (SOURCE_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE DNASEQUENCEANNOTATION
ADD CONSTRAINT DNASEQANNO_DBENTITY_FK FOREIGN KEY (DBENTITY_ID) REFERENCES DBENTITY (DBENTITY_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE DNASEQUENCEANNOTATION
ADD CONSTRAINT DNASEQANNO_CONTIG_FK FOREIGN KEY (CONTIG_ID) REFERENCES CONTIG (CONTIG_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE DNASEQUENCEANNOTATION
ADD CONSTRAINT DNASEQANNO_GENRELEASE_FK FOREIGN KEY (GENOMERELEASE_ID) REFERENCES GENOMERELEASE (GENOMERELEASE_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
GRANT SELECT ON DNASEQUENCEANNOTATION TO DBSELECT;
GRANT DELETE, INSERT, SELECT, UPDATE ON DNASEQUENCEANNOTATION TO CURATOR;
GRANT DELETE, INSERT, SELECT, UPDATE ON DNASEQUENCEANNOTATION TO AUXILIARY;

DROP TABLE DNASEQUENCE_EXTENSION CASCADE CONSTRAINTS;
CREATE TABLE DNASEQUENCE_EXTENSION (
DNASEQUENCE_EXTENSION_ID INTEGER NOT NULL,
ANNOTATION_ID INTEGER NOT NULL,
DISPLAY_NAME VARCHAR2(500) NOT NULL,
EXTENSION_TYPE VARCHAR2(40) NOT NULL,
RELATIVE_START_INDEX INTEGER NOT NULL,
RELATIVE_END_INDEX INTEGER NOT NULL,
CHROMOSOMAL_START_INDEX INTEGER NOT NULL,
CHROMOSOMAL_END_INDEX INTEGER NOT NULL,
PHASE VARCHAR2(1) NULL,
SEQ_VERSION DATE,
COORD_VERSION DATE,
GENOMERELEASE_ID INTEGER,
LOCUS_ID INTEGER,
DATE_CREATED DATE DEFAULT SYSDATE NOT NULL,
CREATED_BY VARCHAR2(12) DEFAULT SUBSTR(USER,1,12) NOT NULL,
CONSTRAINT DDNASEQUENCE_EXTENSION_PK PRIMARY KEY (DNASEQUENCE_EXTENSION_ID),
CONSTRAINT DNASEQUENCE_EXTENSION_UK UNIQUE (ANNOTATION_ID, EXTENSION_TYPE, RELATIVE_START_INDEX, RELATIVE_END_INDEX)) TABLESPACE DATA11;
CREATE INDEX DNASEQEXT_DBENTITY_FK_INDEX ON DNASEQUENCE_EXTENSION (LOCUS_ID) TABLESPACE DATA11;
CREATE INDEX DNASEQEXT_GENRELEASE_FK_INDEX ON DNASEQUENCE_EXTENSION (GENOMERELEASE_ID) TABLESPACE DATA11;
ALTER TABLE DNASEQUENCE_EXTENSION
ADD CONSTRAINT DNASEQEXT_ANNO_FK FOREIGN KEY (ANNOTATION_ID) REFERENCES DNASEQUENCEANNOTATION (ANNOTATION_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE DNASEQUENCE_EXTENSION
ADD CONSTRAINT DNASEQEXT_DBENTITY_FK FOREIGN KEY (LOCUS_ID) REFERENCES LOCUSDBENTITY (DBENTITY_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE DNASEQUENCE_EXTENSION
ADD CONSTRAINT DNASEQEXT_GENRELEASE_FK FOREIGN KEY (GENOMERELEASE_ID) REFERENCES GENOMERELEASE (GENOMERELEASE_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
GRANT SELECT ON DNASEQUENCE_EXTENSION TO DBSELECT;
GRANT DELETE, INSERT, SELECT, UPDATE ON DNASEQUENCE_EXTENSION TO CURATOR;
GRANT DELETE, INSERT, SELECT, UPDATE ON DNASEQUENCE_EXTENSION TO AUXILIARY;

DROP TABLE ENZYMEANNOTATION CASCADE CONSTRAINTS;
CREATE TABLE ENZYMEANNOTATION (
ANNOTATION_ID INTEGER NOT NULL,
DBENTITY_ID INTEGER NOT NULL,
SOURCE_ID INTEGER NOT NULL,
REFERENCE_ID INTEGER,
TAXONOMY_ID INTEGER,
BUD_ID INTEGER,
ENZYME_ID INTEGER NOT NULL,
DATE_CREATED DATE DEFAULT SYSDATE NOT NULL,
CREATED_BY VARCHAR2(12) DEFAULT SUBSTR(USER,1,12) NOT NULL,
CONSTRAINT ENZYMEANNOTATION_PK PRIMARY KEY (ANNOTATION_ID),
CONSTRAINT ENZYMEANNOTATION_UK UNIQUE (DBENTITY_ID, ENZYME_ID) ) TABLESPACE DATA08;
CREATE INDEX ENZYMEANNO_REF_FK_INDEX ON ENZYMEANNOTATION (REFERENCE_ID) TABLESPACE DATA08;
CREATE INDEX ENZYMEANNO_TAX_FK_INDEX ON ENZYMEANNOTATION (TAXONOMY_ID) TABLESPACE DATA08;
CREATE INDEX ENZYMEANNO_SOURCE_FK_INDEX ON ENZYMEANNOTATION (SOURCE_ID) TABLESPACE DATA08;
CREATE INDEX ENZYMEANNO_ENZYME_FK_INDEX ON ENZYMEANNOTATION	(ENZYME_ID) TABLESPACE DATA08;
ALTER TABLE ENZYMEANNOTATION
ADD CONSTRAINT ENZYMEANNO_REF_FK FOREIGN KEY (REFERENCE_ID) REFERENCES REFERENCEDBENTITY (DBENTITY_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE ENZYMEANNOTATION
ADD CONSTRAINT ENZYMEANNO_ORGANISM_FK FOREIGN KEY (TAXONOMY_ID) REFERENCES TAXONOMY (TAXONOMY_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE ENZYMEANNOTATION
ADD CONSTRAINT ENZYMEANNO_SOURCE_FK FOREIGN KEY (SOURCE_ID) REFERENCES SOURCE (SOURCE_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE ENZYMEANNOTATION
ADD CONSTRAINT ENZYMEANNO_DBENTITY_FK FOREIGN KEY (DBENTITY_ID) REFERENCES DBENTITY (DBENTITY_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE ENZYMEANNOTATION
ADD CONSTRAINT ENZYMEANNO_ENZYME_FK FOREIGN KEY (ENZYME_ID) REFERENCES ENZYME (ENZYME_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
GRANT SELECT ON ENZYMEANNOTATION TO DBSELECT;
GRANT DELETE, INSERT, SELECT, UPDATE ON ENZYMEANNOTATION TO CURATOR;
GRANT DELETE, INSERT, SELECT, UPDATE ON ENZYMEANNOTATION TO AUXILIARY;

DROP TABLE EXPRESSIONANNOTATION CASCADE CONSTRAINTS;
CREATE TABLE EXPRESSIONANNOTATION (
ANNOTATION_ID INTEGER NOT NULL,
DBENTITY_ID INTEGER NOT NULL,
SOURCE_ID INTEGER NOT NULL,
REFERENCE_ID INTEGER,
TAXONOMY_ID INTEGER,
BUD_ID INTEGER,
DATASETSAMPLE_ID INTEGER,
VALUE DECIMAL(7, 3) NOT NULL,
DATE_CREATED DATE DEFAULT SYSDATE NOT NULL,
CREATED_BY VARCHAR2(12) DEFAULT SUBSTR(USER,1,12) NOT NULL,
CONSTRAINT EXPRESSIONANNOTATION_PK PRIMARY KEY (ANNOTATION_ID),
CONSTRAINT EXPRESSIONANNOTATION_UK UNIQUE (DATASETSAMPLE_ID)) TABLESPACE DATA12;
CREATE INDEX EXPRESSANNO_REF_FK_INDEX ON EXPRESSIONANNOTATION (REFERENCE_ID) TABLESPACE DATA12;
CREATE INDEX EXPRESSANNO_TAX_FK_INDEX ON EXPRESSIONANNOTATION (TAXONOMY_ID) TABLESPACE DATA12;
CREATE INDEX EXPRESSANNO_SOURCE_FK_INDEX ON EXPRESSIONANNOTATION (SOURCE_ID) TABLESPACE DATA12;
CREATE INDEX EXPRESSANNO_DBENTITY_FK_INDEX ON EXPRESSIONANNOTATION (DBENTITY_ID) TABLESPACE DATA12;
ALTER TABLE EXPRESSIONANNOTATION
ADD CONSTRAINT EXPRESSANNO_REF_FK FOREIGN KEY (REFERENCE_ID) REFERENCES REFERENCEDBENTITY (DBENTITY_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE EXPRESSIONANNOTATION
ADD CONSTRAINT EXPRESSANNO_ORGANISM_FK FOREIGN KEY (TAXONOMY_ID) REFERENCES TAXONOMY (TAXONOMY_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE EXPRESSIONANNOTATION
ADD CONSTRAINT EXPRESSANNO_SOURCE_FK FOREIGN KEY (SOURCE_ID) REFERENCES SOURCE (SOURCE_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE EXPRESSIONANNOTATION
ADD CONSTRAINT EXPRESSANNO_DSETCOL_FK FOREIGN KEY (DATASETSAMPLE_ID) REFERENCES DATASETSAMPLE (DATASETSAMPLE_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE EXPRESSIONANNOTATION
ADD CONSTRAINT EXPRESSANNO_DBENTITY_FK FOREIGN KEY (DBENTITY_ID) REFERENCES DBENTITY (DBENTITY_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
GRANT SELECT ON EXPRESSIONANNOTATION TO DBSELECT;
GRANT DELETE, INSERT, SELECT, UPDATE ON EXPRESSIONANNOTATION TO CURATOR;
GRANT DELETE, INSERT, SELECT, UPDATE ON EXPRESSIONANNOTATION TO AUXILIARY;

DROP TABLE GENINTERACTIONANNOTATION CASCADE CONSTRAINTS;
CREATE TABLE GENINTERACTIONANNOTATION (
ANNOTATION_ID INTEGER NOT NULL,
DBENTITY1_ID INTEGER NOT NULL,
DBENTITY2_ID INTEGER NOT NULL,
SOURCE_ID INTEGER NOT NULL,
REFERENCE_ID INTEGER NOT NULL,
TAXONOMY_ID INTEGER,
EXPERIMENT_ID INTEGER,
BUD_ID INTEGER,
PHENOTYPE_ID INTEGER,
MUTANT_TYPE VARCHAR2(100),
ANNOTATION_TYPE VARCHAR2(20) NOT NULL CHECK (ANNOTATION_TYPE IN ('high-throughput', 'manually curated')),
BAIT_HIT VARCHAR2(10) NOT NULL CHECK (BAIT_HIT IN ('Bait-Hit', 'Hit-Bait')),
NOTE VARCHAR2(1000),
DATE_CREATED DATE DEFAULT SYSDATE NOT NULL,
CREATED_BY VARCHAR2(12) DEFAULT SUBSTR(USER,1,12) NOT NULL,
CONSTRAINT GENINTERACTIONANNOTATION_PK PRIMARY KEY (ANNOTATION_ID),
CONSTRAINT GENINTERACTIONANNOTATION_UK UNIQUE (DBENTITY1_ID, DBENTITY2_ID, BAIT_HIT, EXPERIMENT_ID, REFERENCE_ID)) TABLESPACE DATA07;
CREATE INDEX GENINTANNO_REF_FK_INDEX ON GENINTERACTIONANNOTATION (REFERENCE_ID) TABLESPACE DATA07;
CREATE INDEX GENINTANNO_TAX_FK_INDEX ON GENINTERACTIONANNOTATION (TAXONOMY_ID) TABLESPACE DATA07;
CREATE INDEX GENINTANNO_EX_FK_INDEX ON GENINTERACTIONANNOTATION (EXPERIMENT_ID) TABLESPACE DATA07;
CREATE INDEX GENINTANNO_SOURCE_FK_INDEX ON GENINTERACTIONANNOTATION (SOURCE_ID) TABLESPACE DATA07;
CREATE INDEX GENINTANNO_DBENTITY2_INDEX ON GENINTERACTIONANNOTATION (DBENTITY2_ID) TABLESPACE DATA07;
CREATE INDEX GENINTANNO_PHENO_FK_INDEX ON GENINTERACTIONANNOTATION (PHENOTYPE_ID) TABLESPACE DATA07;
ALTER TABLE GENINTERACTIONANNOTATION
ADD CONSTRAINT GENINTANNO_REF_FK FOREIGN KEY (REFERENCE_ID) REFERENCES REFERENCEDBENTITY (DBENTITY_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE GENINTERACTIONANNOTATION
ADD CONSTRAINT GENINTANNO_ORGANISM_FK FOREIGN KEY (TAXONOMY_ID) REFERENCES TAXONOMY (TAXONOMY_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE GENINTERACTIONANNOTATION
ADD CONSTRAINT GENINTANNO_EX_FK FOREIGN KEY (EXPERIMENT_ID) REFERENCES EXPERIMENT (EXPERIMENT_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE GENINTERACTIONANNOTATION
ADD CONSTRAINT GENINTANNO_SOURCE_FK FOREIGN KEY (SOURCE_ID) REFERENCES SOURCE (SOURCE_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE GENINTERACTIONANNOTATION
ADD CONSTRAINT GENINTANNO_PHENO_FK FOREIGN KEY (PHENOTYPE_ID) REFERENCES PHENOTYPE (PHENOTYPE_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE GENINTERACTIONANNOTATION
ADD CONSTRAINT GENINTANNO_DBENTITY1_FK FOREIGN KEY (DBENTITY1_ID) REFERENCES DBENTITY (DBENTITY_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE GENINTERACTIONANNOTATION
ADD CONSTRAINT GENINTANNO_DBENTITY2_FK FOREIGN KEY (DBENTITY2_ID) REFERENCES DBENTITY (DBENTITY_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
GRANT SELECT ON GENINTERACTIONANNOTATION TO DBSELECT;
GRANT DELETE, INSERT, SELECT, UPDATE ON GENINTERACTIONANNOTATION TO CURATOR;
GRANT DELETE, INSERT, SELECT, UPDATE ON GENINTERACTIONANNOTATION TO AUXILIARY;

DROP TABLE GOANNOTATION CASCADE CONSTRAINTS;
CREATE TABLE GOANNOTATION (
ANNOTATION_ID INTEGER NOT NULL,
DBENTITY_ID INTEGER NOT NULL,
SOURCE_ID INTEGER NOT NULL,
REFERENCE_ID INTEGER NOT NULL,
EVIDENCE_ID INTEGER,
TAXONOMY_ID INTEGER,
BUD_ID INTEGER,
GOTERM_ID INTEGER NOT NULL,
GO_ANNOTATION VARCHAR2(40) NOT NULL,
ANNOTATION_TYPE VARCHAR2(40) NOT NULL CHECK (ANNOTATION_TYPE IN ('high-throughput', 'manually curated', 'computational')),
QUALIFIER VARCHAR2(40) NOT NULL CHECK (QUALIFIER IN ('NOT', 'colocalizes_with', 'contributes_to')),
CONDITIONS_KEY VARCHAR2(1000),
DATE_CREATED DATE DEFAULT SYSDATE NOT NULL,
CREATED_BY VARCHAR2(12) DEFAULT SUBSTR(USER,1,12) NOT NULL,
CONSTRAINT GOANNOTATION_PK PRIMARY KEY (ANNOTATION_ID),
CONSTRAINT GOANNOTATION_UK UNIQUE (DBENTITY_ID, GOTERM_ID, GO_ANNOTATION, REFERENCE_ID, CONDITIONS_KEY)) TABLESPACE DATA05;
CREATE INDEX GOANNO_REF_FK_INDEX ON GOANNOTATION (REFERENCE_ID) TABLESPACE DATA05;
CREATE INDEX GOANNO_ORGANISM_FK_INDEX ON GOANNOTATION (TAXONOMY_ID) TABLESPACE DATA05;
CREATE INDEX GOANNO_EV_FK_INDEX ON GOANNOTATION (EVIDENCE_ID) TABLESPACE DATA05;
CREATE INDEX GOANNO_SOURCE_FK_INDEX ON GOANNOTATION (SOURCE_ID) TABLESPACE DATA05;
CREATE INDEX GOANNO_GO_FK_INDEX ON GOANNOTATION	(GOTERM_ID) TABLESPACE DATA05;
ALTER TABLE GOANNOTATION
ADD CONSTRAINT GOANNO_REF_FK FOREIGN KEY (REFERENCE_ID) REFERENCES REFERENCEDBENTITY (DBENTITY_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE GOANNOTATION
ADD CONSTRAINT GOANNO_ORGANISM_FK FOREIGN KEY (TAXONOMY_ID) REFERENCES TAXONOMY (TAXONOMY_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE GOANNOTATION
ADD CONSTRAINT GOANNO_EV_FK FOREIGN KEY (EVIDENCE_ID) REFERENCES EVIDENCE (EVIDENCE_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE GOANNOTATION
ADD CONSTRAINT GOANNO_SOURCE_FK FOREIGN KEY (SOURCE_ID) REFERENCES SOURCE (SOURCE_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE GOANNOTATION
ADD CONSTRAINT GOANNO_DBENTITY_FK FOREIGN KEY (DBENTITY_ID) REFERENCES DBENTITY (DBENTITY_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE GOANNOTATION
ADD CONSTRAINT GOANNO_GO_FK FOREIGN KEY (GOTERM_ID) REFERENCES GOTERM (GOTERM_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
GRANT SELECT ON GOANNOTATION TO DBSELECT;
GRANT DELETE, INSERT, SELECT, UPDATE ON GOANNOTATION TO CURATOR;
GRANT DELETE, INSERT, SELECT, UPDATE ON GOANNOTATION TO AUXILIARY;

DROP TABLE GOSLIMANNOTATION CASCADE CONSTRAINTS;
CREATE TABLE GOSLIMANNOTATION (
ANNOTATION_ID INTEGER NOT NULL,
DBENTITY_ID INTEGER NOT NULL,
SOURCE_ID INTEGER NOT NULL,
REFERENCE_ID INTEGER,
TAXONOMY_ID INTEGER,
BUD_ID INTEGER,
GOTERM_ID INTEGER,
GO_ASPECT VARCHAR2(1) CHECK (GO_ASPECT IN ('C', 'F', 'P')),
DATE_CREATED DATE DEFAULT SYSDATE NOT NULL,
CREATED_BY VARCHAR2(12) DEFAULT SUBSTR(USER,1,12) NOT NULL,
CONSTRAINT GOSLIMANNOTATION_PK PRIMARY KEY (ANNOTATION_ID),
CONSTRAINT GOSLIMANNOTATION_UK UNIQUE (DBENTITY_ID, GOTERM_ID)) TABLESPACE DATA05;
CREATE INDEX GOSLIMANNO_REF_FK_INDEX ON GOSLIMANNOTATION (REFERENCE_ID) TABLESPACE DATA05;
CREATE INDEX GOSLIMANNO_TAX_FK_INDEX ON GOSLIMANNOTATION (TAXONOMY_ID) TABLESPACE DATA05;
CREATE INDEX GOSLIMANNO_SOURCE_FK_INDEX ON GOSLIMANNOTATION (SOURCE_ID) TABLESPACE DATA05;
CREATE INDEX GOSLIMANNO_GOTERM_FK_INDEX ON GOSLIMANNOTATION	(GOTERM_ID) TABLESPACE DATA05;
ALTER TABLE GOSLIMANNOTATION
ADD CONSTRAINT GOSLIMANNO_REF_FK FOREIGN KEY (REFERENCE_ID) REFERENCES REFERENCEDBENTITY (DBENTITY_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE GOSLIMANNOTATION
ADD CONSTRAINT GOSLIMANNO_TAX_FK FOREIGN KEY (TAXONOMY_ID) REFERENCES TAXONOMY (TAXONOMY_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE GOSLIMANNOTATION
ADD CONSTRAINT GOSLIMANNO_SOURCE_FK FOREIGN KEY (SOURCE_ID) REFERENCES SOURCE (SOURCE_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE GOSLIMANNOTATION
ADD CONSTRAINT GOSLIMANNO_DBENTITY_FK FOREIGN KEY (DBENTITY_ID) REFERENCES DBENTITY (DBENTITY_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE GOSLIMANNOTATION
ADD CONSTRAINT GOSLIMANNO_GOTERM_FK FOREIGN KEY (GOTERM_ID) REFERENCES GOTERM (GOTERM_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
GRANT SELECT ON GOSLIMANNOTATION TO DBSELECT;
GRANT DELETE, INSERT, SELECT, UPDATE ON GOSLIMANNOTATION TO CURATOR;
GRANT DELETE, INSERT, SELECT, UPDATE ON GOSLIMANNOTATION TO AUXILIARY;

DROP TABLE HISTORYANNOTATION CASCADE CONSTRAINTS;
CREATE TABLE HISTORYANNOTATION (
ANNOTATION_ID INTEGER NOT NULL,
DBENTITY_ID INTEGER NOT NULL,
SOURCE_ID INTEGER NOT NULL,
REFERENCE_ID INTEGER,
TAXONOMY_ID INTEGER,
BUD_ID INTEGER,
COLLEAGUE_ID INTEGER,
DATE_ANNOTATION_MADE DATE NOT NULL,
SUBCLASS VARCHAR2(40) NOT NULL CHECK (SUBCLASS IN ('LOCUS', 'SEQUENCE')),
HISTORY_TYPE VARCHAR2(100) NOT NULL,
HISTORY_NOTE VARCHAR2(4000) NOT NULL,
DATE_CREATED DATE DEFAULT SYSDATE NOT NULL,
CREATED_BY VARCHAR2(12) DEFAULT SUBSTR(USER,1,12) NOT NULL,
CONSTRAINT HISTORYANNOTATION_PK PRIMARY KEY (ANNOTATION_ID),
CONSTRAINT HISTORYANNOTATION_UK UNIQUE (DBENTITY_ID, SUBCLASS, REFERENCE_ID, HISTORY_NOTE) ) TABLESPACE DATA01;
CREATE INDEX HISTANNO_REF_FK_INDEX ON HISTORYANNOTATION (REFERENCE_ID) TABLESPACE DATA01;
CREATE INDEX HISTANNO_TAX_FK_INDEX ON HISTORYANNOTATION (TAXONOMY_ID) TABLESPACE DATA01;
CREATE INDEX HISTANNO_SOURCE_FK_INDEX ON HISTORYANNOTATION (SOURCE_ID) TABLESPACE DATA01;
ALTER TABLE HISTORYANNOTATION
ADD CONSTRAINT HISTANNO_REF_FK FOREIGN KEY (REFERENCE_ID) REFERENCES REFERENCEDBENTITY (DBENTITY_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE HISTORYANNOTATION
ADD CONSTRAINT HISTANNO_ORGANISM_FK FOREIGN KEY (TAXONOMY_ID) REFERENCES TAXONOMY (TAXONOMY_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE HISTORYANNOTATION
ADD CONSTRAINT HISTANNO_SOURCE_FK FOREIGN KEY (SOURCE_ID) REFERENCES SOURCE (SOURCE_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE HISTORYANNOTATION
ADD CONSTRAINT HISTANNO_DBENTITY_FK FOREIGN KEY (DBENTITY_ID) REFERENCES DBENTITY (DBENTITY_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
GRANT SELECT ON HISTORYANNOTATION TO DBSELECT;
GRANT DELETE, INSERT, SELECT, UPDATE ON HISTORYANNOTATION TO CURATOR;
GRANT DELETE, INSERT, SELECT, UPDATE ON HISTORYANNOTATION TO AUXILIARY;

DROP TABLE LITERATUREANNOTATION CASCADE CONSTRAINTS;
CREATE TABLE LITERATUREANNOTATION ( 
ANNOTATION_ID INTEGER NOT NULL,
DBENTITY_ID INTEGER NOT NULL,
SOURCE_ID INTEGER NOT NULL,
REFERENCE_ID INTEGER NOT NULL,
TAXONOMY_ID INTEGER,
BUD_ID INTEGER,
TOPIC VARCHAR2(40) NOT NULL CHECK (TOPIC IN ('Additional Literature', 'Omics', 'Primary Literature', 'Reviews')),
DATE_CREATED DATE DEFAULT SYSDATE NOT NULL,
CREATED_BY VARCHAR2(12) DEFAULT SUBSTR(USER,1,12) NOT NULL,
CONSTRAINT LITERATUREANNOTATION_PK PRIMARY KEY (ANNOTATION_ID),
CONSTRAINT LITERATUREANNOTATION_UK UNIQUE (DBENTITY_ID, REFERENCE_ID, TOPIC) ) TABLESPACE DATA04;
CREATE INDEX LITANNO_REF_FK_INDEX ON LITERATUREANNOTATION (REFERENCE_ID) TABLESPACE DATA04;
CREATE INDEX LITANNO_TAX_FK_INDEX ON LITERATUREANNOTATION (TAXONOMY_ID) TABLESPACE DATA04;
CREATE INDEX LITANNO_SOURCE_FK_INDEX ON LITERATUREANNOTATION (SOURCE_ID) TABLESPACE DATA04;
ALTER TABLE LITERATUREANNOTATION
ADD CONSTRAINT LITANNO_REF_FK FOREIGN KEY (REFERENCE_ID) REFERENCES REFERENCEDBENTITY (DBENTITY_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE LITERATUREANNOTATION
ADD CONSTRAINT LITANNO_ORGANISM_FK FOREIGN KEY (TAXONOMY_ID) REFERENCES TAXONOMY (TAXONOMY_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE LITERATUREANNOTATION
ADD CONSTRAINT LITANNO_SOURCE_FK FOREIGN KEY (SOURCE_ID) REFERENCES SOURCE (SOURCE_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE LITERATUREANNOTATION 
ADD CONSTRAINT LITANNO_DBENTITY_FK FOREIGN KEY (DBENTITY_ID) REFERENCES DBENTITY (DBENTITY_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
GRANT SELECT ON LITERATUREANNOTATION TO DBSELECT;
GRANT DELETE, INSERT, SELECT, UPDATE ON LITERATUREANNOTATION TO CURATOR;
GRANT DELETE, INSERT, SELECT, UPDATE ON LITERATUREANNOTATION TO AUXILIARY;

DROP TABLE PATHWAYANNOTATION CASCADE CONSTRAINTS;
CREATE TABLE PATHWAYANNOTATION (
ANNOTATION_ID INTEGER NOT NULL,
DBENTITY_ID INTEGER NOT NULL,
SOURCE_ID INTEGER NOT NULL,
REFERENCE_ID INTEGER,
TAXONOMY_ID INTEGER,
BUD_ID INTEGER,
PATHWAY_ID INTEGER NOT NULL,
DATE_CREATED DATE DEFAULT SYSDATE NOT NULL,
CREATED_BY VARCHAR2(12) DEFAULT SUBSTR(USER,1,12) NOT NULL,
CONSTRAINT PATHWAYANNOTATION_PK PRIMARY KEY (ANNOTATION_ID),
CONSTRAINT PATHWAYANNOTATION_UK UNIQUE (DBENTITY_ID, PATHWAY_ID) ) TABLESPACE DATA05;
CREATE INDEX PATHANNO_REF_FK_INDEX ON PATHWAYANNOTATION (REFERENCE_ID) TABLESPACE DATA05;
CREATE INDEX PATHANNO_TAX_FK_INDEX ON PATHWAYANNOTATION (TAXONOMY_ID) TABLESPACE DATA05;
CREATE INDEX PATHANNO_SOURCE_FK_INDEX ON PATHWAYANNOTATION (SOURCE_ID) TABLESPACE DATA05;
CREATE INDEX PATHANNO_PATH_FK_INDEX ON PATHWAYANNOTATION (PATHWAY_ID) TABLESPACE DATA05;
ALTER TABLE PATHWAYANNOTATION
ADD CONSTRAINT PATHANNO_DBENTITY_FK FOREIGN KEY (DBENTITY_ID) REFERENCES DBENTITY (DBENTITY_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE PATHWAYANNOTATION
ADD CONSTRAINT PATHANNO_REF_FK FOREIGN KEY (REFERENCE_ID) REFERENCES REFERENCEDBENTITY (DBENTITY_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE PATHWAYANNOTATION
ADD CONSTRAINT PATHANNO_TAX_FK FOREIGN KEY (TAXONOMY_ID) REFERENCES TAXONOMY (TAXONOMY_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE PATHWAYANNOTATION
ADD CONSTRAINT PATHANNO_SOURCE_FK FOREIGN KEY (SOURCE_ID) REFERENCES SOURCE (SOURCE_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE PATHWAYANNOTATION
ADD CONSTRAINT PATHANNO_PATH_FK FOREIGN KEY (PATHWAY_ID) REFERENCES PATHWAYDBENTITY (DBENTITY_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
GRANT SELECT ON PATHWAYANNOTATION TO DBSELECT;
GRANT DELETE, INSERT, SELECT, UPDATE ON PATHWAYANNOTATION TO CURATOR;
GRANT DELETE, INSERT, SELECT, UPDATE ON PATHWAYANNOTATION TO AUXILIARY;

DROP TABLE PHENOTYPEANNOTATION CASCADE CONSTRAINTS;
CREATE TABLE PHENOTYPEANNOTATION (
ANNOTATION_ID INTEGER NOT NULL,
DBENTITY_ID INTEGER NOT NULL,
SOURCE_ID INTEGER NOT NULL,
REFERENCE_ID INTEGER NOT NULL,
EXPERIMENT_ID INTEGER NOT NULL,
TAXONOMY_ID INTEGER,
BUD_ID INTEGER,
PHENOTYPE_ID INTEGER NOT NULL,
MUTANT_ID INTEGER NOT NULL,
STRAIN_DETAILS VARCHAR2(2000),
EXPERIMENT_DETAILS VARCHAR2(2000),
CONDITIONS_KEY VARCHAR2(1000),
NOTE VARCHAR2(1000),
DATE_CREATED DATE DEFAULT SYSDATE NOT NULL,
CREATED_BY VARCHAR2(12) DEFAULT SUBSTR(USER,1,12) NOT NULL,
CONSTRAINT PHENOTYPEANNOTATION_PK PRIMARY KEY (ANNOTATION_ID),
CONSTRAINT PHENOTYPEANNOTATION_UK UNIQUE (DBENTITY_ID, PHENOTYPE_ID, TAXONOMY_ID, EXPERIMENT_ID, REFERENCE_ID, EXPERIMENT_DETAILS, MUTANT_ID, CONDITIONS_KEY) ) TABLESPACE DATA06;
CREATE INDEX PHENOANNO_REF_FK_INDEX ON PHENOTYPEANNOTATION (REFERENCE_ID) TABLESPACE DATA06;
CREATE INDEX PHENOANNO_TAX_FK_INDEX ON PHENOTYPEANNOTATION (TAXONOMY_ID) TABLESPACE DATA06;
CREATE INDEX PHENOANNO_EX_FK_INDEX ON PHENOTYPEANNOTATION (EXPERIMENT_ID) TABLESPACE DATA06;
CREATE INDEX PHENOANNO_SOURCE_FK_INDEX ON PHENOTYPEANNOTATION (SOURCE_ID) TABLESPACE DATA06;
CREATE INDEX PHENOANNO_MUTANT_FK_INDEX ON PHENOTYPEANNOTATION (MUTANT_ID) TABLESPACE DATA06;
CREATE INDEX PHENOANNO_PHENOTYPE_FK_INDEX ON PHENOTYPEANNOTATION (PHENOTYPE_ID) TABLESPACE DATA06;
ALTER TABLE PHENOTYPEANNOTATION
ADD CONSTRAINT PHENOANNO_REF_FK FOREIGN KEY (REFERENCE_ID) REFERENCES REFERENCEDBENTITY (DBENTITY_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE PHENOTYPEANNOTATION
ADD CONSTRAINT PHENOANNO_ORGANISM_FK FOREIGN KEY (TAXONOMY_ID) REFERENCES TAXONOMY (TAXONOMY_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE PHENOTYPEANNOTATION
ADD CONSTRAINT PHENOANNO_EX_FK FOREIGN KEY (EXPERIMENT_ID) REFERENCES EXPERIMENT (EXPERIMENT_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE PHENOTYPEANNOTATION
ADD CONSTRAINT PHENOANNO_SOURCE_FK FOREIGN KEY (SOURCE_ID) REFERENCES SOURCE (SOURCE_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE PHENOTYPEANNOTATION
ADD CONSTRAINT PHENOANNO_MUTANT_FK FOREIGN KEY (MUTANT_ID) REFERENCES MUTANT (MUTANT_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE PHENOTYPEANNOTATION
ADD CONSTRAINT PHENOANNO_DBENTITY_FK FOREIGN KEY (DBENTITY_ID) REFERENCES DBENTITY (DBENTITY_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE PHENOTYPEANNOTATION
ADD CONSTRAINT PHENOANNO_PHENO_FK FOREIGN KEY (PHENOTYPE_ID) REFERENCES PHENOTYPE (PHENOTYPE_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
GRANT SELECT ON PHENOTYPEANNOTATION TO DBSELECT;
GRANT DELETE, INSERT, SELECT, UPDATE ON PHENOTYPEANNOTATION TO CURATOR;
GRANT DELETE, INSERT, SELECT, UPDATE ON PHENOTYPEANNOTATION TO AUXILIARY;

DROP TABLE PHYSINTERACTIONANNOTATION CASCADE CONSTRAINTS;
CREATE TABLE PHYSINTERACTIONANNOTATION (
ANNOTATION_ID INTEGER NOT NULL,
DBENTITY1_ID INTEGER NOT NULL,
DBENTITY2_ID INTEGER NOT NULL,
SOURCE_ID INTEGER NOT NULL,
REFERENCE_ID INTEGER NOT NULL,
EXPERIMENT_ID INTEGER NOT NULL,
TAXONOMY_ID INTEGER,
BUD_ID INTEGER,
MODIFICATION VARCHAR2(40) NOT NULL,
ANNOTATION_TYPE VARCHAR2(20) NOT NULL CHECK (ANNOTATION_TYPE IN ('high-throughput', 'manually curated')),
BAIT_HIT VARCHAR2(10) NOT NULL CHECK (BAIT_HIT IN ('Bait-Hit', 'Hit-Bait')),
NOTE VARCHAR2(1000),
DATE_CREATED DATE DEFAULT SYSDATE NOT NULL,
CREATED_BY VARCHAR2(12) DEFAULT SUBSTR(USER,1,12) NOT NULL,
CONSTRAINT PHYSINTERACTIONANNOTATION_PK PRIMARY KEY (ANNOTATION_ID),
CONSTRAINT PHYSINTERACTIONANNOTATION_UK UNIQUE (DBENTITY1_ID, DBENTITY2_ID, BAIT_HIT, EXPERIMENT_ID, REFERENCE_ID)) TABLESPACE DATA07;
CREATE INDEX PHYSINTANNO_REF_FK_INDEX ON PHYSINTERACTIONANNOTATION (REFERENCE_ID) TABLESPACE DATA07;
CREATE INDEX PHYSINTANNO_TAX_FK_INDEX ON PHYSINTERACTIONANNOTATION (TAXONOMY_ID) TABLESPACE DATA07;
CREATE INDEX PHYSINTANNO_EX_FK_INDEX ON PHYSINTERACTIONANNOTATION (EXPERIMENT_ID) TABLESPACE DATA07;
CREATE INDEX PHYSINTANNO_SOURCE_FK_INDEX ON PHYSINTERACTIONANNOTATION (SOURCE_ID) TABLESPACE DATA07;
CREATE INDEX PHYSINTANNO_DBENTITY2_INDEX ON PHYSINTERACTIONANNOTATION (DBENTITY2_ID) TABLESPACE DATA07;
ALTER TABLE PHYSINTERACTIONANNOTATION
ADD CONSTRAINT PHYSINTANNO_REF_FK FOREIGN KEY (REFERENCE_ID) REFERENCES REFERENCEDBENTITY (DBENTITY_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE PHYSINTERACTIONANNOTATION
ADD CONSTRAINT PHYSINTANNO_TAX_FK FOREIGN KEY (TAXONOMY_ID) REFERENCES TAXONOMY (TAXONOMY_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE PHYSINTERACTIONANNOTATION
ADD CONSTRAINT PHYSINTANNO_EX_FK FOREIGN KEY (EXPERIMENT_ID) REFERENCES EXPERIMENT (EXPERIMENT_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE PHYSINTERACTIONANNOTATION
ADD CONSTRAINT PHYSINTANNO_SOURCE_FK FOREIGN KEY (SOURCE_ID) REFERENCES SOURCE (SOURCE_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE PHYSINTERACTIONANNOTATION
ADD CONSTRAINT PHYSINTANNO_DBENTITY1_FK FOREIGN KEY (DBENTITY1_ID) REFERENCES DBENTITY (DBENTITY_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE PHYSINTERACTIONANNOTATION
ADD CONSTRAINT PHYSINTANNO_DBENTITY2_FK FOREIGN KEY (DBENTITY2_ID) REFERENCES DBENTITY (DBENTITY_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
GRANT SELECT ON PHYSINTERACTIONANNOTATION TO DBSELECT;
GRANT DELETE, INSERT, SELECT, UPDATE ON PHYSINTERACTIONANNOTATION TO CURATOR;
GRANT DELETE, INSERT, SELECT, UPDATE ON PHYSINTERACTIONANNOTATION TO AUXILIARY;

DROP TABLE POSTTRANSLATIONALANNOTATION CASCADE CONSTRAINTS;
CREATE TABLE POSTTRANSLATIONALANNOTATION (
ANNOTATION_ID INTEGER NOT NULL,
SOURCE_ID INTEGER NOT NULL,
REFERENCE_ID INTEGER,
TAXONOMY_ID INTEGER,
DBENTITY_ID INTEGER NOT NULL,
SITE_INDEX INTEGER NOT NULL,
SITE_RESIDUE VARCHAR2(1) NOT NULL,
POSTTRANS_TYPE VARCHAR2(40) NOT NULL CHECK (POSTRANS_TYPE IN ('acetylation', 'carbamidomethylation', 'methylation', 'oxidation', 'phosphorylation', 'succinylation', 'ubiquitination')),
SITE_FUNCTIONS VARCHAR2(200),
MODIFIER_ID INTEGER,
DATE_CREATED DATE DEFAULT SYSDATE NOT NULL,
CREATED_BY VARCHAR2(12) DEFAULT SUBSTR(USER,1,12) NOT NULL,
CONSTRAINT POSTTRANSLATIONALANNOTATION_PK PRIMARY KEY (ANNOTATION_ID),
CONSTRAINT POSTTRANSLATIONALANNOTATION_UK UNIQUE (DBENTITY_ID, POSTTRANS_TYPE, SITE_RESIDUE, SITE_INDEX, REFERENCE_ID) ) TABLESPACE DATA08;
CREATE INDEX PTRANSANNO_REF_FK_INDEX ON POSTTRANSLATIONALANNOTATION (REFERENCE_ID) TABLESPACE DATA08;
CREATE INDEX PTRANSANNO_TAX_FK_INDEX ON POSTTRANSLATIONALANNOTATION (TAXONOMY_ID) TABLESPACE DATA08;
CREATE INDEX PTRANSANNO_SOURCE_FK_INDEX ON POSTTRANSLATIONALANNOTATION (SOURCE_ID) TABLESPACE DATA08;
CREATE INDEX PTRANSANNO_MOD_FK_INDEX ON POSTTRANSLATIONALANNOTATION (MODIFIER_ID) TABLESPACE DATA08;
ALTER TABLE POSTTRANSLATIONALANNOTATION
ADD CONSTRAINT PTRANSANNO_REF_FK FOREIGN KEY (REFERENCE_ID) REFERENCES REFERENCEDBENTITY (DBENTITY_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE POSTTRANSLATIONALANNOTATION
ADD CONSTRAINT PTRANSANNO_ORGANISM_FK FOREIGN KEY (TAXONOMY_ID) REFERENCES TAXONOMY (TAXONOMY_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE POSTTRANSLATIONALANNOTATION
ADD CONSTRAINT PTRANSANNO_SOURCE_FK FOREIGN KEY (SOURCE_ID) REFERENCES SOURCE (SOURCE_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE POSTTRANSLATIONALANNOTATION
ADD CONSTRAINT PTRANSANNO_DBENTITY_FK FOREIGN KEY (DBENTITY_ID) REFERENCES DBENTITY (DBENTITY_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE POSTTRANSLATIONALANNOTATION
ADD CONSTRAINT PTRANSANNO_MOD_FK FOREIGN KEY (MODIFIER_ID) REFERENCES LOCUSDBENTITY (DBENTITY_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
GRANT SELECT ON POSTTRANSLATIONALANNOTATION TO DBSELECT;
GRANT DELETE, INSERT, SELECT, UPDATE ON POSTTRANSLATIONALANNOTATION TO CURATOR;
GRANT DELETE, INSERT, SELECT, UPDATE ON POSTTRANSLATIONALANNOTATION TO AUXILIARY;

DROP TABLE PROTEINDOMAINANNOTATION CASCADE CONSTRAINTS;
CREATE TABLE PROTEINDOMAINANNOTATION (
ANNOTATION_ID INTEGER NOT NULL,
DBENTITY_ID INTEGER NOT NULL,
SOURCE_ID INTEGER NOT NULL,
REFERENCE_ID INTEGER,
TAXONOMY_ID INTEGER,
BUD_ID INTEGER,
PROTEINDOMAIN_ID INTEGER NOT NULL,
START_INDEX INTEGER,
END_INDEX INTEGER,
EVALUE VARCHAR2(40),
DOMAIN_STATUS VARCHAR2(40) CHECK (DOMAIN_STATUS IN ('T')),
DATE_OF_RUN DATE,
DATE_CREATED DATE DEFAULT SYSDATE NOT NULL,
CREATED_BY VARCHAR2(12) DEFAULT SUBSTR(USER,1,12) NOT NULL,
CONSTRAINT PROTEINDOMAINANNOTATION_PK PRIMARY KEY (ANNOTATION_ID),
CONSTRAINT PROTEINDOMAINANNOTATION_UK UNIQUE (DBENTITY_ID, PROTEINDOMAIN_ID, START_INDEX, END_INDEX) ) TABLESPACE DATA08;
CREATE INDEX DOMAINANNO_REF_FK_INDEX ON PROTEINDOMAINANNOTATION (REFERENCE_ID) TABLESPACE DATA08;
CREATE INDEX DOMAINANNO_TAX_FK_INDEX ON PROTEINDOMAINANNOTATION (TAXONOMY_ID) TABLESPACE DATA08;
CREATE INDEX DOMAINANNO_SOURCE_FK_INDEX ON PROTEINDOMAINANNOTATION (SOURCE_ID) TABLESPACE DATA08;
CREATE INDEX DOMAINANNO_DOMAIN_FK_INDEX ON PROTEINDOMAINANNOTATION (PROTEINDOMAIN_ID) TABLESPACE DATA08;
ALTER TABLE PROTEINDOMAINANNOTATION
ADD CONSTRAINT DOMAINANNO_DBENTITY_FK FOREIGN KEY (DBENTITY_ID) REFERENCES DBENTITY (DBENTITY_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE PROTEINDOMAINANNOTATION
ADD CONSTRAINT DOMAINANNO_REF_FK FOREIGN KEY (REFERENCE_ID) REFERENCES REFERENCEDBENTITY (DBENTITY_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE PROTEINDOMAINANNOTATION
ADD CONSTRAINT DOMAINANNO_ORGANISM_FK FOREIGN KEY (TAXONOMY_ID) REFERENCES TAXONOMY (TAXONOMY_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE PROTEINDOMAINANNOTATION
ADD CONSTRAINT DOMAINANNO_SOURCE_FK FOREIGN KEY (SOURCE_ID) REFERENCES SOURCE (SOURCE_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE PROTEINDOMAINANNOTATION
ADD CONSTRAINT DOMAINANNO_DOMAIN_FK FOREIGN KEY (PROTEINDOMAIN_ID) REFERENCES PROTEINDOMAIN (PROTEINDOMAIN_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
GRANT SELECT ON PROTEINDOMAINANNOTATION TO DBSELECT;
GRANT DELETE, INSERT, SELECT, UPDATE ON PROTEINDOMAINANNOTATION TO CURATOR;
GRANT DELETE, INSERT, SELECT, UPDATE ON PROTEINDOMAINANNOTATION TO AUXILIARY;

DROP TABLE PROTEINEXPERIMENTANNOTATION CASCADE CONSTRAINTS;
CREATE TABLE PROTEINEXPERIMENTANNOTATION (
ANNOTATION_ID INTEGER NOT NULL,
DBENTITY_ID INTEGER NOT NULL,
SOURCE_ID INTEGER NOT NULL,
REFERENCE_ID INTEGER,
EXPERIMENT_ID INTEGER,
TAXONOMY_ID INTEGER,
BUD_ID INTEGER,
DATA_VALUE VARCHAR2(25) NOT NULL,
DATA_UNIT VARCHAR2(25) NOT NULL CHECK (DATA_UNIT IN ('molecules/cell')),
DATE_CREATED DATE DEFAULT SYSDATE NOT NULL,
CREATED_BY VARCHAR2(12) DEFAULT SUBSTR(USER,1,12) NOT NULL,
CONSTRAINT PROTEINEXPERIMENTANNOTATION_PK PRIMARY KEY (ANNOTATION_ID),
CONSTRAINT PROTEINEXPERIMENTANNOTATION_UK UNIQUE (DBENTITY_ID, EXPERIMENT_TYPE) ) TABLESPACE DATA08;
CREATE INDEX PROTEXPANNO_REF_FK_INDEX ON PROTEINEXPERIMENTANNOTATION (REFERENCE_ID) TABLESPACE DATA08;
CREATE INDEX PROTEXPANNO_TAX_FK_INDEX ON PROTEINEXPERIMENTANNOTATION (TAXONOMY_ID) TABLESPACE DATA08;
CREATE INDEX PROTEXPANNO_SOURCE_FK_INDEX ON PROTEINEXPERIMENTANNOTATION (SOURCE_ID) TABLESPACE DATA08;
CREATE INDEX PROTEXPANNO_EX_FK_INDEX ON PROTEINEXPERIMENTANNOTATION (EXPERIMENT_ID) TABLESPACE DATA08;
ALTER TABLE PROTEINEXPERIMENTANNOTATION
ADD CONSTRAINT PROTEXPANNO_REF_FK FOREIGN KEY (REFERENCE_ID) REFERENCES REFERENCEDBENTITY (DBENTITY_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE PROTEINEXPERIMENTANNOTATION
ADD CONSTRAINT PROTEXPANNO_TAX_FK FOREIGN KEY (TAXONOMY_ID) REFERENCES TAXONOMY (TAXONOMY_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE PROTEINEXPERIMENTANNOTATION
ADD CONSTRAINT PROTEXPANNO_SOURCE_FK FOREIGN KEY (SOURCE_ID) REFERENCES SOURCE (SOURCE_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE PROTEINEXPERIMENTANNOTATION
ADD CONSTRAINT PROTEXPANNO_EX_FK FOREIGN KEY (EXPERIMENT_ID) REFERENCES EXPERIMENT (EXPERIMENT_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE PROTEINEXPERIMENTANNOTATION
ADD CONSTRAINT PROTEXPANNO_DBENTITY_FK FOREIGN KEY (DBENTITY_ID) REFERENCES DBENTITY (DBENTITY_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
GRANT SELECT ON PROTEINEXPERIMENTANNOTATION TO DBSELECT;
GRANT DELETE, INSERT, SELECT, UPDATE ON PROTEINEXPERIMENTANNOTATION TO CURATOR;
GRANT DELETE, INSERT, SELECT, UPDATE ON PROTEINEXPERIMENTANNOTATION TO AUXILIARY;

DROP TABLE PROTEINSEQUENCEANNOTATION CASCADE CONSTRAINTS;
CREATE TABLE PROTEINSEQUENCEANNOTATION (
ANNOTATION_ID INTEGER NOT NULL,
DBENTITY_ID INTEGER NOT NULL,
SOURCE_ID INTEGER NOT NULL,
REFERENCE_ID INTEGER,
TAXONOMY_ID INTEGER,
BUD_ID INTEGER,
RESIDUES CLOB NOT NULL,
SEQ_VERSION DATE,
COORD_VERSION DATE,
GENOMERELEASE_ID INTEGER,
MOLECULAR_WEIGHT NUMBER(7),
PI DECIMAL(4,2),
CAI DECIMAL(4,3),
N_TERM_SEQ VARCHAR2(10) NOT NULL,
C_TERM_SEQ VARCHAR2(10) NOT NULL,
CODON_BIAS DECIMAL(4,3),
FOP_SCORE DECIMAL(4,3),
GRAVY_SCORE DECIMAL(7,6),
AROMATICITY_SCORE DECIMAL(7,6),
ALIPHATIC_INDEX DECIMAL(3,2),
INSTABILITY_INDEX DECIMAL(3,2),
ALA NUMBER(4) NOT NULL,
ARG NUMBER(4) NOT NULL,
ASN NUMBER(4) NOT NULL,
ASP NUMBER(4) NOT NULL,
CYS NUMBER(4) NOT NULL,
GLN NUMBER(4) NOT NULL,
GLU NUMBER(4) NOT NULL,
GLY NUMBER(4) NOT NULL,
HIS NUMBER(4) NOT NULL,
ILE NUMBER(4) NOT NULL,
LEU NUMBER(4) NOT NULL,
LYS NUMBER(4) NOT NULL,
MET NUMBER(4) NOT NULL,
PHE NUMBER(4) NOT NULL,
PRO NUMBER(4) NOT NULL,
THR NUMBER(4) NOT NULL,
SER NUMBER(4) NOT NULL,
TRP NUMBER(4) NOT NULL,
TYR NUMBER(4) NOT NULL,
VAL NUMBER(4) NOT NULL,
HYDROGEN NUMBER(4),
SULFUR NUMBER(4),
NITROGEN NUMBER(4),
OXYGEN NUMBER(4),
CARBON NUMBER(4),
NO_CYS_EXT_COEFF NUMBER(6),
ALL_CYS_EXT_COEFF NUMBER(6),
HEADER VARCHAR2(200),
FILENAME VARCHAR2(200),
DATE_CREATED DATE DEFAULT SYSDATE NOT NULL,
CREATED_BY VARCHAR2(12) DEFAULT SUBSTR(USER,1,12) NOT NULL,
CONSTRAINT PROTEINSEQUENCEANNOTATION_PK PRIMARY KEY (ANNOTATION_ID),
CONSTRAINT PROTEINSEQUENCEANNOTATION_UK UNIQUE (DBENTITY_ID, TAXONOMY_ID) ) TABLESPACE DATA11;
CREATE INDEX PROTSEQANNO_REF_FK_INDEX ON PROTEINSEQUENCEANNOTATION (REFERENCE_ID) TABLESPACE DATA11;
CREATE INDEX PROTSEQANNO_TAX_FK_INDEX ON PROTEINSEQUENCEANNOTATION (TAXONOMY_ID) TABLESPACE DATA11;
CREATE INDEX PROTSEQANNO_SOURCE_FK_INDEX ON PROTEINSEQUENCEANNOTATION (SOURCE_ID) TABLESPACE DATA11;
CREATE INDEX PROTSEQANNO_GENREL_FK_INDEX ON PROTEINSEQUENCEANNOTATION (GENOMERELEASE_ID) TABLESPACE DATA11;
ALTER TABLE PROTEINSEQUENCEANNOTATION
ADD CONSTRAINT PROTSEQANNO_REF_FK FOREIGN KEY (REFERENCE_ID) REFERENCES REFERENCEDBENTITY (DBENTITY_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE PROTEINSEQUENCEANNOTATION
ADD CONSTRAINT PROTSEQANNO_TAX_FK FOREIGN KEY (TAXONOMY_ID) REFERENCES TAXONOMY (TAXONOMY_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE PROTEINSEQUENCEANNOTATION
ADD CONSTRAINT PROTSEQANNO_SOURCE_FK FOREIGN KEY (SOURCE_ID) REFERENCES SOURCE (SOURCE_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE PROTEINSEQUENCEANNOTATION
ADD CONSTRAINT PROTSEQANNO_DBENTITY_FK FOREIGN KEY (DBENTITY_ID) REFERENCES DBENTITY (DBENTITY_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE PROTEINSEQUENCEANNOTATION
ADD CONSTRAINT PROTSEQANNO_GENRELEASE_FK FOREIGN KEY (GENOMERELEASE_ID) REFERENCES GENOMERELEASE (GENOMERELEASE_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
GRANT SELECT ON PROTEINSEQUENCEANNOTATION TO DBSELECT;
GRANT DELETE, INSERT, SELECT, UPDATE ON PROTEINSEQUENCEANNOTATION TO CURATOR;
GRANT DELETE, INSERT, SELECT, UPDATE ON PROTEINSEQUENCEANNOTATION TO AUXILIARY;

DROP TABLE REGULATIONANNOTATION CASCADE CONSTRAINTS;
CREATE TABLE REGULATIONANNOTATION ( 
ANNOTATION_ID INTEGER NOT NULL,
DBENTITY1_ID INTEGER NOT NULL,
DBENTITY2_ID INTEGER NOT NULL,
SOURCE_ID INTEGER NOT NULL,
REFERENCE_ID INTEGER,
EVIDENCE_ID INTEGER,
TAXONOMY_ID INTEGER,
BUD_ID INTEGER,
CONDITIONS_KEY VARCHAR2(1000),
DIRECTION VARCHAR2(100),
PVALUE VARCHAR2(40),
FDR VARCHAR2(40),
CONSTRUCT VARCHAR2(100),
ASSAY VARCHAR2(300),
DATE_CREATED DATE DEFAULT SYSDATE NOT NULL,
CREATED_BY VARCHAR2(12) DEFAULT SUBSTR(USER,1,12) NOT NULL,
CONSTRAINT REGULATIONANNOTATION_PK PRIMARY KEY (ANNOTATION_ID),
CONSTRAINT REGULATIONANNOTATION_UK UNIQUE (DBENTITY1_ID, DBENTITY2_ID, EVIDENCE_ID, REFERENCE_ID, TAXONOMY_ID, CONDITIONS_KEY)) TABLESPACE DATA07;
CREATE INDEX REGANNO_REF_FK_INDEX ON REGULATIONANNOTATION (REFERENCE_ID) TABLESPACE DATA07;
CREATE INDEX REGANNO_TAX_FK_INDEX ON REGULATIONANNOTATION (TAXONOMY_ID) TABLESPACE DATA07;
CREATE INDEX REGANNO_EV_FK_INDEX ON REGULATIONANNOTATION (EVIDENCE_ID) TABLESPACE DATA07;
CREATE INDEX REGANNO_SOURCE_FK_INDEX ON REGULATIONANNOTATION (SOURCE_ID) TABLESPACE DATA07;
CREATE INDEX REGANNO_DBENTITY2_FK_INDEX ON REGULATIONANNOTATION (DBENTITY2_ID) TABLESPACE DATA07;
ALTER TABLE REGULATIONANNOTATION
ADD CONSTRAINT REGANNO_REF_FK FOREIGN KEY (REFERENCE_ID) REFERENCES REFERENCEDBENTITY (DBENTITY_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE REGULATIONANNOTATION
ADD CONSTRAINT REGANNO_TAX_FK FOREIGN KEY (TAXONOMY_ID) REFERENCES TAXONOMY (TAXONOMY_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE REGULATIONANNOTATION
ADD CONSTRAINT REGANNO_EV_FK FOREIGN KEY (EVIDENCE_ID) REFERENCES EVIDENCE (EVIDENCE_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE REGULATIONANNOTATION
ADD CONSTRAINT REGANNO_SOURCE_FK FOREIGN KEY (SOURCE_ID) REFERENCES SOURCE (SOURCE_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE REGULATIONANNOTATION 
ADD CONSTRAINT REGANNO_DBENTITY2_FK FOREIGN KEY (DBENTITY2_ID) REFERENCES DBENTITY (DBENTITY_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE REGULATIONANNOTATION 
ADD CONSTRAINT REGANNO_DBENTITY1_FK FOREIGN KEY (DBENTITY1_ID) REFERENCES DBENTITY (DBENTITY_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
GRANT SELECT ON REGULATIONANNOTATION TO DBSELECT;
GRANT DELETE, INSERT, SELECT, UPDATE ON REGULATIONANNOTATION TO CURATOR;
GRANT DELETE, INSERT, SELECT, UPDATE ON REGULATIONANNOTATION TO AUXILIARY;

/* Curator tables */

DROP TABLE LOCUSCURATION CASCADE CONSTRAINTS;
CREATE TABLE LOCUSCURATION (
LOCUSCURATION_ID INTEGER NOT NULL,
FORMAT_NAME VARCHAR2(100) NOT NULL,
DISPLAY_NAME VARCHAR2(500) NOT NULL,
OBJ_URL VARCHAR2(500) NOT NULL,
SOURCE_ID INTEGER NOT NULL,
BUD_ID INTEGER,
LOCUS_ID INTEGER NOT NULL,
TASK VARCHAR2(40) NOT NULL CHECK (CURATION_TASK IN ('GO needs review', 'Headline needs review', 'Headline reviewed', 'Paragraph needs review', 'Paragraph not needed', 'Phenotype needs review', 'Phenotype uncuratable')),
NOTE VARCHAR2(2000),
DATE_CREATED DATE DEFAULT SYSDATE NOT NULL,
CREATED_BY VARCHAR2(12) DEFAULT SUBSTR(USER,1,12) NOT NULL,
CONSTRAINT LOCUSCURATION_PK PRIMARY KEY (LOCUSCURATION_ID),
CONSTRAINT LOCUSCURATION_UK UNIQUE (FORMAT_NAME) ) TABLESPACE DATA01;
CREATE INDEX LOCCUR_SOURCE_FK_INDEX ON LOCUSCURATION (SOURCE_ID) TABLESPACE DATA01;
CREATE INDEX LOCCUR_LOCUS_FK_INDEX ON LOCUSCURATION (LOCUS_ID) TABLESPACE DATA01;
ALTER TABLE LOCUSCURATION
ADD CONSTRAINT LOCUSCUR_SOURCE_FK FOREIGN KEY (SOURCE_ID) REFERENCES SOURCE (SOURCE_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE LOCUSCURATION
ADD CONSTRAINT LOCUSCUR_DBENTITY_FK FOREIGN KEY (LOCUS_ID) REFERENCES LOCUSDBENTITY (DBENTITY_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
GRANT SELECT ON LOCUSCURATION TO DBSELECT;
GRANT DELETE, INSERT, SELECT, UPDATE ON LOCUSCURATION TO CURATOR;
GRANT DELETE, INSERT, SELECT, UPDATE ON LOCUSCURATION TO AUXILIARY;

DROP TABLE REFERENCECURATION CASCADE CONSTRAINTS;
CREATE TABLE REFERENCECURATION (
REFERENCECURATION_ID INTEGER NOT NULL,
FORMAT_NAME VARCHAR2(100) NOT NULL,
DISPLAY_NAME VARCHAR2(500) NOT NULL,
OBJ_URL VARCHAR2(500) NOT NULL,
SOURCE_ID INTEGER NOT NULL,
BUD_ID INTEGER,
REFERENCE_ID INTEGER NOT NULL,
LOCUS_ID INTEGER NOT NULL,
TASK VARCHAR2(40) NOT NULL CHECK (CURATION_TASK IN ('Classical phenotype information', 'Delay', 'Fast Track', 'GO information', 'Gene model', 'HTP phenotype', 'Headline information', 'High Priority',
'Homology/Disease', 'Non-phenotype HTP', 'Not yet curated', 'Pathways', 'Post-translational modifications', 'Regulation information')),
NOTE VARCHAR2(2000),
DATE_CREATED DATE DEFAULT SYSDATE NOT NULL,
CREATED_BY VARCHAR2(12) DEFAULT SUBSTR(USER,1,12) NOT NULL,
CONSTRAINT REFERENCECURATION_PK PRIMARY KEY (REFERENCECURATION_ID),
CONSTRAINT REFERENCECURATION_UK UNIQUE (FORMAT_NAME) ) TABLESPACE DATA01;
CREATE INDEX REFCUR_SOURCE_FK_INDEX ON REFERENCECURATION (SOURCE_ID) TABLESPACE DATA01;
CREATE INDEX REFCUR_LOCUS_FK_INDEX ON REFERENCECURATION (LOCUS_ID) TABLESPACE DATA01;
CREATE INDEX REFCUR_REF_FK_INDEX ON REFERENCECURATION (REFERENCE_ID) TABLESPACE DATA01;
ALTER TABLE REFERENCECURATION
ADD CONSTRAINT REFCUR_SOURCE_FK FOREIGN KEY (SOURCE_ID) REFERENCES SOURCE (SOURCE_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE REFERENCECURATION
ADD CONSTRAINT REFCUR_REF_FK FOREIGN KEY (REFERENCE_ID) REFERENCES REFERENCEDBENTITY (DBENTITY_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE REFERENCECURATION
ADD CONSTRAINT REFCUR_LOCUS_FK FOREIGN KEY (LOCUS_ID) REFERENCES LOCUSDBENTITY (DBENTITY_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
GRANT SELECT ON REFERENCECURATION TO DBSELECT;
GRANT DELETE, INSERT, SELECT, UPDATE ON REFERENCECURATION TO CURATOR;
GRANT DELETE, INSERT, SELECT, UPDATE ON REFERENCECURATION TO AUXILIARY;

DROP TABLE AUTHOR_RESPONSE CASCADE CONSTRAINTS;
CREATE TABLE AUTHOR_RESPONSE (
AUTHOR_RESPONSE_ID VARCHAR2(36) NOT NULL,
NAME VARCHAR2(500) NOT NULL,
OBJ_URL VARCHAR2(500) NOT NULL,
SOURCE_ID VARCHAR2(36) NOT NULL,
BUD_ID INTEGER,
PUBMED_ID INTEGER NOT NULL,
CITATION VARCHAR2(500) NOT NULL,
AUTHOR_EMAIL VARCHAR2(100) NOT NULL,
HAS_NOVEL_RESEARCH NUMBER(1) NOT NULL  CHECK (HAS_NOVEL_RESEARCH in (0, 1)),
HAS_LARGE_SCALE_DATA NUMBER(1) NOT NULL  CHECK (HAS_LARGE_SCALE_DATA in (0, 1)),
RESEARCH_RESULTS CLOB,
GENE_LIST VARCHAR2(4000),
DATASET_DESCRIPTION VARCHAR2(4000),
OTHER_DESCRIPTION VARCHAR2(4000),
NO_ACTION_REQUIRED  NUMBER(1) NOT NULL CHECK (NO_ACTION_REQUIRED in (0, 1)),
IS_FAST_TRACKED NUMBER(1) NOT NULL CHECK (IS_FAST_TRACKED in (0, 1)),
CURATOR_CHECKED_DATASETS NUMBER(1) NOT NULL CHECK (CURATOR_CHECKED_DATASETS in (0, 1)),
CURATOR_CHECKED_GENELIST NUMBER(1) NOT NULL CHECK (CURATOR_CHECKED_GENELIST in (0, 1)),
DATE_CREATED DATE DEFAULT SYSDATE NOT NULL,
CREATED_BY VARCHAR2(12) DEFAULT SUBSTR(USER,1,12) NOT NULL,
CONSTRAINT AUTHOR_RESPONSE_PK PRIMARY KEY (AUTHOR_RESPONSE_ID),
CONSTRAINT AUTHOR_RESPONSE_CITATION_UK UNIQUE (CITATION)) TABLESPACE DATA04;
CREATE INDEX AUTHRESP_SOURCE_FK_INDEX ON AUTHOR_RESPONSE (SOURCE_ID) TABLESPACE DATA01;
ALTER TABLE AUTHOR_RESPONSE
ADD CONSTRAINT AUTHRESP_SOURCE_FK FOREIGN KEY (SOURCE_ID) REFERENCES SOURCE (SOURCE_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
GRANT SELECT ON AUTHOR_RESPONSE TO DBSELECT;
GRANT DELETE, INSERT, SELECT, UPDATE ON AUTHOR_RESPONSE TO CURATOR;
GRANT DELETE, INSERT, SELECT, UPDATE ON AUTHOR_RESPONSE TO AUXILIARY;

DROP TABLE REFERENCE_TRIAGE CASCADE CONSTRAINTS;
CREATE TABLE REFERENCE_TRIAGE (
REFERENCE_TRIAGE_ID INTEGER NOT NULL,
PUBMED_ID INTEGER NOT NULL,
CITATION VARCHAR2(500) NOT NULL,
FULLTEXT_URL VARCHAR2(500),
ABSTRACT CLOB,
DATE_CREATED DATE DEFAULT SYSDATE NOT NULL,
CREATED_BY VARCHAR2(12) DEFAULT SUBSTR(USER,1,12) NOT NULL,
CONSTRAINT REFERENCE_TRIAGE_PK PRIMARY KEY (REFERENCE_TRIAGE_ID),
CONSTRAINT REFERENCE_TRIAGE_CITATION_UK UNIQUE (CITATION)) TABLESPACE DATA04;
GRANT SELECT ON REFERENCE_TRIAGE TO DBSELECT;
GRANT DELETE, INSERT, SELECT, UPDATE ON REFERENCE_TRIAGE TO CURATOR;
GRANT DELETE, INSERT, SELECT, UPDATE ON REFERENCE_TRIAGE TO AUXILIARY;

/* Auxiliary */

DROP TABLE AUX_INTERACTION CASCADE CONSTRAINTS;
CREATE TABLE AUX_INTERACTION (
AUX_INTERACTION_ID INTEGER NOT NULL,
DBENTITY_ID INTEGER NOT NULL,
INTERACTOR_ID INTEGER NOT NULL,
INTERACTOR_TYPE VARCHAR2(40) NOT NULL,
DIRECTION VARCHAR2(40) NOT NULL,
INTERACTION_TYPE VARCHAR2(100) NOT NULL,
EVIDENCE_COUNT INTEGER,
CONSTRAINT AUX_INTERACTION_PK PRIMARY KEY (AUX_INTERACTION_ID),
CONSTRAINT AUX_INTERACTION_CLASS_UK UNIQUE (DBENTITY_ID, INTERACTOR_ID, DIRECTION, INTERACTION_TYPE) ) TABLESPACE DATA16;
CREATE INDEX AUX_INTER_TYPE_INDEX ON AUX_INTERACTION (INTERACTION_TYPE) TABLESPACE DATA16;
GRANT SELECT ON AUX_INTERACTION TO DBSELECT;
GRANT DELETE, INSERT, SELECT, UPDATE ON AUX_INTERACTION TO AUXILIARY;

/* Archive */

DROP TABLE ARCH_LITERATUREANNOTATION CASCADE CONSTRAINTS;
CREATE TABLE ARCH_LITERATUREANNOTATION (
ANNOTATION_ID INTEGER NOT NULL,
DBENTITY_ID INTEGER,
SOURCE_ID INTEGER NOT NULL,
REFERENCE_ID INTEGER NOT NULL,
TAXONOMY_ID INTEGER,
BUD_ID INTEGER,
TOPIC VARCHAR2(60) NOT NULL,
DATE_CREATED DATE NOT NULL,
CREATED_BY VARCHAR2(12) NOT NULL,
DATE_ARCHIVED DATE DEFAULT SYSDATE NOT NULL,
CONSTRAINT ARCH_LITERATUREANNOTATION_PK PRIMARY KEY (ANNOTATION_ID),
CONSTRAINT ARCH_LITERATUREANNOTATION_UK UNIQUE (DBENTITY_ID, REFERENCE_ID, TOPIC) ) TABLESPACE DATA16;
CREATE INDEX ARLITANNO_REF_FK_INDEX ON ARCH_LITERATUREANNOTATION (REFERENCE_ID) TABLESPACE DATA16;
CREATE INDEX ARLITANNO_TAX_FK_INDEX ON ARCH_LITERATUREANNOTATION (TAXONOMY_ID) TABLESPACE DATA16;
CREATE INDEX ARLITANNO_SOURCE_FK_INDEX ON ARCH_LITERATUREANNOTATION (SOURCE_ID) TABLESPACE DATA16;
ALTER TABLE ARCH_LITERATUREANNOTATION
ADD CONSTRAINT ARLITANNO_REF_FK FOREIGN KEY (REFERENCE_ID) REFERENCES REFERENCEDBENTITY (DBENTITY_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE ARCH_LITERATUREANNOTATION
ADD CONSTRAINT ARLITANNO_TAX_FK FOREIGN KEY (TAXONOMY_ID) REFERENCES TAXONOMY (TAXONOMY_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE ARCH_LITERATUREANNOTATION
ADD CONSTRAINT ARLITANNO_SOURCE_FK FOREIGN KEY (SOURCE_ID) REFERENCES SOURCE (SOURCE_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE ARCH_LITERATUREANNOTATION
ADD CONSTRAINT ARLITANNO_DBENTITY_FK FOREIGN KEY (DBENTITY_ID) REFERENCES DBENTITY (DBENTITY_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
GRANT SELECT ON ARCH_LITERATUREANNOTATION TO DBSELECT;
GRANT DELETE, INSERT, SELECT, UPDATE ON ARCH_LITERATUREANNOTATION TO CURATOR;
GRANT DELETE, INSERT, SELECT, UPDATE ON ARCH_LITERATUREANNOTATION TO AUXILIARY;

DROP TABLE ARCH_CONTIG CASCADE CONSTRAINTS;
CREATE TABLE ARCH_CONTIG (
CONTIG_ID INTEGER NOT NULL,
FORMAT_NAME VARCHAR2(100) NOT NULL,
DISPLAY_NAME VARCHAR2(500) NOT NULL,
OBJ_URL VARCHAR2(500),
SOURCE_ID INTEGER NOT NULL,
BUD_ID INTEGER,
TAXONOMY_ID INTEGER NOT NULL,
IS_CHROMOSOME NUMBER(1) NOT NULL,
CENTROMERE_START INTEGER,
CENTROMERE_END INTEGER,
GENBANK_ACCESSION VARCHAR2(40),
GI_NUMBER VARCHAR2(40),
REFSEQ_ID VARCHAR2(40),
REFERENCE_CHROMOSOME_ID INTEGER,
REFERENCE_START INTEGER,
REFERENCE_END INTEGER,
REFERENCE_PERCENT_IDENTITY DECIMAL(7, 3),
REFERENCE_ALIGNMENT_LENGTH INTEGER,
SEQ_VERSION DATE,
COORD_VERSION DATE,
GENOMERELEASE_ID INTEGER,
HEADER VARCHAR2(200),
FILENAME VARCHAR2(200),
DESCRIPTION VARCHAR2(500),
RESIDUES CLOB NOT NULL,
DATE_CREATED DATE NOT NULL,
CREATED_BY VARCHAR2(12) NOT NULL,
DATE_ARCHIVED DATE DEFAULT SYSDATE NOT NULL,
CONSTRAINT ARCH_CONTIG_PK PRIMARY KEY (CONTIG_ID),
CONSTRAINT ARCH_CONTIG_UK UNIQUE (FORMAT_NAME)) TABLESPACE DATA11;
CREATE INDEX ARCHCONTIG_SOURCE_FK_INDEX ON ARCH_CONTIG (SOURCE_ID) TABLESPACE DATA16;
CREATE INDEX ARCHCONTIG_TAX_FK_INDEX ON ARCH_CONTIG (TAXONOMY_ID) TABLESPACE DATA16;
CREATE INDEX ARCHCONTIG_GENRELEASE_FK_INDEX ON ARCH_CONTIG (GENOMERELEASE_ID) TABLESPACE DATA16;
ALTER TABLE ARCH_CONTIG
ADD CONSTRAINT ARCHCONTIG_SOURCE_FK FOREIGN KEY (SOURCE_ID) REFERENCES SOURCE (SOURCE_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE ARCH_CONTIG
ADD CONSTRAINT ARCHCONTIG_TAX_FK FOREIGN KEY (TAXONOMY_ID) REFERENCES TAXONOMY (TAXONOMY_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE ARCH_CONTIG
ADD CONSTRAINT ARCHCONTIG_GENRELEASE_FK FOREIGN KEY (GENOMERELEASE_ID) REFERENCES GENOMERELEASE (GENOMERELEASE_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
GRANT SELECT ON ARCH_CONTIG TO DBSELECT;
GRANT DELETE, INSERT, SELECT, UPDATE ON ARCH_CONTIG TO CURATOR;
GRANT DELETE, INSERT, SELECT, UPDATE ON ARCH_CONTIG TO AUXILIARY;

DROP TABLE ARCH_CONTIG_CHANGE CASCADE CONSTRAINTS;
CREATE TABLE ARCH_CONTIG_CHANGE (
ARCH_CONTIG_CHANGE_ID INTEGER NOT NULL,
CONTIG_ID INTEGER NOT NULL,
BUD_ID INTEGER,
CONTIG_CHANGE_TYPE VARCHAR2(40) NOT NULL CHECK (CONTIG_CHANGE_TYPE IN ('Deletion', 'Insertion', 'Substitution')),
CHANGE_MIN_COORD NUMBER(10) NOT NULL,
CHANGE_MAX_COORD NUMBER(10) NOT NULL,
DATE_CREATED DATE DEFAULT SYSDATE NOT NULL,
CREATED_BY VARCHAR2(12) DEFAULT SUBSTR(USER,1,12) NOT NULL,
OLD_SEQ VARCHAR2(2000),
NEW_SEQ VARCHAR2(2000),
GENOMERELEASE_ID INTEGER NOT NULL,
CONSTRAINT ARCH_CONTIG_CHANGE_PK PRIMARY KEY (ARCH_CONTIG_CHANGE_ID) ) TABLESPACE DATA16;
CREATE INDEX ARCHCONTCHAN_CONTIG_FK_INDEX ON ARCH_CONTIG_CHANGE (CONTIG_ID) TABLESPACE DATA16;
ALTER TABLE ARCH_CONTIG_CHANGE
ADD CONSTRAINT ARCHCONTCHAN_CONTIG_FK FOREIGN KEY (CONTIG_ID) REFERENCES ARCH_CONTIG (CONTIG_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE ARCH_CONTIG_CHANGE
ADD CONSTRAINT ARCHCONTCHAN_GENREL_FK FOREIGN KEY (GENOMERELEASE_ID) REFERENCES GENOMERELEASE (GENOMERELEASE_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
GRANT SELECT ON ARCH_CONTIG_CHANGE TO DBSELECT;
GRANT DELETE, INSERT, SELECT, UPDATE ON ARCH_CONTIG_CHANGE TO CURATOR;
GRANT DELETE, INSERT, SELECT, UPDATE ON ARCH_CONTIG_CHANGE TO AUXILIARY;

DROP TABLE ARCH_DNASEQUENCEANNOTATION CASCADE CONSTRAINTS;
CREATE TABLE ARCH_DNASEQUENCEANNOTATION (
ANNOTATION_ID INTEGER NOT NULL,
DBENTITY_ID INTEGER NOT NULL,
SOURCE_ID INTEGER NOT NULL,
REFERENCE_ID INTEGER,
TAXONOMY_ID INTEGER,
BUD_ID INTEGER,
DNA_TYPE VARCHAR2(50) NOT NULL CHECK (DNA_TYPE IN ('CODING', '1KB', 'GENOMIC')),
RESIDUES CLOB NOT NULL,
CONTIG_ID INTEGER,
SEQ_VERSION DATE,
COORD_VERSION DATE,
GENOMERELEASE_ID INTEGER,
START_INDEX INTEGER,
END_INDEX INTEGER,
STRAND VARCHAR2(1) NOT NULL CHECK (STRAND IN ('+', '-', '0')),
HEADER VARCHAR2(200),
FILENAME VARCHAR2(200),
DATE_CREATED DATE DEFAULT SYSDATE NOT NULL,
CREATED_BY VARCHAR2(12) DEFAULT SUBSTR(USER,1,12) NOT NULL,
DATE_ARCHIVED DATE DEFAULT SYSDATE NOT NULL,
CONSTRAINT ARCH_DNASEQUENCEANN_PK PRIMARY KEY (ANNOTATION_ID),
CONSTRAINT ARCH_DNASEQUENCEANN_UK UNIQUE (DBENTITY_ID, TAXONOMY_ID, DNA_TYPE) ) TABLESPACE DATA11;
CREATE INDEX ARCHDNASEQANN_REF_FK_INDEX ON ARCH_DNASEQUENCEANNOTATION (REFERENCE_ID) TABLESPACE DATA11;
CREATE INDEX ARCHDNASEQANN_TAX_FK_INDEX ON ARCH_DNASEQUENCEANNOTATION (TAXONOMY_ID) TABLESPACE DATA11;
CREATE INDEX ARCHDNASEQANN_SOURCE_FK_INDEX ON ARCH_DNASEQUENCEANNOTATION (SOURCE_ID) TABLESPACE DATA11;
CREATE INDEX ARCHDNASEQANN_CONTIG_FK_INDEX ON ARCH_DNASEQUENCEANNOTATION (CONTIG_ID) TABLESPACE DATA11;
CREATE INDEX ARCHDNASEQANN_GENREL_FK_INDEX ON ARCH_DNASEQUENCEANNOTATION (GENOMERELEASE_ID) TABLESPACE DATA11;
ALTER TABLE ARCH_DNASEQUENCEANNOTATION
ADD CONSTRAINT ARCHDNASEQANNO_REF_FK FOREIGN KEY (REFERENCE_ID) REFERENCES REFERENCEDBENTITY (DBENTITY_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE ARCH_DNASEQUENCEANNOTATION
ADD CONSTRAINT ARCHDNASEQANNO_ORGANISM_FK FOREIGN KEY (TAXONOMY_ID) REFERENCES TAXONOMY (TAXONOMY_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE ARCH_DNASEQUENCEANNOTATION
ADD CONSTRAINT ARCHDNASEQANNO_SOURCE_FK FOREIGN KEY (SOURCE_ID) REFERENCES SOURCE (SOURCE_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE ARCH_DNASEQUENCEANNOTATION
ADD CONSTRAINT ARCHDNASEQANNO_DBENTITY_FK FOREIGN KEY (DBENTITY_ID) REFERENCES DBENTITY (DBENTITY_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE ARCH_DNASEQUENCEANNOTATION
ADD CONSTRAINT ARCHDNASEQANNO_CONTIG_FK FOREIGN KEY (CONTIG_ID) REFERENCES CONTIG (CONTIG_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE ARCH_DNASEQUENCEANNOTATION
ADD CONSTRAINT ARCHDNASEQANNO_GENREL_FK FOREIGN KEY (GENOMERELEASE_ID) REFERENCES GENOMERELEASE (GENOMERELEASE_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
GRANT SELECT ON ARCH_DNASEQUENCEANNOTATION TO DBSELECT;
GRANT DELETE, INSERT, SELECT, UPDATE ON ARCH_DNASEQUENCEANNOTATION TO CURATOR;
GRANT DELETE, INSERT, SELECT, UPDATE ON ARCH_DNASEQUENCEANNOTATION TO AUXILIARY;

DROP TABLE ARCH_DNASEQUENCE_EXTENSION CASCADE CONSTRAINTS;
CREATE TABLE ARCH_DNASEQUENCE_EXTENSION (
DNASEQUENCE_EXTENSION_ID INTEGER NOT NULL,
DNASEQUENCE_ANNOTATION_ID INTEGER NOT NULL,
DISPLAY_NAME VARCHAR2(500) NOT NULL,
SUBCLASS VARCHAR2(40) NOT NULL,
RELATIVE_START_INDEX INTEGER NOT NULL,
RELATIVE_END_INDEX INTEGER NOT NULL,
CHROMOSOMAL_START_INDEX INTEGER NOT NULL,
CHROMOSOMAL_END_INDEX INTEGER NOT NULL,
PHASE VARCHAR2(1) NOT NULL,
SEQ_VERSION DATE,
COORD_VERSION DATE,
GENOMERELEASE_ID INTEGER,
LOCUS_ID INTEGER,
DATE_CREATED DATE DEFAULT SYSDATE NOT NULL,
CREATED_BY VARCHAR2(12) DEFAULT SUBSTR(USER,1,12) NOT NULL,
DATE_ARCHIVED DATE DEFAULT SYSDATE NOT NULL,
CONSTRAINT ARCH_DNASEQUENCE_EXTENSION_PK PRIMARY KEY (DNASEQUENCE_EXTENSION_ID),
CONSTRAINT ARCH_DNASEQUENCE_EXTENSION_UK UNIQUE (DNASEQUENCE_ANNOTATION_ID, SUBCLASS, RELATIVE_START_INDEX, RELATIVE_END_INDEX)) TABLESPACE DATA11;
CREATE INDEX ARCHDNASEQEXT_DBENT_FK_INDEX ON ARCH_DNASEQUENCE_EXTENSION (LOCUS_ID) TABLESPACE DATA11;
CREATE INDEX ARCHDNASEQEXT_GENREL_FK_INDEX ON ARCH_DNASEQUENCE_EXTENSION (GENOMERELEASE_ID) TABLESPACE DATA11;
ALTER TABLE ARCH_DNASEQUENCE_EXTENSION
ADD CONSTRAINT ARCHDNASEQEXT_ANNO_FK FOREIGN KEY (DNASEQUENCE_ANNOTATION_ID) REFERENCES DNASEQUENCEANNOTATION (ANNOTATION_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE ARCH_DNASEQUENCE_EXTENSION
ADD CONSTRAINT ARCHDNASEQEXT_DBENTITY_FK FOREIGN KEY (LOCUS_ID) REFERENCES LOCUSDBENTITY (DBENTITY_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE ARCH_DNASEQUENCE_EXTENSION
ADD CONSTRAINT ARCHDNASEQEXT_GENRELEASE_FK FOREIGN KEY (GENOMERELEASE_ID) REFERENCES GENOMERELEASE (GENOMERELEASE_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
GRANT SELECT ON ARCH_DNASEQUENCE_EXTENSION TO DBSELECT;
GRANT DELETE, INSERT, SELECT, UPDATE ON ARCH_DNASEQUENCE_EXTENSION TO CURATOR;
GRANT DELETE, INSERT, SELECT, UPDATE ON ARCH_DNASEQUENCE_EXTENSION TO AUXILIARY;

DROP TABLE ARCH_PROTEINSEQUENCEANNOTATION CASCADE CONSTRAINTS;
CREATE TABLE ARCH_PROTEINSEQUENCEANNOTATION (
ANNOTATION_ID INTEGER NOT NULL,
DBENTITY_ID INTEGER NOT NULL,
SOURCE_ID INTEGER NOT NULL,
REFERENCE_ID INTEGER,
TAXONOMY_ID INTEGER,
BUD_ID INTEGER,
RESIDUES CLOB NOT NULL,
SEQ_VERSION DATE,
COORD_VERSION DATE,
GENOMERELEASE_ID INTEGER,
MOLECULAR_WEIGHT NUMBER(7),
PI DECIMAL(4,2),
CAI DECIMAL(4,3),
N_TERM_SEQ VARCHAR2(10) NOT NULL,
C_TERM_SEQ VARCHAR2(10) NOT NULL,
CODON_BIAS DECIMAL(4,3),
FOP_SCORE DECIMAL(4,3),
GRAVY_SCORE DECIMAL(7,6),
AROMATICITY_SCORE DECIMAL(7,6),
ALIPHATIC_INDEX DECIMAL(3,2),
INSTABILITY_INDEX DECIMAL(3,2),
ALA NUMBER(4) NOT NULL,
ARG NUMBER(4) NOT NULL,
ASN NUMBER(4) NOT NULL,
ASP NUMBER(4) NOT NULL,
CYS NUMBER(4) NOT NULL,
GLN NUMBER(4) NOT NULL,
GLU NUMBER(4) NOT NULL,
GLY NUMBER(4) NOT NULL,
HIS NUMBER(4) NOT NULL,
ILE NUMBER(4) NOT NULL,
LEU NUMBER(4) NOT NULL,
LYS NUMBER(4) NOT NULL,
MET NUMBER(4) NOT NULL,
PHE NUMBER(4) NOT NULL,
PRO NUMBER(4) NOT NULL,
THR NUMBER(4) NOT NULL,
SER NUMBER(4) NOT NULL,
TRP NUMBER(4) NOT NULL,
TYR NUMBER(4) NOT NULL,
VAL NUMBER(4) NOT NULL,
HYDROGEN NUMBER(4),
SULFUR NUMBER(4),
NITROGEN NUMBER(4),
OXYGEN NUMBER(4),
CARBON NUMBER(4),
NO_CYS_EXT_COEFF NUMBER(6),
ALL_CYS_EXT_COEFF NUMBER(6),
HEADER VARCHAR2(200),
FILENAME VARCHAR2(200),
DATE_CREATED DATE DEFAULT SYSDATE NOT NULL,
CREATED_BY VARCHAR2(12) DEFAULT SUBSTR(USER,1,12) NOT NULL,
DATE_ARCHIVED DATE DEFAULT SYSDATE NOT NULL,
CONSTRAINT ARCH_PROTEINSEQUENCEANN_PK PRIMARY KEY (ANNOTATION_ID),
CONSTRAINT ARCH_PROTEINSEQUENCEANN_UK UNIQUE (DBENTITY_ID, TAXONOMY_ID) ) TABLESPACE DATA11;
CREATE INDEX ARCHPROTSEQANN_REF_FK_INDEX ON ARCH_PROTEINSEQUENCEANNOTATION (REFERENCE_ID) TABLESPACE DATA11;
CREATE INDEX ARCHPROTSEQANN_TAX_FK_INDEX ON ARCH_PROTEINSEQUENCEANNOTATION (TAXONOMY_ID) TABLESPACE DATA11;
CREATE INDEX ARCHPROTSEQANN_SOURCE_FK_INDEX ON ARCH_PROTEINSEQUENCEANNOTATION (SOURCE_ID) TABLESPACE DATA11;
CREATE INDEX ARCHPROTSEQANN_GENREL_FK_INDEX ON ARCH_PROTEINSEQUENCEANNOTATION (GENOMERELEASE_ID) TABLESPACE DATA11;
ALTER TABLE ARCH_PROTEINSEQUENCEANNOTATION
ADD CONSTRAINT ARCHPROTSEQANNO_REF_FK FOREIGN KEY (REFERENCE_ID) REFERENCES REFERENCEDBENTITY (DBENTITY_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE ARCH_PROTEINSEQUENCEANNOTATION
ADD CONSTRAINT ARCHPROTSEQANNO_TAX_FK FOREIGN KEY (TAXONOMY_ID) REFERENCES TAXONOMY (TAXONOMY_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE ARCH_PROTEINSEQUENCEANNOTATION
ADD CONSTRAINT ARCHPROTSEQANNO_SOURCE_FK FOREIGN KEY (SOURCE_ID) REFERENCES SOURCE (SOURCE_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE ARCH_PROTEINSEQUENCEANNOTATION
ADD CONSTRAINT ARCHPROTSEQANNO_DBENTITY_FK FOREIGN KEY (DBENTITY_ID) REFERENCES DBENTITY (DBENTITY_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE ARCH_PROTEINSEQUENCEANNOTATION
ADD CONSTRAINT ARCHPROTSEQANNO_GENRELEASE_FK FOREIGN KEY (GENOMERELEASE_ID) REFERENCES GENOMERELEASE (GENOMERELEASE_ID)
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
GRANT SELECT ON ARCH_PROTEINSEQUENCEANNOTATION TO DBSELECT;
GRANT DELETE, INSERT, SELECT, UPDATE ON ARCH_PROTEINSEQUENCEANNOTATION TO CURATOR;
GRANT DELETE, INSERT, SELECT, UPDATE ON ARCH_PROTEINSEQUENCEANNOTATION TO AUXILIARY;
